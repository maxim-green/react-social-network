{"version":3,"sources":["components/_shared/Input/InputFile/InputFile.tsx","components/_forms/LoginForm.tsx","components/_shared/Input/InputCheckbox/InputCheckbox.tsx","api/user.api.ts","redux/reducers/users.reducer.ts","components/_shared/Input/InputImageCrop/InputImageCrop.tsx","components/_forms/ImageUploadForm/ImageUploadForm.tsx","components/_shared/Logo/Logo.module.scss","components/_shared/Card/Card.module.scss","components/Layout/SideBar/SidebarNavigation/SidebarNavigation.module.scss","assets/styles/breakpoints.module.scss","components/_shared/Form/Form.tsx","components/_shared/Button/Button.module.scss","redux/reducers/app.reducer.ts","components/Layout/Header/UserControl/UserControl.tsx","assets/images/logo.svg","components/_shared/Logo/Logo.tsx","components/Layout/Header/Header.tsx","components/Layout/SideBar/SidebarNavigation/SidebarNavigation.tsx","components/Layout/SideBar/SidebarSubscriptions/SidebarSubscriptions.tsx","components/Layout/BottomNavigation/BottomNavigation.tsx","components/Layout/Layout.tsx","components/_pages/HomePage.tsx","components/App.tsx","reportWebVitals.js","redux/store.ts","index.js","redux/reducers/auth.reducer.ts","api/core.api.ts","components/_shared/Form/Form.module.scss","api/socket.api.ts","api/dialog.api.ts","redux/reducers/dialogs.reducer.ts","components/_shared/Avatar/Avatar.module.scss","assets/styles/colors.module.scss","components/Layout/Layout.module.scss","api/auth.api.ts","components/Layout/BottomNavigation/BottomNavigation.module.scss","components/_shared/Card/Card.tsx","components/_shared/Avatar/Avatar.tsx","assets/images/avatar-default.jpg","components/_shared/Spinner/Spinner.tsx","components/Layout/Header/UserControl/UserControl.module.scss","components/_shared/Input/InputFile/InputFile.module.scss","components/_shared/ModalWindow/ModalWindow.module.scss","components/Layout/SideBar/SidebarSubscriptions/SidebarSubscriptions.module.scss","utils/hooks.ts","assets/styles/sizes.module.scss","components/_shared/ModalWindow/ModalWindow.tsx","components/Layout/Header/Header.module.scss","components/_shared/Spinner/Spinner.module.scss","components/_shared/Input/InputImageCrop/InputImageCrop.module.scss","components/_shared/Input/InputText/InputText.module.scss","components/_shared/Input/InputPassword/InputPassword.module.scss","components/_shared/Button/Button.tsx","components/_shared/Input/InputCheckbox/InputCheckbox.module.scss","utils/functions.ts","api/post.api.ts","redux/reducers/posts.reducer.ts","components/_shared/Input/InputText/InputText.tsx","components/_shared/Input/InputPassword/InputPassword.tsx","api/profile.api.ts","redux/reducers/profile.reducer.ts"],"names":["CustomInputFile","onChange","onDrop","useCallback","acceptedFiles","useDropzone","getRootProps","getInputProps","isDragActive","className","classes","inputFile","dragActive","inputFileBox","InputFile","name","label","rules","control","disabled","render","field","fieldState","required","error","file","LoginForm","onSubmit","errors","type","size","Text","LoginFormContainer","useSelector","state","auth","loginErrors","dispatch","useDispatch","loginFormData","login","InputCheckbox","labelPosition","checkbox","onBlur","box","userApi","coreApi","get","then","handleResponse","catch","handleError","userId","post","delete","initialState","users","subscribePendingUserIds","usersReducer","action","filter","usersActions","getUsers","a","res","resultCode","ResultCodes","success","data","console","log","subscribe","getAuthUserData","unsubscribe","InputImageCrop","aspect","srcFileUrl","ImageCrop","useState","zoom","setZoom","x","y","crop","setCrop","imageCrop","cropperContainer","image","showGrid","onCropComplete","croppedArea","croppedAreaPixels","onCropChange","onZoomChange","style","width","min","max","step","value","ImageUploadForm","closeModal","setSrcFileUrl","Form","Button","onClick","e","preventDefault","marginLeft","window","URL","createObjectURL","module","exports","children","initialValues","submitOnBlur","submitOnEnter","resetAfterSubmit","useForm","defaultValues","mode","handleSubmit","reset","setError","watch","setValue","formError","setFormError","useEffect","find","forEach","message","childrenWithProps","React","Children","map","child","isValidElement","cloneElement","submit","wrapper","onKeyDown","key","ctrlKey","elementName","target","elementValue","FormRow","align","classnames","row","Item","item","labelRequired","labelText","formItemError","initialized","appActions","UserControl","props","isOpened","setIsOpened","addEventListener","userControl","to","username","Avatar","smallImg","avatar","online","userControlDropdown","userControlUsername","stopPropagation","userControlList","logout","Logo","logo","src","alt","Header","header","authorized","List","SidebarNavigation","unreadMessagesCount","dialogs","Card","Navigation","Icon","Badge","SidebarSubscriptions","subscriptions","sidebarFriends","Title","Avatars","length","sub","small","checkOnline","updatedAt","firstName","_id","Link","BottomNavigation","color","colors","textLight","Layout","sidebar","background","authUserName","authUserAvatar","onLogout","tablet","useBreakpoint","layout","padding","Container","container","AppBar","appBar","Main","main","Content","content","Sidebar","LayoutContainer","authUserSubscriptions","user","HomePage","useAuthCheck","RegistrationPage","lazy","LoginPage","ProfilePage","UsersPage","DialogsPage","PostPage","FeedPage","TestPage","FormTestPage","App","fallback","path","exact","component","AppSpinner","height","display","justifyContent","alignItems","Spinner","thickness","AppContainer","app","Promise","all","startMessagesListening","stopMessagesListening","fullscreen","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","authReducer","profile","profileReducer","posts","postsReducer","dialogsReducer","store","createStore","applyMiddleware","thunkMiddleware","s","ReactDOM","document","getElementById","registrationErrors","registrationSuccessful","authActions","setUser","clearUser","setRegistrationSuccessful","setRegistrationErrors","setLoginErrors","authApi","me","expiredToken","register","registrationData","process","axios","create","baseURL","withCredentials","err","response","serverMessageSubscribers","unreadMessagesSubscribers","notAuthorizedSubscribers","authorizedSubscribers","connectSubscribers","socket","io","autoConnect","reconnection","on","serverMessageResponse","unreadMessagesResponse","socketApi","connected","connect","disconnect","connectCallback","serverMessageCallback","unreadMessagesCallback","notAuthorizedCallback","authorizedCallback","push","dialogId","emit","dialogApi","messageId","patch","currentDialogId","messages","cachedMessage","dialog","updated","date","isRead","text","dialogsActions","connectHandlerCreator","getState","sendMessage","messageHandlerCreator","unreadMessagesHandlerCreator","notAuthorizedHandlerCreator","refreshToken","authorizedHandlerCreator","getDialogs","openDialog","closeDialog","readMessage","loginData","interceptors","use","originalConfig","config","status","_retry","reject","maxWidth","largeImg","border","shadow","onEdit","zoomable","editable","editModalOpened","setEditModalOpened","zoomModalOpened","setZoomModalOpened","onEditClick","undefined","onZoomClick","photo","onLineIndicator","open","onClose","img","EditAvatarModalWindow","ModalWindow","ZoomAvatarModalWindow","close","AvatarButtons","buttons","borderWidth","borderLeftColor","borderBottomColor","borderRightColor","spinner","setWidth","updateDimensions","innerWidth","breakpointsObject","Object","entries","breakpoints","Number","parseInt","title","modal","nested","contentStyle","borderRadius","closeOnDocumentClick","button","marginBottom","primary","secondary","neutral","cancel","link","buttonSpinner","contentIcon","contentText","spinnerColor","fontLight","fontDark","spinnerSizes","sm","sizes","btnSmall","md","btnMedium","lg","btnLarge","spinnerSize","badge","formatDate","format","moment","lastSeenDate","currentDate","Date","getTime","trimString","slice","postApi","postId","id","commentId","isAddPostPending","postsActions","reducer","isPending","lastName","now","toString","likes","comments","comment","includes","getPost","getFeedPosts","getUserPosts","addPost","authError","deletePost","addPostLike","deletePostLike","addPostComment","deletePostComment","InputText","autoFocus","placeholder","input","InputPassword","profileApi","profileData","put","formData","profileActions","userProfileData","bio","birthDate","location","contacts","coverImage","getUserData","updateStatus","updateProfile","updateAvatar","updateCoverImage"],"mappings":"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","file":"static/js/main.259bf504.chunk.js","sourcesContent":["import {Controller, RegisterOptions} from 'react-hook-form'\r\nimport {Control} from 'react-hook-form/dist/types/form'\r\nimport React, {useCallback} from 'react'\r\nimport {useDropzone} from 'react-dropzone'\r\nimport classes from './InputFile.module.scss'\r\nimport {Item} from 'components/_shared/Form/Form'\r\n\r\nexport const CustomInputFile: React.FC<{ onChange: (file: File) => void }> = (({\r\n                                                                                   onChange\r\n                                                                               }) => {\r\n    const onDrop = useCallback(acceptedFiles => {\r\n        onChange && onChange(acceptedFiles[0])\r\n    }, [onChange])\r\n    const {getRootProps, getInputProps, isDragActive} = useDropzone({onDrop})\r\n\r\n    return (\r\n        <div className={classes.inputFile + (isDragActive ? ' ' + classes.dragActive : '')} {...getRootProps()}>\r\n            <input {...getInputProps()}/>\r\n            {\r\n                isDragActive ?\r\n                    <span className={classes.inputFileBox}>Drop your files here...</span> :\r\n                    <span className={classes.inputFileBox}>Drop your files here or click to select files</span>\r\n            }\r\n        </div>\r\n    )\r\n})\r\ntype InputFilePropsType = {\r\n    name: string,\r\n    label?: string,\r\n    rules?: RegisterOptions,\r\n    control?: Control,\r\n    rows?: number,\r\n    disabled?: boolean,\r\n    onChange?: (file: File) => void\r\n}\r\nexport const InputFile: React.FC<InputFilePropsType> = ({\r\n                                                            name,\r\n                                                            label,\r\n                                                            rules,\r\n                                                            control,\r\n                                                            disabled = false,\r\n                                                            onChange\r\n                                                        }) => {\r\n    return <Controller\r\n        control={control}\r\n        name={name}\r\n        rules={rules}\r\n        render={({field, fieldState}) => {\r\n            const handleChange = (file: File) => {\r\n                onChange && onChange(file)\r\n                field.onChange(file)\r\n            }\r\n            return <Item label={label} required={!!rules?.required} error={fieldState.error}\r\n                         disabled={disabled}>\r\n                <CustomInputFile onChange={handleChange}/>\r\n            </Item>\r\n        }}\r\n    />\r\n}","import React from 'react'\r\nimport {login} from 'redux/reducers/auth.reducer'\r\nimport {LoginDataType} from 'api/auth.api'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {ThunkDispatch} from 'redux-thunk'\r\nimport {StateType} from 'redux/store'\r\nimport {AuthActionType} from 'redux/reducers/auth.reducer'\r\nimport {Button} from 'components/_shared/Button/Button'\r\nimport {Form, FormRow} from 'components/_shared/Form/Form'\r\nimport {InputText} from 'components/_shared/Input/InputText/InputText'\r\nimport {InputPassword} from 'components/_shared/Input/InputPassword/InputPassword'\r\nimport {InputCheckbox} from 'components/_shared/Input/InputCheckbox/InputCheckbox'\r\nimport {ServerValidationErrorType} from 'types/types'\r\n\r\ntype PropsType = {\r\n    onSubmit: (loginFormData: LoginDataType) => void\r\n    errors?: Array<ServerValidationErrorType>\r\n}\r\n\r\nconst LoginForm: React.FC<PropsType> = ({onSubmit, errors}) => {\r\n    return (\r\n        <Form onSubmit={onSubmit} errors={errors}>\r\n            <FormRow>\r\n                <InputText name={'email'} label={'E-mail'} rules={{required: true}}/>\r\n            </FormRow>\r\n            <FormRow>\r\n                <InputPassword name={'password'} label={'Password'} rules={{required: true}}/>\r\n            </FormRow>\r\n            <FormRow>\r\n                <InputCheckbox name={'rememberMe'} label={'Remember me'}/>\r\n            </FormRow>\r\n            <FormRow>\r\n                <Button type='primary' size='lg'>\r\n                    <Button.Text>Log in</Button.Text>\r\n                </Button>\r\n            </FormRow>\r\n        </Form>\r\n    )\r\n}\r\n\r\n\r\nconst LoginFormContainer: React.FC = () => {\r\n    const errors = useSelector((state: StateType) => state.auth.loginErrors)\r\n    const dispatch: ThunkDispatch<StateType, LoginDataType, AuthActionType> = useDispatch()\r\n\r\n    const onSubmit = (loginFormData: LoginDataType) => {\r\n        dispatch(login(loginFormData))\r\n    }\r\n\r\n    return <LoginForm onSubmit={onSubmit} errors={errors}/>\r\n}\r\n\r\nexport default LoginFormContainer\r\n","import {Controller, RegisterOptions} from 'react-hook-form'\r\nimport {Control} from 'react-hook-form/dist/types/form'\r\nimport React from 'react'\r\nimport classes from './InputCheckbox.module.scss'\r\nimport {Item} from 'components/_shared/Form/Form'\r\n\r\ntype CheckboxPropsType = {\r\n    name: string,\r\n    label?: string,\r\n    rules?: RegisterOptions,\r\n    control?: Control,\r\n    rows?: number,\r\n    disabled?: boolean\r\n}\r\n\r\nexport const InputCheckbox: React.FC<CheckboxPropsType> = ({\r\n                                                          name,\r\n                                                          label,\r\n                                                          rules,\r\n                                                          control,\r\n                                                          disabled = false\r\n                                                      }) => {\r\n    return <Controller\r\n        control={control}\r\n        name={name}\r\n        rules={rules}\r\n        render={({field, fieldState}) => <Item label={label} required={!!rules?.required} error={fieldState.error}\r\n                                               labelPosition='right' disabled={disabled}>\r\n            <div className={classes.checkbox}>\r\n                <input\r\n                    type=\"checkbox\"\r\n                    name={name}\r\n                    onChange={field.onChange}\r\n                    onBlur={field.onBlur}\r\n                    disabled={disabled}\r\n                />\r\n                <span className={classes.box}/>\r\n            </div>\r\n        </Item>}\r\n    />\r\n}","import {coreApi, handleError, handleResponse} from './core.api'\r\nimport {UserItemDataType} from '../types/types'\r\n\r\n// GET /users/\r\n// used for getting users list on users page\r\nexport type UsersDataType = {\r\n    users: Array<UserItemDataType>\r\n}\r\n\r\nexport const userApi = {\r\n    getUsers: () => coreApi\r\n        .get('/user')\r\n        .then(handleResponse<UsersDataType>())\r\n        .catch(handleError()),\r\n    subscribe: (userId: string) => coreApi\r\n        .post(`/subscription/${userId}`)\r\n        .then(handleResponse())\r\n        .catch(handleError()),\r\n    unsubscribe: (userId: string) => coreApi\r\n        .delete(`/subscription/${userId}`)\r\n        .then(handleResponse())\r\n        .catch(handleError())\r\n}","import {UserItemDataType} from 'types/types'\r\nimport {userApi} from 'api/user.api'\r\nimport {ResultCodes} from 'api/core.api'\r\nimport {InferActionsTypes, ThunkType} from '../store'\r\nimport {getAuthUserData} from 'redux/reducers/auth.reducer'\r\n\r\n// INITIAL STATE\r\nconst initialState = {\r\n    users: [] as Array<UserItemDataType>,\r\n    subscribePendingUserIds: [] as Array<string>\r\n}\r\nexport type UsersStateType = typeof initialState\r\n\r\n// REDUCER\r\nexport const usersReducer = (state: UsersStateType = initialState, action: UsersActionType): UsersStateType => {\r\n    switch (action.type) {\r\n        case 'rsn/users/SET_USERS': {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n        case 'rsn/users/ADD_SUBSCRIBE_PENDING_USER_ID': {\r\n            return {\r\n                ...state,\r\n                subscribePendingUserIds: [...state.subscribePendingUserIds, action.userId]\r\n            }\r\n        }\r\n        case 'rsn/users/DELETE_SUBSCRIBE_PENDING_USER_ID': {\r\n            return {\r\n                ...state,\r\n                subscribePendingUserIds: state.subscribePendingUserIds.filter(userId => userId !== action.userId)\r\n            }\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\n//region ACTION CREATORS\r\nexport const usersActions = {\r\n    setUsers: (users: Array<UserItemDataType>) => ({type: 'rsn/users/SET_USERS', users} as const),\r\n    addSubscribePendingUserId: (userId: string) => ({type: 'rsn/users/ADD_SUBSCRIBE_PENDING_USER_ID', userId} as const),\r\n    deleteSubscribePendingUserId: (userId: string) => ({type: 'rsn/users/DELETE_SUBSCRIBE_PENDING_USER_ID', userId} as const)\r\n}\r\nexport type UsersActionType = ReturnType<InferActionsTypes<typeof usersActions>>\r\n//endregion\r\n\r\n//region THUNK CREATORS\r\nexport const getUsers = (): ThunkType<UsersActionType> => async (dispatch) => {\r\n    const res = await userApi.getUsers()\r\n    if (res.resultCode === ResultCodes.success) {\r\n        dispatch(usersActions.setUsers(res.data.users))\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\n\r\nexport const subscribe = (userId: string): ThunkType<UsersActionType> => async (dispatch) => {\r\n    dispatch(usersActions.addSubscribePendingUserId(userId))\r\n    const res = await userApi.subscribe(userId)\r\n    dispatch(usersActions.deleteSubscribePendingUserId(userId))\r\n    if (res.resultCode === ResultCodes.success) {\r\n        dispatch(getAuthUserData())\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\n\r\nexport const unsubscribe = (userId: string): ThunkType<UsersActionType> => async (dispatch) => {\r\n    dispatch(usersActions.addSubscribePendingUserId(userId))\r\n    const res = await userApi.unsubscribe(userId)\r\n    dispatch(usersActions.deleteSubscribePendingUserId(userId))\r\n    if (res.resultCode === ResultCodes.success) {\r\n        dispatch(getAuthUserData())\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\n//endregion","import React, {useState} from 'react'\r\nimport {Controller, RegisterOptions} from 'react-hook-form'\r\nimport {Area, Point} from 'react-easy-crop/types'\r\nimport {Control} from 'react-hook-form/dist/types/form'\r\nimport classes from './InputImageCrop.module.scss'\r\nimport Cropper from 'react-easy-crop'\r\nimport Slider from 'rc-slider'\r\nimport 'rc-slider/assets/index.css';\r\nimport {Item} from 'components/_shared/Form/Form'\r\n\r\ntype InputImageCropPropsType = {\r\n    name: string,\r\n    label?: string,\r\n    rules?: RegisterOptions,\r\n    control?: Control,\r\n    aspect?: number,\r\n    srcFileUrl: string\r\n    disabled?: boolean,\r\n    onChange?: (crop: Area) => void\r\n}\r\nexport const InputImageCrop: React.FC<InputImageCropPropsType> = ({\r\n                                                                      name,\r\n                                                                      label,\r\n                                                                      rules,\r\n                                                                      control,\r\n                                                                      disabled = false,\r\n                                                                      onChange,\r\n                                                                      aspect = 1,\r\n                                                                      srcFileUrl\r\n                                                                  }) => {\r\n    return <Controller\r\n        control={control}\r\n        name={name}\r\n        rules={rules}\r\n        render={({field, fieldState}) => {\r\n            return <Item label={label} required={!!rules?.required} error={fieldState.error}\r\n                         disabled={disabled}>\r\n                <ImageCrop aspect={aspect} srcFileUrl={srcFileUrl}\r\n                           onChange={field.onChange}/>\r\n            </Item>\r\n        }}\r\n    />\r\n}\r\ntype ImageCropPropsType = {\r\n    aspect: number\r\n    srcFileUrl?: string\r\n    onChange?: (value: Area) => void\r\n}\r\nconst ImageCrop: React.FC<ImageCropPropsType> = ({aspect, srcFileUrl, onChange}) => {\r\n    const [zoom, setZoom] = useState<number>(1)\r\n    const [crop, setCrop] = useState<Point>({\r\n        x: 0,\r\n        y: 0\r\n    } as Point)\r\n\r\n    const onCropComplete = (croppedArea: Area, croppedAreaPixels: Area) => {\r\n        onChange && onChange(croppedAreaPixels)\r\n    }\r\n\r\n    const sliderChangeHandler = (value: number) => {\r\n        setZoom(value)\r\n    }\r\n    return (\r\n        <div className={classes.imageCrop}>\r\n            <div className={classes.cropperContainer}>\r\n                {srcFileUrl && <Cropper\r\n                    image={srcFileUrl}\r\n                    crop={crop}\r\n                    zoom={zoom}\r\n                    showGrid={false}\r\n                    aspect={aspect}\r\n                    onCropComplete={onCropComplete}\r\n                    onCropChange={setCrop}\r\n                    onZoomChange={setZoom}\r\n                />}\r\n            </div>\r\n            <div style={{width: '100%'}}>\r\n                Use this slider to zoom your image\r\n                <Slider\r\n                    min={1}\r\n                    max={3}\r\n                    step={0.01}\r\n                    value={zoom}\r\n                    onChange={sliderChangeHandler}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useState} from 'react'\r\nimport {Area} from 'react-easy-crop/types'\r\nimport {Button} from 'components/_shared/Button/Button'\r\nimport {Form, FormRow} from 'components/_shared/Form/Form'\r\nimport {InputFile} from 'components/_shared/Input/InputFile/InputFile'\r\nimport {InputImageCrop} from 'components/_shared/Input/InputImageCrop/InputImageCrop'\r\n\r\n\r\ntype PropsType = {\r\n    aspect: number\r\n    onSubmit: (image: File, cropArea: Area) => void\r\n    closeModal?: () => void\r\n}\r\n\r\nconst ImageUploadForm: React.FC<PropsType> = ({aspect, onSubmit, closeModal}) => {\r\n    const [srcFileUrl, setSrcFileUrl] = useState<string | null>(null)\r\n\r\n    const fileChangeHandler = (file: File) => {\r\n        setSrcFileUrl(window.URL.createObjectURL(file))\r\n    }\r\n\r\n    const submit = (data: { file: File, crop: Area }) => {\r\n        onSubmit(data.file, data.crop)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n\r\n            <Form onSubmit={submit}>\r\n                <FormRow>\r\n                    {srcFileUrl && <Button size=\"lg\">\r\n                        <Button.Text>\r\n                            Save\r\n                        </Button.Text>\r\n                    </Button>}\r\n\r\n                    {srcFileUrl && <Button type='secondary' size=\"lg\" onClick={(e) => {\r\n                        e.preventDefault()\r\n                        setSrcFileUrl(null)}}\r\n                    >\r\n                        <Button.Text>Choose other image</Button.Text>\r\n                    </Button>}\r\n\r\n                    <div style={{marginLeft: 'auto'}}>\r\n                        {closeModal && <Button type={'cancel'} size='lg' onClick={closeModal}>\r\n                            <Button.Text>Close</Button.Text>\r\n                        </Button>}\r\n                    </div>\r\n                </FormRow>\r\n\r\n                {!srcFileUrl && <FormRow>\r\n                    <InputFile\r\n                        name={'file'}\r\n                        label={'Drop your files in the area below'}\r\n                        rules={{required: true}}\r\n                        onChange={fileChangeHandler}\r\n                    />\r\n                </FormRow>}\r\n\r\n                {srcFileUrl && <FormRow>\r\n                    <InputImageCrop\r\n                        name={'crop'}\r\n                        aspect={aspect}\r\n                        srcFileUrl={srcFileUrl}\r\n                    />\r\n                </FormRow>}\r\n\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImageUploadForm","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"Logo_dark__3VTn1\",\"logo\":\"Logo_logo__UYdoF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"Card_dark__8GUj6\",\"Card\":\"Card_Card__3m6Ze\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"SidebarNavigation_dark__2zbEV\",\"Navigation\":\"SidebarNavigation_Navigation__3RDFd\",\"NavigationTitle\":\"SidebarNavigation_NavigationTitle__2eaY9\",\"NavigationList\":\"SidebarNavigation_NavigationList__TM9dC\",\"NavigationItem\":\"SidebarNavigation_NavigationItem__EcQIr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"phone\":\"400\",\"phoneWide\":\"480\",\"phoneTablet\":\"560\",\"tabletSmall\":\"640\",\"tablet\":\"768\",\"tabletWide\":\"1024\",\"desktop\":\"1248\",\"desktopWide\":\"1440\",\"dark\":\"breakpoints_dark__305np\"};","import React, {useEffect, useState} from 'react'\r\nimport classes from 'components/_shared/Form/Form.module.scss'\r\nimport classnames from 'classnames'\r\nimport {useForm} from 'react-hook-form'\r\nimport {Control} from 'react-hook-form/dist/types/form'\r\nimport {FieldError} from 'react-hook-form/dist/types'\r\nimport {ServerValidationErrorType} from 'types/types'\r\n\r\n\r\ntype FormPropsType = {\r\n    onSubmit: (data: any) => void\r\n    initialValues?: { [key: string]: any }\r\n    errors?: Array<ServerValidationErrorType>\r\n    resetAfterSubmit?: boolean\r\n    submitOnBlur?: boolean\r\n    submitOnEnter?: boolean\r\n}\r\ntype RowPropsType = {\r\n    control?: Control,\r\n    align?: 'fill' | 'left' | 'right' | 'center'\r\n}\r\ntype ItemPropsType = {\r\n    label?: string,\r\n    labelPosition?: 'top' | 'left' | 'right'\r\n    required?: boolean,\r\n    disabled?: boolean,\r\n    error?: FieldError,\r\n    align?: 'fill' | 'left' | 'right' | 'center'\r\n}\r\nexport const Form: React.FC<FormPropsType> = ({\r\n                                                   onSubmit,\r\n                                                   children,\r\n                                                   initialValues,\r\n                                                  errors= [],\r\n                                                   submitOnBlur = false,\r\n                                                    submitOnEnter = false,\r\n    resetAfterSubmit = false\r\n                                               }) => {\r\n    const {control, handleSubmit, reset, setError, watch, setValue} = useForm({\r\n        defaultValues: {\r\n            ...initialValues\r\n        },\r\n        mode: 'onBlur'\r\n    })\r\n    const [formError, setFormError] = useState<ServerValidationErrorType | null>(null)\r\n    useEffect(() => {\r\n        setFormError(errors.find(error => error.field === 'form') || null)\r\n        errors.forEach(({field, message}) => setError(field, {type: 'server', message}))\r\n    }, [errors, setError])\r\n\r\n    const childrenWithProps = React.Children.map(children, child => {\r\n        if (React.isValidElement(child)) {\r\n            return React.cloneElement(child, {control})\r\n        }\r\n        return child\r\n    })\r\n\r\n    const submit = (data: { [key: string]: any }) => {\r\n        onSubmit(data)\r\n        if (resetAfterSubmit) reset()\r\n    }\r\n\r\n    const onBlurHandler = () => {\r\n        if (submitOnBlur) handleSubmit(submit)()\r\n    }\r\n\r\n    const onKeyDownHandler = (e: any) => {\r\n\r\n        // handle 'Enter' key\r\n        if (e.key === 'Enter') {\r\n            if (submitOnEnter && e.ctrlKey) {\r\n                const elementName = e.target.name\r\n                const elementValue = watch(elementName)\r\n                setValue(elementName, elementValue + '\\n')\r\n            }\r\n\r\n            if (submitOnEnter && !e.ctrlKey) {\r\n                e.preventDefault()\r\n                handleSubmit(submit)()\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    return <form className={classes.wrapper} onSubmit={handleSubmit(submit)} onBlur={onBlurHandler} onKeyDown={onKeyDownHandler}>\r\n        {formError && <FormRow><span className={classes.formError}>{formError.message}</span></FormRow>}\r\n        {childrenWithProps}\r\n    </form>\r\n}\r\n\r\n\r\n\r\nexport const FormRow: React.FC<RowPropsType> = ({\r\n                                                     children,\r\n                                                     control,\r\n                                                     align = 'fill'\r\n                                                 }) => {\r\n    const childrenWithProps = React.Children.map(children, child => {\r\n        if (React.isValidElement(child)) {\r\n            return React.cloneElement(child, {control, align})\r\n        }\r\n        return child\r\n    })\r\n\r\n    return <div className={classnames(\r\n        classes.row,\r\n        {[classes[align]]: align}\r\n    )}>\r\n        {childrenWithProps}\r\n    </div>\r\n}\r\n\r\n\r\n\r\nexport const Item: React.FC<ItemPropsType> = ({\r\n                                                  children,\r\n                                                  label,\r\n                                                  labelPosition = 'top',\r\n                                                  required = false,\r\n                                                  disabled = false,\r\n                                                  error, align = 'fill'\r\n                                              }) => {\r\n    return <label className={classnames(classes.item, {[classes[labelPosition]]: labelPosition})}>\r\n        <div className={classnames(classes.label, {[classes.disabled]: disabled})}>\r\n            {required && <span className={classes.labelRequired}>*</span>}\r\n            <span className={classes.labelText}>{label}</span>\r\n            {error?.type === 'required' && <span className={classes.formItemError}>This field is required</span>}\r\n            {error?.type === 'server' && <span className={classes.formItemError}>{error.message}</span>}\r\n        </div>\r\n        {children}\r\n    </label>\r\n}\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"Button_dark__2RGq5\",\"button\":\"Button_button__weADF\",\"sm\":\"Button_sm__13lnr\",\"md\":\"Button_md__1Bgru\",\"lg\":\"Button_lg__2FVH1\",\"xl\":\"Button_xl__1XaK_\",\"spinner\":\"Button_spinner__1U8Il\",\"primary\":\"Button_primary__195PU\",\"secondary\":\"Button_secondary__37cSb\",\"neutral\":\"Button_neutral__1TlXs\",\"text\":\"Button_text__1ZbWk\",\"link\":\"Button_link__2MQ8w\",\"cancel\":\"Button_cancel__2nTg_\",\"content\":\"Button_content__16b-2\",\"contentText\":\"Button_contentText__3AFXE\",\"contentIcon\":\"Button_contentIcon__2zRhF\",\"buttonSpinner\":\"Button_buttonSpinner__2OjyC\",\"badge\":\"Button_badge__1AQCE\"};","import {getAuthUserData} from './auth.reducer'\r\nimport {InferActionsTypes, ThunkType} from '../store'\r\nimport {startMessagesListening, stopMessagesListening} from './dialogs.reducer'\r\n\r\n// INITIAL STATE\r\nconst initialState = {\r\n    initialized: false\r\n}\r\ntype AppStateType = typeof initialState\r\n\r\n// REDUCER\r\nexport const appReducer = (state: AppStateType = initialState, action: AppActionType): AppStateType => {\r\n    switch (action.type) {\r\n        case 'rsn/app/INITIALIZE_APP': {\r\n            return {\r\n                ...state,\r\n                initialized: action.initialized\r\n            }\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\n//region ACTION CREATORS\r\nexport const appActions = {\r\n    setInitialized: (initialized: boolean) => ({type: 'rsn/app/INITIALIZE_APP', initialized} as const)\r\n}\r\nexport type AppActionType = ReturnType<InferActionsTypes<typeof appActions>>\r\n//endregion\r\n\r\n//region THUNK CREATORS\r\nexport const initializeApp = (): ThunkType<AppActionType> => async (dispatch) => {\r\n    await Promise.all([ // put all that needed to be checked to init app inside this array\r\n        dispatch(getAuthUserData()),\r\n        dispatch(startMessagesListening())\r\n    ])\r\n    dispatch(appActions.setInitialized(true))\r\n}\r\n\r\nexport const deinitializeApp = (): ThunkType<AppActionType> => async (dispatch) => {\r\n    dispatch(stopMessagesListening())\r\n    dispatch(appActions.setInitialized(false))\r\n}\r\n//endregion","import React, {useState} from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport classes from \"components/Layout/Header/UserControl/UserControl.module.scss\";\r\nimport {Avatar} from \"components/_shared/Avatar/Avatar\";\r\nimport {Button} from 'components/_shared/Button/Button'\r\n\r\ntype PropsType = {\r\n    username?: string\r\n    avatar?: string | null\r\n    logout: () => void\r\n}\r\n\r\nexport const UserControl: React.FC<PropsType> = (props) => {\r\n    const [isOpened, setIsOpened] = useState(false)\r\n\r\n    const clickHandler = (e: React.MouseEvent) => {\r\n        e.stopPropagation()\r\n        setIsOpened(!isOpened)\r\n    }\r\n\r\n    window.addEventListener('click', () => {\r\n        setIsOpened(false)\r\n    })\r\n\r\n    return (\r\n        <div className={classes.userControl}>\r\n            <NavLink to={`/profile/${props.username}`}><Avatar smallImg={props.avatar} online size={30}/></NavLink>\r\n            <div className={classes.userControlDropdown}>\r\n                <button className={classes.userControlUsername} onClick={clickHandler}>{props.username}</button>\r\n                {isOpened && <div className={classes.userControlList}>\r\n                    <ul>\r\n                        <li><NavLink to='/settings'><Button type=\"text\">Settings</Button></NavLink></li>\r\n                        <li><Button type=\"text\" onClick={() => props.logout()}>Logout</Button></li>\r\n                    </ul>\r\n                </div>}\r\n            </div>\r\n        </div>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/logo.e4a842eb.svg\";","import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\nimport classes from './Logo.module.scss'\r\nimport logo from 'assets/images/logo.svg'\r\n\r\nexport const Logo: React.FC = () => <div className={classes.logo}>\r\n    <NavLink to='/'>\r\n        <img src={logo} alt=\"Bind\"/>\r\n    </NavLink>\r\n</div>","import React from 'react'\r\nimport classes from 'components/Layout/Header/Header.module.scss'\r\nimport {UserControl} from 'components/Layout/Header/UserControl/UserControl'\r\nimport {Logo} from 'components/_shared/Logo/Logo'\r\n\r\ntype PropsType = {\r\n    authorized: boolean\r\n    username?: string\r\n    avatar?: string | null\r\n    logout: () => void\r\n}\r\n\r\nconst Header: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <div className={classes.header}>\r\n            <Logo/>\r\n            {props.authorized && <div className={classes.userControl}>\r\n                <UserControl username={props.username} avatar={props.avatar} logout={props.logout}/>\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header","import {NavLink} from 'react-router-dom'\r\nimport React from 'react'\r\nimport classes from 'components/Layout/SideBar/SidebarNavigation/SidebarNavigation.module.scss'\r\n\r\nimport {Card} from 'components/_shared/Card/Card'\r\nimport {PersonLinesFill, ChatLeftTextFill, PeopleFill, GearWide, HouseDoorFill} from 'react-bootstrap-icons'\r\nimport {Button} from 'components/_shared/Button/Button'\r\nimport {useSelector} from 'react-redux'\r\nimport {StateType} from '../../../../redux/store'\r\n\r\ntype PropsType = {}\r\n\r\nconst SidebarNavigation: React.FC<PropsType> = () => {\r\n    const unreadMessagesCount = useSelector((state: StateType) => state.dialogs.unreadMessagesCount)\r\n\r\n    return (\r\n        <Card>\r\n            <div className={classes.Navigation}>\r\n                <List>\r\n                    <Item to='/feed'>\r\n                        <Button type={'link'} size={'lg'}>\r\n                            <Button.Icon><HouseDoorFill/></Button.Icon>\r\n                            <Button.Text>Feed</Button.Text>\r\n                        </Button>\r\n                    </Item>\r\n                    <Item to='/profile'>\r\n                        <Button type={'link'} size={'lg'}>\r\n                            <Button.Icon><PersonLinesFill/></Button.Icon>\r\n                            <Button.Text>Profile</Button.Text>\r\n                        </Button>\r\n                    </Item>\r\n                    <Item to='/dialogs'>\r\n                        <Button type={'link'} size={'lg'}>\r\n                            <Button.Icon><ChatLeftTextFill/></Button.Icon>\r\n                            <Button.Text>Dialogs</Button.Text>\r\n                            {!!unreadMessagesCount && <Button.Badge>{unreadMessagesCount}</Button.Badge>}\r\n                        </Button>\r\n                    </Item>\r\n                    <Item to='/users'>\r\n                        <Button type={'link'} size={'lg'}>\r\n                            <Button.Icon><PeopleFill/></Button.Icon>\r\n                            <Button.Text>Users</Button.Text>\r\n                        </Button>\r\n                    </Item>\r\n                    <Item to='/settings'>\r\n                        <Button type={'link'} size={'lg'}>\r\n                            <Button.Icon><GearWide/></Button.Icon>\r\n                            <Button.Text>Settings</Button.Text>\r\n                        </Button>\r\n                    </Item>\r\n                </List>\r\n            </div>\r\n        </Card>\r\n    )\r\n}\r\n\r\nconst List: React.FC = ({children}) => {\r\n    return (\r\n        <ul>\r\n            {children}\r\n        </ul>\r\n    )\r\n}\r\n\r\nconst Item: React.FC<{to: string}> = ({to, children}) => {\r\n    return (\r\n        <li>\r\n            <NavLink to={to}>\r\n                {children}\r\n            </NavLink>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default SidebarNavigation\r\n","import React from 'react'\r\nimport classes from 'components/Layout/SideBar/SidebarSubscriptions/SidebarSubscriptions.module.scss'\r\nimport {Card} from 'components/_shared/Card/Card'\r\nimport {Avatar} from 'components/_shared/Avatar/Avatar'\r\nimport {NavLink} from 'react-router-dom'\r\nimport {UserItemDataType} from 'types/types'\r\nimport {checkOnline} from 'utils/functions'\r\n\r\ntype PropsType = {\r\n    subscriptions: Array<UserItemDataType>\r\n}\r\n\r\nconst SidebarSubscriptions: React.FC<PropsType> = ({subscriptions}) => {\r\n    return (\r\n        <Card>\r\n            <div className={classes.sidebarFriends}>\r\n                <div className={classes.Title}>Subscriptions</div>\r\n                <div className={classes.Avatars}>\r\n                    {subscriptions.length !== 0 && subscriptions.map(sub => <NavLink to={`/profile/${sub.username}`}\r\n                                                                            key={sub._id}>\r\n                            <Avatar smallImg={sub.avatar.small} online={checkOnline(sub.updatedAt)} size={50} name={sub.firstName}/>\r\n                        </NavLink>\r\n                    )}\r\n                </div>\r\n                <div className={classes.Link}><NavLink to='/users/subscriptions'>View All ({subscriptions.length})</NavLink></div>\r\n            </div>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default SidebarSubscriptions","import React from 'react'\r\nimport classes from 'components/Layout/BottomNavigation/BottomNavigation.module.scss'\r\nimport colors from 'assets/styles/colors.module.scss'\r\nimport {Button} from 'components/_shared/Button/Button'\r\nimport {ChatLeftTextFill, PeopleFill, HouseDoorFill, DoorOpenFill} from 'react-bootstrap-icons'\r\nimport {NavLink} from 'react-router-dom'\r\nimport {Avatar} from 'components/_shared/Avatar/Avatar'\r\nimport {useSelector} from 'react-redux'\r\nimport {StateType} from 'redux/store'\r\n\r\ntype Props = {\r\n    authorized: boolean\r\n    avatar?: string | null\r\n}\r\n\r\nexport const BottomNavigation: React.FC<Props> = ({avatar, authorized}) => {\r\n    const unreadMessagesCount = useSelector((state: StateType) => state.dialogs.unreadMessagesCount)\r\n    return <div className={classes.wrapper}>\r\n        {authorized && <div className={classes.item}>\r\n            <NavLink to={'/feed'}>\r\n                <Button type={'link'} size={'lg'}>\r\n                    <Button.Icon><HouseDoorFill color={colors.textLight}/></Button.Icon>\r\n                </Button>\r\n            </NavLink>\r\n        </div>}\r\n        <div className={classes.item}>\r\n            <NavLink to={'/users'}>\r\n                <Button type={'link'} size={'lg'}>\r\n                    <Button.Icon><PeopleFill color={colors.textLight}/></Button.Icon>\r\n                </Button>\r\n            </NavLink>\r\n        </div>\r\n        {authorized && <div className={classes.item}>\r\n            <NavLink to={'/dialogs'}>\r\n                <Button type={'link'} size={'lg'}>\r\n                    <Button.Icon><ChatLeftTextFill color={colors.textLight}/></Button.Icon>\r\n                    {!!unreadMessagesCount && <Button.Badge>{unreadMessagesCount}</Button.Badge>}\r\n                </Button>\r\n            </NavLink>\r\n        </div>}\r\n        {authorized && <div className={classes.item}>\r\n            <NavLink to={'/profile'}>\r\n                <Button type={'link'} size={'lg'}>\r\n                    <Button.Icon><Avatar smallImg={avatar} size={24}/></Button.Icon>\r\n                </Button>\r\n            </NavLink>\r\n        </div>}\r\n        {!authorized && <div className={classes.item}>\r\n            <NavLink to={'/login'}>\r\n                <Button type={'link'} size={'lg'}>\r\n                    <Button.Icon><DoorOpenFill color={colors.textLight}/></Button.Icon>\r\n                </Button>\r\n            </NavLink>\r\n        </div>}\r\n    </div>\r\n}","import React from 'react'\r\nimport {StateType} from 'redux/store'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport classes from './Layout.module.scss'\r\nimport Header from 'components/Layout/Header/Header'\r\nimport {Card} from 'components/_shared/Card/Card'\r\nimport LoginForm from 'components/_forms/LoginForm'\r\nimport SidebarNavigation from 'components/Layout/SideBar/SidebarNavigation/SidebarNavigation'\r\nimport SidebarSubscriptions from 'components/Layout/SideBar/SidebarSubscriptions/SidebarSubscriptions'\r\nimport {AvatarType, UserItemDataType} from 'types/types'\r\nimport {logout} from 'redux/reducers/auth.reducer'\r\nimport {useBreakpoint} from 'utils/hooks'\r\nimport {BottomNavigation} from 'components/Layout/BottomNavigation/BottomNavigation'\r\nimport {checkOnline} from 'utils/functions'\r\n\r\ntype PropsType = {\r\n    sidebar?: boolean\r\n    background?: boolean\r\n    authUserName?: string\r\n    authUserAvatar?: AvatarType\r\n    subscriptions: Array<UserItemDataType>\r\n    onLogout: () => void\r\n}\r\n\r\nconst Layout: React.FC<PropsType> = ({\r\n                                         children,\r\n                                         sidebar = false,\r\n                                         background = false,\r\n                                         subscriptions,\r\n                                         authUserName,\r\n                                         authUserAvatar,\r\n                                         onLogout,\r\n                                     }) => {\r\n    const authorized = useSelector((state: StateType) => state.auth.authorized)\r\n    const {tablet} = useBreakpoint()\r\n    return (\r\n        <div className={classes.layout}>\r\n            <AppBar>\r\n                <Header authorized={authorized} username={authUserName} avatar={authUserAvatar?.small}\r\n                        logout={onLogout}/>\r\n            </AppBar>\r\n\r\n            <Main>\r\n                {sidebar && !tablet && <Sidebar>\r\n                    {!authorized && <Card>\r\n                        <div style={{padding: '10px'}}><LoginForm/></div>\r\n                    </Card>}\r\n                    {authorized && <SidebarNavigation/>}\r\n                    {authorized && !tablet && <SidebarSubscriptions subscriptions={subscriptions}/>}\r\n                </Sidebar>}\r\n\r\n                <Content>\r\n                    {children}\r\n                </Content>\r\n            </Main>\r\n\r\n            {tablet && authUserAvatar && <BottomNavigation avatar={authUserAvatar?.small} authorized={authorized}/>}\r\n            {tablet && !authUserAvatar && <BottomNavigation authorized={authorized}/>}\r\n\r\n            {background && <div className={classes.background}>\r\n                <img src=\"https://source.unsplash.com/random/1920x1080/?nature\" alt=\"\"/>\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Container: React.FC = ({children}) => <div className={classes.container}>\r\n    {children}\r\n</div>\r\n\r\nconst AppBar: React.FC = ({children}) => {\r\n    return (\r\n        <div className={classes.appBar}>\r\n            <Container>\r\n                {children}\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Main: React.FC = ({children}) => {\r\n    return (\r\n        <Container>\r\n            <div className={classes.main}>\r\n                {children}\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nconst Content: React.FC = ({children}) => {\r\n    return (\r\n        <div className={classes.content}>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Sidebar: React.FC = ({children}) => {\r\n    return (\r\n        <div className={classes.sidebar}>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst LayoutContainer: React.FC<{ sidebar?: boolean, background?: boolean }> = (props) => {\r\n    const dispatch = useDispatch()\r\n    const authUserSubscriptions = useSelector((state: StateType) => state.auth.user?.subscriptions || [])\r\n    const authUserName = useSelector((state: StateType) => state.auth.user?.username)\r\n    const authUserAvatar = useSelector((state: StateType) => state.auth.user?.avatar)\r\n\r\n    const onLogout = () => {\r\n        dispatch(logout())\r\n    }\r\n\r\n    return <Layout {...props} subscriptions={authUserSubscriptions} authUserName={authUserName}\r\n                   authUserAvatar={authUserAvatar} onLogout={onLogout}/>\r\n}\r\n\r\nexport default LayoutContainer\r\n","import React from 'react'\r\nimport {useAuthCheck} from 'utils/hooks'\r\nimport {Redirect} from 'react-router-dom'\r\n\r\nconst HomePage = () => {\r\n    const authorized = useAuthCheck()\r\n    if (authorized) {\r\n        return <Redirect to={`/feed`}/>\r\n    } else {\r\n        return <Redirect to={`/login`}/>\r\n    }\r\n}\r\n\r\nexport default HomePage","import React, {lazy, Suspense, useEffect} from 'react'\r\nimport {Route, Switch} from 'react-router-dom'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\n\r\nimport {StateType} from 'redux/store'\r\nimport {deinitializeApp, initializeApp} from 'redux/reducers/app.reducer'\r\nimport Layout from 'components/Layout/Layout'\r\nimport Spinner from 'components/_shared/Spinner/Spinner'\r\nimport HomePage from 'components/_pages/HomePage'\r\n\r\nconst RegistrationPage = lazy(() => import('components/_pages/RegistrationPage'))\r\nconst LoginPage = lazy(() => import('components/_pages/LoginPage'))\r\nconst ProfilePage = lazy(() => import('components/_pages/ProfilePage'))\r\nconst UsersPage = lazy(() => import('components/_pages/UsersPage'))\r\nconst DialogsPage = lazy(() => import('components/_pages/DialogsPage'))\r\nconst PostPage = lazy(() => import('components/_pages/PostPage'))\r\nconst FeedPage = lazy(() => import('components/_pages/FeedPage'))\r\n\r\nconst TestPage = lazy(() => import('components/TestPage/TestPage'))\r\nconst FormTestPage = lazy(() => import('components/TestPage/FormTestPage'))\r\n\r\n\r\nconst App: React.FC = () => {\r\n    return (\r\n        <Suspense fallback={<AppSpinner/>}>\r\n            <Switch>\r\n                {/*Pages*/}\r\n                <Route path=\"/feed\" render={() => <Layout sidebar={true}><FeedPage/></Layout>}/>\r\n                <Route path=\"/post/:id\" render={() => <Layout sidebar={true}><PostPage/></Layout>}/>\r\n                <Route exact path=\"/profile/:username?\" render={() => <Layout sidebar={true}><ProfilePage/></Layout>}/>\r\n                <Route path=\"/dialogs/:username?\" render={() => <Layout sidebar={true}><DialogsPage/></Layout>}/>\r\n                <Route path=\"/users/:filter?\" render={() => <Layout sidebar={true}><UsersPage/></Layout>}/>\r\n\r\n                {/*Pages under construction*/}\r\n                <Route path=\"/settings\" render={() => <Layout sidebar={true}>Settings Page</Layout>}/>\r\n\r\n                {/*Component testing playgrounds (delete on prod)*/}\r\n                <Route path={'/testpage'} component={TestPage}/>\r\n                <Route path={'/formtestpage'} component={FormTestPage}/>\r\n\r\n                <Route path=\"/login\" render={() => <Layout background={true}><LoginPage/></Layout>}/>\r\n                <Route path=\"/register\" render={() => <Layout background={true}><RegistrationPage/></Layout>}/>\r\n                <Route exact path=\"/\" component={HomePage}/>\r\n\r\n                <Route render={() => <div>404 Error: No such page</div>}/>\r\n            </Switch>\r\n        </Suspense>\r\n    )\r\n}\r\n\r\n// Container\r\nconst AppContainer: React.FC = () => {\r\n    const dispatch = useDispatch()\r\n    const initialized = useSelector((state: StateType) => state.app.initialized)\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(initializeApp())\r\n        return () => { dispatch(deinitializeApp()) }\r\n    }, [dispatch])\r\n\r\n    if (!initialized) return <Spinner size={100} thickness={4} fullscreen={true}/>\r\n\r\n    return (\r\n        <App/>\r\n    )\r\n}\r\n\r\nconst AppSpinner = () => <div style={{ width: '100vw', height: '100vh', display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\r\n    <Spinner size={100} thickness={4}/>\r\n</div>\r\n\r\nexport default AppContainer\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {applyMiddleware, combineReducers, createStore, Action} from 'redux'\r\nimport {AuthActionType, authReducer} from './reducers/auth.reducer'\r\n\r\nimport profileReducer, {ProfileActionType} from './reducers/profile.reducer'\r\nimport postsReducer, {PostsActionType} from './reducers/posts.reducer'\r\nimport {AppActionType, appReducer} from './reducers/app.reducer'\r\nimport {UsersActionType, usersReducer} from './reducers/users.reducer'\r\nimport thunkMiddleware, {ThunkAction} from 'redux-thunk'\r\nimport {dialogsReducer} from './reducers/dialogs.reducer'\r\n\r\n// generic for extracting action types from actions object\r\nexport type InferActionsTypes<T> = T extends { [key: string]: infer U } ? U : never\r\n\r\n// includes all action types from all reducer files\r\nexport type ActionType = AppActionType | AuthActionType | ProfileActionType | UsersActionType | PostsActionType\r\nexport type AsyncThunkType = ThunkAction<Promise<void>, StateType, unknown, ActionType>\r\nexport type ThunkType<A extends Action> = ThunkAction<Promise<void>, StateType, unknown, A>\r\n\r\nconst rootReducer = combineReducers({\r\n    app: appReducer,\r\n    auth: authReducer,\r\n    profile: profileReducer,\r\n    users: usersReducer,\r\n    posts: postsReducer,\r\n    dialogs: dialogsReducer,\r\n})\r\n\r\ntype RootReducerType = typeof rootReducer   // get root reducer type that returns app state\r\nexport type StateType = ReturnType<RootReducerType> // get app state type\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    applyMiddleware(thunkMiddleware)\r\n)\r\n\r\n// @ts-ignore\r\nwindow.s = store\r\n\r\nexport default store\r\n//\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport 'assets/styles/normalize.scss'\r\nimport 'assets/styles/global.scss'\r\nimport App from './components/App'\r\nimport reportWebVitals from './reportWebVitals'\r\nimport {HashRouter} from 'react-router-dom'\r\nimport store from './redux/store'\r\nimport {Provider} from 'react-redux'\r\n\r\nReactDOM.render(\r\n        <Provider store={store}>\r\n            <HashRouter>\r\n                <App/>\r\n            </HashRouter>\r\n        </Provider>\r\n    , document.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n","import {authApi, LoginDataType, RegistrationDataType} from 'api/auth.api'\r\nimport {ResultCodes} from 'api/core.api'\r\nimport {InferActionsTypes, ThunkType} from '../store'\r\nimport {startMessagesListening, stopMessagesListening} from './dialogs.reducer'\r\nimport {AuthUserDataType, ServerValidationErrorType} from 'types/types'\r\n\r\n// INITIAL STATE\r\nconst initialState = {\r\n    authorized: false,\r\n    user: null as AuthUserDataType | null,\r\n    registrationErrors: [] as Array<ServerValidationErrorType>,\r\n    loginErrors: [] as Array<ServerValidationErrorType>,\r\n    registrationSuccessful: false\r\n}\r\ntype AuthStateType = typeof initialState\r\n\r\n// REDUCER\r\nexport const authReducer = (state: AuthStateType = initialState, action: AuthActionType): AuthStateType => {\r\n    switch (action.type) {\r\n        case 'rsn/auth/SET_USER': {\r\n            return {\r\n                ...state,\r\n                authorized: true,\r\n                user: action.user\r\n            }\r\n        }\r\n        case 'rsn/auth/CLEAR_USER': {\r\n            return {\r\n                ...state,\r\n                authorized: false,\r\n                user: null\r\n            }\r\n        }\r\n        case 'rsn/auth/SET_REGISTRATION_SUCCESSFUL': {\r\n            return {\r\n                ...state,\r\n                registrationSuccessful: action.registrationSuccessful\r\n            }\r\n        }\r\n        case 'rsn/auth/SET_REGISTRATION_ERRORS': {\r\n            return  {\r\n                ...state,\r\n                registrationErrors: action.errors\r\n            }\r\n        }\r\n        case 'rsn/auth/SET_LOGIN_ERRORS': {\r\n            return {\r\n                ...state,\r\n                loginErrors: action.errors\r\n            }\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\n//region ACTION CREATORS\r\nexport const authActions = {\r\n    setUser: (user: AuthUserDataType) => ({\r\n        type: 'rsn/auth/SET_USER',\r\n        user\r\n    } as const),\r\n    clearUser: () => ({type: 'rsn/auth/CLEAR_USER'} as const),\r\n    setRegistrationSuccessful: (registrationSuccessful: boolean) => ({\r\n        type: 'rsn/auth/SET_REGISTRATION_SUCCESSFUL',\r\n        registrationSuccessful\r\n    } as const),\r\n    setRegistrationErrors: (errors: Array<ServerValidationErrorType>) => ({\r\n        type: 'rsn/auth/SET_REGISTRATION_ERRORS',\r\n        errors\r\n    } as const),\r\n    setLoginErrors: (errors: Array<ServerValidationErrorType>) => ({\r\n        type: 'rsn/auth/SET_LOGIN_ERRORS',\r\n        errors\r\n    } as const)\r\n}\r\nexport type AuthActionType = ReturnType<InferActionsTypes<typeof authActions>>\r\n//endregion\r\n\r\n//region THUNK CREATORS\r\nexport const login = (loginFormData: LoginDataType): ThunkType<AuthActionType> => async (dispatch) => {\r\n    const res = await authApi.login(loginFormData)\r\n    if (res.resultCode === ResultCodes.success) {\r\n        dispatch(getAuthUserData())\r\n        dispatch(startMessagesListening())\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        dispatch(authActions.setLoginErrors(res.errors))\r\n    }\r\n}\r\n\r\nexport const logout = (): ThunkType<AuthActionType> => async (dispatch) => {\r\n    const res = await authApi.logout()\r\n    if (res.resultCode === ResultCodes.success) {\r\n        dispatch(getAuthUserData())\r\n        dispatch(stopMessagesListening())\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\n\r\nexport const getAuthUserData = (): ThunkType<AuthActionType> => async (dispatch) => {\r\n    const res = await authApi.me()\r\n    if (res.resultCode === ResultCodes.success) {\r\n        const {user} = res.data\r\n        dispatch(authActions.setUser(user))\r\n    } else {\r\n        dispatch(stopMessagesListening())\r\n        dispatch(authActions.clearUser())\r\n    }\r\n\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n    if (res.resultCode === ResultCodes.expiredToken) {\r\n        console.log(res)\r\n    }\r\n}\r\n\r\n\r\nexport const register = (registrationData: RegistrationDataType): ThunkType<AuthActionType> => async (dispatch) => {\r\n    const res = await authApi.register(registrationData)\r\n    if (res.resultCode === ResultCodes.success) {\r\n        dispatch(authActions.setRegistrationSuccessful(true))\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        dispatch(authActions.setRegistrationErrors(res.errors))\r\n    }\r\n}\r\n//endregion","import axios, {AxiosError, AxiosResponse} from 'axios'\r\nimport {ServerValidationErrorType} from 'types/types'\r\n\r\nconsole.log(process.env.REACT_APP_API_URL)\r\n\r\nexport const coreApi = axios.create({\r\n    baseURL: process.env.REACT_APP_API_URL + 'api/',\r\n    withCredentials: true,\r\n    // validateStatus: status => status < 500\r\n})\r\n\r\n// basic result codes. used by default in ResponseType\r\n// can be extended if needed\r\nexport enum ResultCodes {\r\n    success = 0,\r\n    error = 1,\r\n    authError = 10,\r\n    expiredToken = 11,\r\n}\r\n\r\n// all server responses have this type\r\nexport type APIResponseType<D = undefined> = {\r\n    resultCode: ResultCodes\r\n    message: string\r\n    data: D\r\n    errors?: Array<ServerValidationErrorType>\r\n}\r\nexport const handleResponse = <DataType = undefined>() => (res: AxiosResponse<APIResponseType<DataType>>) => {\r\n    return res.data\r\n}\r\n\r\nexport const handleError = () => (err: AxiosError) => {\r\n    return err.response?.data\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"Form_dark__1yEn7\",\"wrapper\":\"Form_wrapper__4LySP\",\"formError\":\"Form_formError__2tat8\",\"row\":\"Form_row__1vU7f\",\"left\":\"Form_left__k3WRF\",\"right\":\"Form_right__2Jbz6\",\"center\":\"Form_center__Qase8\",\"fill\":\"Form_fill__ErT7-\",\"item\":\"Form_item__k-6ci\",\"label\":\"Form_label__36idU\",\"disabled\":\"Form_disabled__1CQsb\",\"labelText\":\"Form_labelText__4Kxmy\",\"labelRequired\":\"Form_labelRequired__2z3kP\",\"formItemError\":\"Form_formItemError__LnpMn\"};","import {MessageType} from '../types/types'\r\nimport {io} from 'socket.io-client'\r\n\r\nlet serverMessageSubscribers = [] as Array<(message: MessageType) => void>\r\nlet unreadMessagesSubscribers = [] as Array<(unreadMessagesCount: number) => void>\r\nlet notAuthorizedSubscribers = [] as Array<() => void>\r\nlet authorizedSubscribers = [] as Array<() => void>\r\nlet connectSubscribers = [] as Array<() => void>\r\n\r\nlet socket = io(process.env.REACT_APP_API_URL || 'http://localhost:5000', {withCredentials: true, autoConnect: false, reconnection: true})\r\n\r\n// handle dialog message from server\r\ntype ServerMessageResponseType = { dialogId: string, message: MessageType }\r\nconst handleServerMessage = (serverMessageResponse: ServerMessageResponseType) => {\r\n    serverMessageSubscribers.forEach(s => s(serverMessageResponse.message))\r\n}\r\nsocket.on('server-message', handleServerMessage)\r\n\r\n// handle unread message notification from server\r\ntype UnreadMessagesResponseType = { unreadMessagesCount: number }\r\nconst handleUnreadMessages = (unreadMessagesResponse: UnreadMessagesResponseType) => {\r\n    unreadMessagesSubscribers.forEach(s => s(unreadMessagesResponse.unreadMessagesCount))\r\n}\r\nsocket.on('unread-message', handleUnreadMessages)\r\n\r\n// handle not authorized event\r\nconst handleNotAuthorized = () => {\r\n    notAuthorizedSubscribers.forEach(async s => await s())\r\n}\r\nsocket.on('not-authorized', handleNotAuthorized)\r\n\r\nconst handleAuthorized = () => {\r\n    authorizedSubscribers.forEach(s => s())\r\n}\r\nsocket.on('authorized', handleAuthorized)\r\n\r\nconst handleConnect = () => {\r\n    console.log('Socket connection opened')\r\n    connectSubscribers.forEach(s => s())\r\n}\r\nsocket.on('connect', handleConnect)\r\nsocket.on('disconnect', () => console.log('Socket connection closed'))\r\n\r\n\r\n\r\nexport const socketApi = {\r\n    connect() {\r\n        if (!socket.connected) socket.connect()\r\n    },\r\n    disconnect() {\r\n        if (socket.connected) {\r\n            socket.disconnect()\r\n            connectSubscribers = []\r\n            serverMessageSubscribers = []\r\n            unreadMessagesSubscribers = []\r\n            notAuthorizedSubscribers = []\r\n            authorizedSubscribers = []\r\n        }\r\n    },\r\n\r\n    subscribe(\r\n        connectCallback: () => void,\r\n        serverMessageCallback: (message: MessageType) => void,\r\n        unreadMessagesCallback: (unreadMessagesCount: number) => void,\r\n        notAuthorizedCallback: () => void,\r\n        authorizedCallback: () => void\r\n    ) {\r\n        connectSubscribers.push(connectCallback)\r\n        serverMessageSubscribers.push(serverMessageCallback)\r\n        unreadMessagesSubscribers.push(unreadMessagesCallback)\r\n        notAuthorizedSubscribers.push(notAuthorizedCallback)\r\n        authorizedSubscribers.push(authorizedCallback)\r\n    },\r\n\r\n    unsubscribe(\r\n        connectCallback: () => void,\r\n        serverMessageCallback: (message: MessageType) => void,\r\n        unreadMessagesCallback: (unreadMessagesCount: number) => void,\r\n        notAuthorizedCallback: () => void,\r\n        authorizedCallback: () => void\r\n    ) {\r\n        connectSubscribers = connectSubscribers.filter(s => s !== connectCallback)\r\n        serverMessageSubscribers = serverMessageSubscribers.filter(s => s !== serverMessageCallback)\r\n        unreadMessagesSubscribers = unreadMessagesSubscribers.filter(s => s !== unreadMessagesCallback)\r\n        notAuthorizedSubscribers = notAuthorizedSubscribers.filter(s => s !== notAuthorizedCallback)\r\n        authorizedSubscribers = authorizedSubscribers.filter(s => s !== authorizedCallback)\r\n    },\r\n    sendMessage(message: string, dialogId: string) {\r\n        socket.emit('client-message', message, dialogId)\r\n    }\r\n}\r\n","import {coreApi, handleError, handleResponse} from './core.api'\r\nimport {DialogType, MessageType, UserItemDataType} from '../types/types'\r\n\r\ntype DialogDataType = {\r\n    dialog: {\r\n        _id: string,\r\n        createdAt: Date,\r\n        updatedAt: Date,\r\n        users: Array<UserItemDataType>,\r\n        messages: Array<MessageType>\r\n    }\r\n}\r\n\r\ntype DialogsDataType = {\r\n    dialogs: Array<DialogType>\r\n}\r\n\r\nexport const dialogApi = {\r\n    getDialogs: () => coreApi\r\n        .get(`/dialog`)\r\n        .then(handleResponse<DialogsDataType>())\r\n        .catch(handleError()),\r\n    getMessages: (username: string) => coreApi\r\n        .get(`/dialog/${username}`)\r\n        .then(handleResponse<DialogDataType>())\r\n        .catch(handleError()),\r\n    markMessageAsRead: (messageId: string) => coreApi\r\n        .patch(`/message/${messageId}`)\r\n        .then(handleResponse<{message: MessageType, unreadMessagesCount: number}>())\r\n        .catch(handleError())\r\n}\r\n","import {InferActionsTypes, StateType, ThunkType} from '../store'\r\nimport {DialogType, MessageType} from 'types/types'\r\nimport {socketApi} from 'api/socket.api'\r\nimport {Dispatch} from 'react'\r\nimport {dialogApi} from 'api/dialog.api'\r\nimport {ResultCodes} from 'api/core.api'\r\nimport {authApi} from 'api/auth.api'\r\n\r\n\r\n// INITIAL STATE\r\nconst initialState = {\r\n    currentDialogId: null as string | null,\r\n    messages: [] as Array<MessageType>,\r\n    dialogs: [] as Array<DialogType>,\r\n    cachedMessage: null as { text: string, dialogId: string } | null,\r\n    unreadMessagesCount: 0\r\n}\r\ntype DialogsStateType = typeof initialState\r\n\r\n// REDUCER\r\nexport const dialogsReducer = (state: DialogsStateType = initialState, action: DialogsActionType): DialogsStateType => {\r\n    switch (action.type) {\r\n        case 'rsn/chat/ADD_MESSAGE': {\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, action.message],\r\n                dialogs: state.dialogs.map(dialog => (dialog._id === action.message.dialog) ? {\r\n                    ...dialog,\r\n                    updated: action.message.date\r\n                } : dialog)\r\n            }\r\n        }\r\n        case 'rsn/chat/SET_DIALOG': {\r\n            return {\r\n                ...state,\r\n                currentDialogId: action.currentDialogId,\r\n                messages: action.messages\r\n            }\r\n        }\r\n        case 'rsn/chat/UNSET_DIALOG': {\r\n            return {\r\n                ...state,\r\n                currentDialogId: null,\r\n                messages: []\r\n            }\r\n        }\r\n        case 'rsn/chat/SET_DIALOGS': {\r\n            return {\r\n                ...state,\r\n                dialogs: action.dialogs\r\n            }\r\n        }\r\n        case 'rsn/chat/SET_UNREAD_MESSAGES_COUNT': {\r\n            return {\r\n                ...state,\r\n                unreadMessagesCount: action.unreadMessagesCount\r\n            }\r\n        }\r\n        case 'rsn/chat/MARK_MESSAGE_AS_READ': {\r\n            return {\r\n                ...state,\r\n                messages: state.messages.map(message => message._id !== action.messageId ? message : {...message, isRead: true})\r\n            }\r\n        }\r\n        case 'rsn/chat/SET_CACHED_MESSAGE': {\r\n            return {\r\n                ...state,\r\n                cachedMessage: {text: action.text, dialogId: action.dialogId}\r\n            }\r\n        }\r\n        case 'rsn/chat/CLEAR_CACHED_MESSAGE': {\r\n            return {\r\n                ...state,\r\n                cachedMessage: null\r\n            }\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\n//region ACTION CREATORS\r\nexport const dialogsActions = {\r\n    setDialog: (currentDialogId: string, messages: Array<MessageType>) => ({\r\n        type: 'rsn/chat/SET_DIALOG',\r\n        currentDialogId,\r\n        messages\r\n    } as const),\r\n    unsetDialog: () => ({type: 'rsn/chat/UNSET_DIALOG'} as const),\r\n    setDialogs: (dialogs: Array<DialogType>) => ({type: 'rsn/chat/SET_DIALOGS', dialogs} as const),\r\n    addMessage: (message: MessageType) => ({type: 'rsn/chat/ADD_MESSAGE', message} as const),\r\n    setUnreadMessagesCount: (unreadMessagesCount: number) => ({\r\n        type: 'rsn/chat/SET_UNREAD_MESSAGES_COUNT',\r\n        unreadMessagesCount\r\n    } as const),\r\n    markMessageAsRead: (messageId: string) => ({type: 'rsn/chat/MARK_MESSAGE_AS_READ', messageId} as const),\r\n    setCachedMessage: (text: string, dialogId: string) => ({type: 'rsn/chat/SET_CACHED_MESSAGE', text, dialogId} as const),\r\n    clearCachedMessage: () => ({type: 'rsn/chat/CLEAR_CACHED_MESSAGE'} as const)\r\n}\r\nexport type DialogsActionType = ReturnType<InferActionsTypes<typeof dialogsActions>>\r\n//endregion\r\n\r\n//region THUNK CREATORS\r\n// todo: need to test and debug dialogs. sometimes message not added to state immediately after sending.\r\nlet _connectHandler: (() => void) | null = null\r\nconst connectHandlerCreator = (dispatch: Dispatch<DialogsActionType | ThunkType<DialogsActionType>>, getState: () => StateType) => {\r\n    if (_connectHandler) return _connectHandler\r\n    return () => {\r\n        console.log('connect handler')\r\n        const {cachedMessage} = getState().dialogs\r\n        if (cachedMessage) {\r\n            dispatch(sendMessage(cachedMessage.text, cachedMessage.dialogId))\r\n            dispatch(dialogsActions.clearCachedMessage())\r\n        }\r\n    }\r\n}\r\n\r\nlet _messageHandler: ((message: MessageType) => void) | null = null\r\nconst messageHandlerCreator = (dispatch: Dispatch<DialogsActionType>) => {\r\n    if (_messageHandler) return _messageHandler\r\n    return (message: MessageType) => {\r\n        dispatch(dialogsActions.addMessage(message))\r\n    }\r\n}\r\n\r\nlet _unreadMessagesHandler: ((unreadMessagesCount: number) => void) | null = null\r\nconst unreadMessagesHandlerCreator = (dispatch: Dispatch<DialogsActionType>) => {\r\n    if (_unreadMessagesHandler) return _unreadMessagesHandler\r\n    return (unreadMessagesCount: number) => {\r\n        dispatch(dialogsActions.setUnreadMessagesCount(unreadMessagesCount))\r\n    }\r\n}\r\n\r\nlet _notAuthorizedHandler: (() => null) | null = null\r\nconst notAuthorizedHandlerCreator = (dispatch: Dispatch<ThunkType<DialogsActionType> | DialogsActionType>) => {\r\n    if (_notAuthorizedHandler) return _notAuthorizedHandler\r\n    return async () => {\r\n        console.log('dispatch not authorized websocket event')\r\n        dispatch(stopMessagesListening())\r\n        const res = await authApi.refreshToken()\r\n        if (res.resultCode === ResultCodes.success) dispatch(startMessagesListening())\r\n    }\r\n}\r\n\r\nlet _authorizedHandler: (() => null) | null = null\r\nconst authorizedHandlerCreator = (dispatch: Dispatch<ThunkType<DialogsActionType> | DialogsActionType>, getState: () => StateType) => {\r\n    if (_authorizedHandler) return _authorizedHandler\r\n    return async () => {\r\n\r\n    }\r\n}\r\n\r\nexport const startMessagesListening = (): ThunkType<DialogsActionType> => async (dispatch, getState) => {\r\n    socketApi.connect()\r\n    socketApi.subscribe(\r\n        connectHandlerCreator(dispatch, getState),\r\n        messageHandlerCreator(dispatch),\r\n        unreadMessagesHandlerCreator(dispatch),\r\n        notAuthorizedHandlerCreator(dispatch),\r\n        authorizedHandlerCreator(dispatch, getState)\r\n    )\r\n}\r\nexport const stopMessagesListening = (): ThunkType<DialogsActionType> => async (dispatch, getState) => {\r\n    socketApi.unsubscribe(\r\n        connectHandlerCreator(dispatch, getState),\r\n        messageHandlerCreator(dispatch),\r\n        unreadMessagesHandlerCreator(dispatch),\r\n        notAuthorizedHandlerCreator(dispatch),\r\n        authorizedHandlerCreator(dispatch, getState)\r\n    )\r\n    socketApi.disconnect()\r\n}\r\n\r\n// todo should refresh tokens if not authorized + add authorization verification on backend\r\nexport const sendMessage = (message: string, dialogId: string): ThunkType<DialogsActionType> => async (dispatch, getState) => {\r\n    dispatch(dialogsActions.setCachedMessage(message, dialogId))\r\n    socketApi.sendMessage(message, dialogId)\r\n}\r\n\r\nexport const getDialogs = (): ThunkType<DialogsActionType> => async (dispatch) => {\r\n    const res = await dialogApi.getDialogs()\r\n\r\n    if (res.resultCode === ResultCodes.success) {\r\n        dispatch(dialogsActions.setDialogs(res.data.dialogs))\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\n\r\nexport const openDialog = (username: string): ThunkType<DialogsActionType> => async (dispatch) => {\r\n    const res = await dialogApi.getMessages(username)\r\n    if (res.resultCode === ResultCodes.success) {\r\n        dispatch(dialogsActions.setDialog(res.data.dialog._id, res.data.dialog.messages))\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\n\r\nexport const closeDialog = (): ThunkType<DialogsActionType> => async (dispatch) => {\r\n    dispatch(dialogsActions.unsetDialog())\r\n}\r\n\r\nexport const readMessage = (messageId: string): ThunkType<DialogsActionType> => async (dispatch) => {\r\n    const res = await dialogApi.markMessageAsRead(messageId)\r\n    if (res.resultCode === ResultCodes.success) {\r\n        dispatch(dialogsActions.markMessageAsRead(res.data.message._id))\r\n        dispatch(dialogsActions.setUnreadMessagesCount(res.data.unreadMessagesCount))\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\n//endregion\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"Avatar_dark__1LTA6\",\"wrapper\":\"Avatar_wrapper__jpAF3\",\"border\":\"Avatar_border__28yBP\",\"image\":\"Avatar_image__2LZ-q\",\"shadow\":\"Avatar_shadow__11fZd\",\"buttons\":\"Avatar_buttons__2ABNw\",\"photo\":\"Avatar_photo__1NYeI\",\"onLineIndicator\":\"Avatar_onLineIndicator__JD9ez\",\"name\":\"Avatar_name__1dq2q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"white\":\"#fff\",\"black\":\"#000\",\"accent\":\"#3f72af\",\"dark\":\"colors_dark__3o0-V\",\"mid\":\"#d3e5ff\",\"light\":\"#f9f7f7\",\"error\":\"#ef3e36\",\"success\":\"#9cec5b\",\"darkGrey\":\"#404040\",\"midGrey\":\"gray\",\"lightGrey\":\"#f2f2f2\",\"textDark\":\"var(--text-color-dark)\",\"textMid\":\"var(--text-color-mid)\",\"textLight\":\"var(--text-color-light)\",\"textLink\":\"var(--text-color-link)\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"Layout_dark__3-BOz\",\"layout\":\"Layout_layout__1qY40\",\"background\":\"Layout_background__1ckCD\",\"container\":\"Layout_container__Dwyg-\",\"appBar\":\"Layout_appBar__21p33\",\"main\":\"Layout_main__3EDn4\",\"content\":\"Layout_content__2n8_1\",\"sidebar\":\"Layout_sidebar__1Ql7Y\"};","import {coreApi, handleError, handleResponse} from './core.api'\r\nimport {EditProfileDataType} from './profile.api'\r\nimport {AuthUserDataType} from '../types/types'\r\n\r\n\r\n//region DATA TYPES\r\n// GET /auth/me/ response\r\n// contains userId, email and username of currently logged in user\r\nexport type AuthorizedUserDataType = {\r\n    userId: string\r\n    email: string\r\n    username: string\r\n    profile: EditProfileDataType\r\n}\r\n\r\n// POST /auth/login/\r\n// contains data needed for login (gathered from login form)\r\nexport type LoginDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\n// POST /auth/register/\r\n// contains data needed for registration (gathered from registration form)\r\nexport type RegistrationDataType = {\r\n    firstName: string\r\n    lastName: string\r\n    username: string\r\n    email: string\r\n    password: string\r\n}\r\n//endregion\r\n\r\nexport const authApi = {\r\n    login: (loginData: LoginDataType) => coreApi\r\n        .post('/auth/login', loginData)\r\n        .then(handleResponse())\r\n        .catch(handleError()),\r\n\r\n    me: () => coreApi\r\n        .get('/auth/me')\r\n        .then(handleResponse<AuthUserDataType>())\r\n        .catch(handleError()),\r\n\r\n    refreshToken: () => coreApi\r\n        .post('http://localhost:5000/api/auth/refresh-tokens')\r\n        .then(handleResponse())\r\n        .catch(handleError()),\r\n\r\n    logout: () => coreApi\r\n        .delete('/auth/logout')\r\n        .then(handleResponse())\r\n        .catch(handleError()),\r\n\r\n    register: (registrationData: RegistrationDataType) => coreApi\r\n        .post('/auth/register', registrationData)\r\n        .then(handleResponse())\r\n        .catch(handleError())\r\n}\r\n\r\n\r\ncoreApi.interceptors.response.use(\r\n    (res) => {\r\n        return res\r\n    },\r\n    async (err) => {\r\n        const originalConfig = err.config\r\n        if (err.response.status === 401 && !originalConfig._retry && err.response.data.message !== 'Invalid token') {\r\n            originalConfig._retry = true\r\n            await authApi.refreshToken()\r\n            return coreApi(originalConfig);\r\n        }\r\n        return Promise.reject(err)\r\n    }\r\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"BottomNavigation_dark__1Vu2Q\",\"wrapper\":\"BottomNavigation_wrapper__rXt0g\",\"item\":\"BottomNavigation_item__2MFmA\"};","import React from 'react'\r\nimport classes from './Card.module.scss'\r\n\r\ntype PropsType = {maxWidth?: number}\r\n\r\nexport const Card: React.FC<PropsType> = ({children, maxWidth}) => <div\r\n    className={classes.Card}\r\n    style={{maxWidth}}\r\n>\r\n    {children}\r\n</div>","import React, {useEffect, useState} from 'react'\r\nimport classes from './Avatar.module.scss'\r\nimport classnames from 'classnames'\r\nimport defaultAvatarImage from 'assets/images/avatar-default.jpg'\r\nimport {Area} from 'react-easy-crop/types'\r\nimport ImageUploadForm from 'components/_forms/ImageUploadForm/ImageUploadForm'\r\nimport {Button} from 'components/_shared/Button/Button'\r\nimport {PencilFill, ZoomIn} from 'react-bootstrap-icons'\r\nimport {ModalWindow} from 'components/_shared/ModalWindow/ModalWindow'\r\n\r\ntype PropsType = {\r\n    smallImg?: string | null\r\n    largeImg?: string | null\r\n    size?: number\r\n    name?: string\r\n    border?: boolean\r\n    shadow?: boolean\r\n    online?: boolean\r\n    onEdit?: (image: File, cropArea: Area) => void\r\n}\r\n\r\nexport const Avatar: React.FC<PropsType> = ({\r\n                                                smallImg,\r\n                                                largeImg,\r\n                                                size = 90,\r\n                                                name,\r\n                                                online,\r\n                                                border = false,\r\n                                                shadow = false,\r\n                                                onEdit\r\n                                            }) => {\r\n    const zoomable = !!(smallImg && largeImg)\r\n    const editable = !!onEdit\r\n\r\n    const [editModalOpened, setEditModalOpened] = useState(false)\r\n    const [zoomModalOpened, setZoomModalOpened] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setEditModalOpened(false)\r\n    }, [smallImg])\r\n    const openEditModal = () => setEditModalOpened(true)\r\n    const closeEditModal = () => setEditModalOpened(false)\r\n\r\n    useEffect(() => {\r\n        setZoomModalOpened(false)\r\n    }, [])\r\n    const openZoomModal = () => setZoomModalOpened(true)\r\n    const closeZoomModal = () => setZoomModalOpened(false)\r\n\r\n    return (\r\n        <div\r\n            className={classnames(\r\n                classes.wrapper,\r\n                {[classes.border]: border},\r\n                {[classes.shadow]: shadow}\r\n            )}\r\n            style={{width: size}}\r\n        >\r\n\r\n            <div className={classes.image} style={{width: size, height: size}}>\r\n\r\n                {(editable || zoomable) && <AvatarButtons\r\n                    onEditClick={editable ? openEditModal : undefined}\r\n                    onZoomClick={zoomable ? openZoomModal : undefined}\r\n                />}\r\n\r\n                <div className={classes.photo}>\r\n                    <img src={smallImg || defaultAvatarImage} alt=\"avatar\"/>\r\n                </div>\r\n\r\n                {online && <div className={classes.onLineIndicator}/>}\r\n            </div>\r\n\r\n            {name && <div className={classes.name}>{name}</div>}\r\n\r\n            {editable && onEdit && <EditAvatarModalWindow\r\n                open={editModalOpened}\r\n                onSubmit={onEdit}\r\n                onClose={closeEditModal}\r\n            />}\r\n\r\n            {zoomable && largeImg && <ZoomAvatarModalWindow\r\n                img={largeImg}\r\n                open={zoomModalOpened}\r\n                onClose={closeZoomModal}\r\n            />}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\ntype EditAvatarModalWindowPropsType = {\r\n    open: boolean,\r\n    onSubmit: (image: File, cropArea: Area) => void\r\n    onClose: () => void\r\n}\r\nconst EditAvatarModalWindow: React.FC<EditAvatarModalWindowPropsType> = ({\r\n                                                                             open,\r\n                                                                             onSubmit,\r\n                                                                             onClose\r\n                                                                         }) => {\r\n    return (\r\n        <ModalWindow open={open}>\r\n            <ImageUploadForm aspect={1} onSubmit={onSubmit} closeModal={onClose}/>\r\n        </ModalWindow>\r\n    )\r\n}\r\n\r\n\r\ntype ZoomAvatarModalWindowPropsType = {\r\n    img: string,\r\n    open: boolean,\r\n    onClose: () => void\r\n}\r\nconst ZoomAvatarModalWindow: React.FC<ZoomAvatarModalWindowPropsType> = ({\r\n                                                                             img,\r\n                                                                             open,\r\n                                                                             onClose\r\n                                                                         }) => {\r\n    return (\r\n        <ModalWindow open={open} close={onClose}>\r\n            {img && <img src={img} alt=\"\"/>}\r\n        </ModalWindow>\r\n    )\r\n}\r\n\r\n\r\ntype AvatarButtonsPropsType = {\r\n    onEditClick?: () => void\r\n    onZoomClick?: () => void\r\n}\r\nconst AvatarButtons: React.FC<AvatarButtonsPropsType> = ({\r\n                                                             onEditClick,\r\n                                                             onZoomClick\r\n                                                         }) => {\r\n    return (\r\n        <div className={classes.buttons}>\r\n            {onZoomClick && <Button onClick={onZoomClick} type={'text'} size={'lg'} style={{color: 'white'}}>\r\n                <Button.Icon>\r\n                    <ZoomIn color={'white'}/>\r\n                </Button.Icon>\r\n            </Button>}\r\n            {onEditClick && <Button onClick={onEditClick} type={'text'} size={'lg'} style={{color: 'white'}}>\r\n                <Button.Icon>\r\n                    <PencilFill color={'white'}/>\r\n                </Button.Icon>\r\n            </Button>}\r\n        </div>\r\n    )\r\n}","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/4QBWRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAAEsAAAAAQAAASwAAAAB/+0ALFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAPHAFaAAMbJUccAQAAAgAEAP/hDIFodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0n77u/JyBpZD0nVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkJz8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0nYWRvYmU6bnM6bWV0YS8nIHg6eG1wdGs9J0ltYWdlOjpFeGlmVG9vbCAxMC4xMCc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczp0aWZmPSdodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyc+CiAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICA8dGlmZjpYUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpYUmVzb2x1dGlvbj4KICA8dGlmZjpZUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpZUmVzb2x1dGlvbj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wTU09J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8nPgogIDx4bXBNTTpEb2N1bWVudElEPmFkb2JlOmRvY2lkOnN0b2NrOjEwYjk3ZTMwLTY5ZmMtNDVlZS1iN2MwLWU2ZmZmOGJjOTNhNjwveG1wTU06RG9jdW1lbnRJRD4KICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmNhNTY3YzM3LWY1MTctNDQ1Ni05Y2Y3LTc2Mzg5NWQyOWQ1NTwveG1wTU06SW5zdGFuY2VJRD4KIDwvcmRmOkRlc2NyaXB0aW9uPgo8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSd3Jz8+/9sAQwAFAwQEBAMFBAQEBQUFBgcMCAcHBwcPCwsJDBEPEhIRDxERExYcFxMUGhURERghGBodHR8fHxMXIiQiHiQcHh8e/9sAQwEFBQUHBgcOCAgOHhQRFB4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4e/8AAEQgBaAFoAwEiAAIRAQMRAf/EABsAAQACAwEBAAAAAAAAAAAAAAAFBgMEBwEC/8QAPRABAAIBAgIEDAQEBgMBAAAAAAECAwQRBQYTITFBEhYiUVRxgZGSscHRFCNhoTJCUnIVQ1Ni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\"","import React from 'react'\r\nimport classes from './Spinner.module.scss'\r\n\r\ntype PropsType = {\r\n    size?: number\r\n    color?: string\r\n    thickness?: number\r\n    fullscreen?: boolean\r\n}\r\nconst Spinner: React.FC<PropsType> = ({\r\n                                          size = 20,\r\n                                          color = '#00BFFF',\r\n                                          thickness = 2,\r\n    fullscreen= false\r\n                                      }) => {\r\n    const style = {\r\n        width: size,\r\n        height: size,\r\n        borderWidth: thickness,\r\n        borderLeftColor: color,\r\n        borderBottomColor: color,\r\n        borderRightColor: color\r\n    }\r\n\r\n    return (\r\n        <div className={fullscreen ? classes.fullscreen : ''}>\r\n            <div className={classes.spinner} style={style}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Spinner","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"UserControl_dark__27lRZ\",\"userControl\":\"UserControl_userControl__3Z9wT\",\"userControlDropdown\":\"UserControl_userControlDropdown__gUMyi\",\"userControlUsername\":\"UserControl_userControlUsername__2sAyG\",\"userControlList\":\"UserControl_userControlList__chgpW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"InputFile_dark__2Fp8r\",\"inputFile\":\"InputFile_inputFile__18XvK\",\"spinner\":\"InputFile_spinner__3doCd\",\"dragActive\":\"InputFile_dragActive__34iKf\",\"cropperContainer\":\"InputFile_cropperContainer__E__H1\",\"imageCrop\":\"InputFile_imageCrop__1UKyo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"ModalWindow_dark__3BBPR\",\"header\":\"ModalWindow_header__1T75e\",\"title\":\"ModalWindow_title__6f-1N\",\"button\":\"ModalWindow_button__LweG5\",\"content\":\"ModalWindow_content__1Ybj6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"SidebarSubscriptions_dark__1-YTr\",\"sidebarFriends\":\"SidebarSubscriptions_sidebarFriends__i-7Oz\",\"Title\":\"SidebarSubscriptions_Title__3o_gc\",\"Avatars\":\"SidebarSubscriptions_Avatars__21pa8\",\"Link\":\"SidebarSubscriptions_Link__3DCTS\"};","import breakpoints from 'assets/styles/breakpoints.module.scss'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {useEffect, useState} from 'react'\r\nimport {getAuthUserData} from 'redux/reducers/auth.reducer'\r\nimport {StateType} from 'redux/store'\r\n\r\nexport const useAuthCheck = () => {\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(getAuthUserData())\r\n    }, [dispatch])\r\n\r\n    return useSelector((state: StateType) => state.auth.authorized)\r\n}\r\n\r\nexport const useBreakpoint = () => {\r\n    const [width, setWidth] = useState<number>(0)\r\n\r\n    const updateDimensions = () => {\r\n        setWidth(window.innerWidth)\r\n    }\r\n\r\n    useEffect(() => {\r\n        updateDimensions()\r\n        window.addEventListener('resize', updateDimensions)\r\n\r\n        return () => window.addEventListener('resize', updateDimensions);\r\n    }, [])\r\n\r\n    const breakpointsObject: {[key: string]: boolean} = {}\r\n    for (const [key, value] of Object.entries(breakpoints)) {\r\n        breakpointsObject[key] = width < Number.parseInt(value)\r\n    }\r\n\r\n    return breakpointsObject\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnSmall\":\"12\",\"btnMedium\":\"15\",\"btnLarge\":\"18\",\"avatarProfile\":\"130\",\"avatarProfilePhoneTablet\":\"100\",\"dark\":\"sizes_dark__3lth6\"};","import 'reactjs-popup/dist/index.css'\r\nimport React from 'react'\r\nimport './popupjs.css'\r\nimport Popup from 'reactjs-popup'\r\nimport {XLg} from 'react-bootstrap-icons'\r\nimport classes from './ModalWindow.module.scss'\r\nimport {Button} from 'components/_shared/Button/Button'\r\n\r\ntype Props = {\r\n    title?: string\r\n    open: boolean\r\n    close?: () => void\r\n}\r\n\r\nexport const ModalWindow: React.FC<Props> = ({title, close, open, children}) => {\r\n    return <Popup open={open} modal nested onClose={close}\r\n                  contentStyle={{borderRadius: 5, padding: '10px'}}\r\n                  closeOnDocumentClick={false}>\r\n        {(title || close) && <div className={classes.header}>\r\n            <div className={classes.title}>{title}</div>\r\n            <div className={classes.button} style={{marginBottom: 10}}>\r\n                <Button type={'cancel'} size='sm' onClick={close}>\r\n                    <Button.Icon><XLg/></Button.Icon>\r\n                </Button>\r\n            </div>\r\n        </div>}\r\n        <div className={classes.content}>\r\n            {children}\r\n        </div>\r\n    </Popup>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"Header_dark__2owyw\",\"header\":\"Header_header__2S68b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"Spinner_dark__m5peb\",\"fullscreen\":\"Spinner_fullscreen__2hfx6\",\"spinner\":\"Spinner_spinner__3_Y-p\",\"spin\":\"Spinner_spin__318Pr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"InputImageCrop_dark__2fSG9\",\"cropperContainer\":\"InputImageCrop_cropperContainer__3wPGC\",\"imageCrop\":\"InputImageCrop_imageCrop__3lPPY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"InputText_dark__2Et6v\",\"input\":\"InputText_input__1ftC7\",\"error\":\"InputText_error__3oZjy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"InputPassword_dark__1GIZL\",\"input\":\"InputPassword_input__la6af\",\"error\":\"InputPassword_error__ejdQ3\"};","import React, {CSSProperties} from 'react'\r\nimport classnames from 'classnames'\r\nimport classes from './Button.module.scss'\r\nimport colors from 'assets/styles/colors.module.scss'\r\nimport sizes from 'assets/styles/sizes.module.scss'\r\nimport Spinner from 'components/_shared/Spinner/Spinner'\r\n\r\ntype ButtonTypes = 'primary' | 'secondary' | 'neutral' | 'text' | 'link' | 'cancel'\r\ntype ButtonSizes = 'sm' | 'md' | 'lg' | 'xl'\r\n\r\ntype ButtonType = {\r\n    onClick?: (e: React.MouseEvent) => void\r\n    type?: ButtonTypes\r\n    size?: ButtonSizes\r\n    disabled?: boolean\r\n    spinner?: boolean\r\n    style?: CSSProperties\r\n}\r\n\r\nexport const Button: React.FC<ButtonType> & {\r\n    Icon: React.FC,\r\n    Text: React.FC,\r\n    Spinner: React.FC<{type: ButtonTypes, size: ButtonSizes}>,\r\n    Badge: React.FC\r\n} = ({\r\n         children,\r\n         onClick,\r\n         type = 'primary',\r\n         size = 'md',\r\n         disabled = false,\r\n         spinner = false,\r\n         style\r\n     }) => {\r\n\r\n    return (\r\n        <button onClick={onClick} disabled={disabled || spinner} style={style}\r\n                className={classnames(\r\n                    classes.button,\r\n                    {[classes.primary]: !type || type === 'primary'},\r\n                    {[classes.secondary]: type === 'secondary'},\r\n                    {[classes.neutral]: type === 'neutral'},\r\n                    {[classes.text]: type === 'text'},\r\n                    {[classes.cancel]: type === 'cancel'},\r\n                    {[classes.link]: type === 'link'},\r\n\r\n                    {[classes.spinner]: spinner},\r\n\r\n                    {[classes[size]]: size },\r\n                )}>\r\n\r\n            <div className={classnames(\r\n                classes.content,\r\n                {[classes.spinner]: spinner}\r\n            )}>\r\n                {children}\r\n                {spinner && <div className={classes.buttonSpinner}>\r\n                    <Button.Spinner size={size} type={type}/>\r\n                </div>}\r\n            </div>\r\n\r\n        </button>\r\n    )\r\n\r\n}\r\n\r\nButton.Icon = ({children}) => {\r\n    return <div className={classes.contentIcon}>\r\n        {children}\r\n    </div>\r\n}\r\n\r\nButton.Text = ({children}) => {\r\n    return <div className={classes.contentText}>\r\n        {children}\r\n    </div>\r\n}\r\n\r\nButton.Spinner = ({type, size}) => {\r\n    const spinnerColor = (type === 'primary' || type === 'cancel') ? colors.fontLight : colors.fontDark\r\n    const spinnerSizes: {[key: string]: string} = {\r\n        sm: sizes.btnSmall,\r\n        md: sizes.btnMedium,\r\n        lg: sizes.btnLarge\r\n    }\r\n    const spinnerSize = Number.parseInt(spinnerSizes[size])\r\n    return <Spinner color={spinnerColor} size={spinnerSize}/>\r\n}\r\n\r\nButton.Badge = ({children}) => {\r\n    return <div className={classes.badge}>{children}</div>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"InputCheckbox_dark__j7CXB\",\"checkbox\":\"InputCheckbox_checkbox__3Mzh6\",\"box\":\"InputCheckbox_box__2QMoh\"};","import moment from 'moment'\r\n\r\nexport const capitalize = (sourceString: string): string => {\r\n    return sourceString.charAt(0).toUpperCase() + sourceString.slice(1)\r\n}\r\n\r\nexport const formatDate = (date: Date | string, format: string = 'DD.MM.YYYY') => {\r\n    return moment(date).format(format)\r\n}\r\n\r\nexport const checkOnline = (lastSeenDate?: string) => {\r\n    if (!lastSeenDate) return false\r\n    const currentDate = new Date()\r\n    const date = new Date(lastSeenDate)\r\n    return currentDate.getTime() - date.getTime() < 5 * 60 * 1000\r\n}\r\n\r\nexport const trimString = (s: string, length: number = 5) => {\r\n    return (s.length > length) ? s.slice(0, length) + '...' : s\r\n}","import {coreApi, handleError, handleResponse} from './core.api'\r\nimport {CommentType, PostType} from 'types/types'\r\n\r\nexport type PostsDataType = { posts: Array<PostType> }\r\nexport type PostDataType = { post: PostType }\r\nexport type PostCommentDataType = { comment: CommentType }\r\n\r\nexport type NewPostDataType = {\r\n    post: PostType\r\n}\r\n\r\nexport const postApi = {\r\n    getPosts: () => coreApi\r\n        .get(`/post`)\r\n        .then(handleResponse<PostsDataType>())\r\n        .catch(handleError()),\r\n    getFeed: () => coreApi\r\n        .get(`/post/feed`)\r\n        .then(handleResponse<PostsDataType>())\r\n        .catch(handleError()),\r\n    getUserPosts: (username: string) => coreApi\r\n        .get(`/user/${username}/posts`)\r\n        .then(handleResponse<PostsDataType>())\r\n        .catch(handleError()),\r\n    getPost: (postId: string) => coreApi\r\n        .get(`/post/${postId}`)\r\n        .then(handleResponse<PostDataType>())\r\n        .catch(handleError()),\r\n    addPost: (text: string) => coreApi\r\n        .post(`/post`, { text })\r\n        .then(handleResponse<NewPostDataType>())\r\n        .catch(handleError()),\r\n    deletePost: (id: string) => coreApi\r\n        .delete(`/post/${id}`)\r\n        .then(handleResponse())\r\n        .catch(handleError()),\r\n    addLike: (id: string) => coreApi\r\n        .post(`/post/${id}/like`)\r\n        .then(handleResponse())\r\n        .catch(handleError()),\r\n    deleteLike: (id: string) => coreApi\r\n        .delete(`/post/${id}/like`)\r\n        .then(handleResponse())\r\n        .catch(handleError()),\r\n    addPostComment: (postId: string, text: string) => coreApi\r\n        .post(`post/${postId}/comment`, { text })\r\n        .then(handleResponse<PostCommentDataType>())\r\n        .catch(handleError()),\r\n    deletePostComment: (commentId: string) => coreApi\r\n        .delete(`post/comment/${commentId}`)\r\n        .then(handleResponse())\r\n        .catch(handleError())\r\n}","// INITIAL STATE\r\nimport {AuthUserDataType, CommentType, PostType, UserItemDataType} from 'types/types'\r\nimport {InferActionsTypes, ThunkType} from '../store'\r\nimport {postApi} from 'api/post.api'\r\nimport {ResultCodes} from 'api/core.api'\r\nimport {authActions, AuthActionType} from './auth.reducer'\r\n\r\nconst initialState = {\r\n    posts: [] as Array<PostType>,\r\n    isAddPostPending: false as boolean\r\n}\r\nexport type PostsStateType = typeof initialState\r\n\r\n// REDUCER\r\nconst reducer = (state: PostsStateType = initialState, action: PostsActionType): PostsStateType => {\r\n    switch (action.type) {\r\n        case 'rsn/post/SET_POSTS': {\r\n            return {\r\n                ...state,\r\n                posts: action.posts\r\n            }\r\n        }\r\n        case 'rsn/post/ADD_POST': {\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, action.post]\r\n            }\r\n        }\r\n        case 'rsn/post/SET_ADD_POST_PENDING': {\r\n            return {\r\n                ...state,\r\n                isAddPostPending: action.isPending\r\n            }\r\n        }\r\n        case 'rsn/post/DELETE_POST': {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(post => post._id !== action.id)\r\n            }\r\n        }\r\n        case 'rsn/post/ADD_POST_LIKE': {\r\n            const user: UserItemDataType = {\r\n                _id: action.user._id,\r\n                username: action.user.username,\r\n                firstName: action.user.firstName,\r\n                lastName: action.user.lastName,\r\n                avatar: action.user.avatar,\r\n                subscriptions: action.user.subscriptions,\r\n                updatedAt: Date.now().toString()\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: state.posts.map(post => (post._id !== action.postId) ? post : {\r\n                    ...post,\r\n                    likes: [...post.likes, user]\r\n                })\r\n            }\r\n        }\r\n        case 'rsn/post/DELETE_POST_LIKE': {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.map(post => (post._id !== action.postId) ? post : {\r\n                    ...post,\r\n                    likes: post.likes.filter(user => user._id !== action.user._id)\r\n                })\r\n            }\r\n        }\r\n        case 'rsn/post/ADD_POST_COMMENT': {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.map(post => (post._id !== action.postId) ? post : {\r\n                    ...post,\r\n                    comments: [...post.comments, action.comment]\r\n                })\r\n            }\r\n        }\r\n        case 'rsn/post/DELETE_POST_COMMENT': {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.map(post => (!post.comments.map(comment => comment._id).includes(action.commentId)) ?\r\n                    post :\r\n                    {...post, comments: post.comments.filter(comment => comment._id !== action.commentId)}\r\n                )\r\n            }\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\nexport default reducer\r\n\r\nexport const postsActions = {\r\n    setPosts: (posts: Array<PostType>) => ({type: 'rsn/post/SET_POSTS', posts} as const),\r\n    addPost: (post: PostType) => ({type: 'rsn/post/ADD_POST', post} as const),\r\n    deletePost: (id: string) => ({type: 'rsn/post/DELETE_POST', id} as const),\r\n    setAddPostPending: (isPending: boolean) => ({type: 'rsn/post/SET_ADD_POST_PENDING', isPending} as const),\r\n    addPostLike: (postId: string, user: AuthUserDataType) => ({type: 'rsn/post/ADD_POST_LIKE', postId, user} as const),\r\n    deletePostLike: (postId: string, user: AuthUserDataType) => ({\r\n        type: 'rsn/post/DELETE_POST_LIKE',\r\n        postId,\r\n        user\r\n    } as const),\r\n    addPostComment: (postId: string, comment: CommentType) => ({\r\n        type: 'rsn/post/ADD_POST_COMMENT',\r\n        postId,\r\n        comment\r\n    } as const),\r\n    deletePostComment: (commentId: string) => ({type: 'rsn/post/DELETE_POST_COMMENT', commentId} as const)\r\n}\r\nexport type PostsActionType = ReturnType<InferActionsTypes<typeof postsActions>>\r\n\r\nexport const getPost = (postId: string): ThunkType<PostsActionType> => async (dispatch) => {\r\n    const res = await postApi.getPost(postId)\r\n    if (res.resultCode === ResultCodes.success) {\r\n        dispatch(postsActions.setPosts([res.data.post]))\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\n\r\nexport const getFeedPosts = (): ThunkType<PostsActionType> => async (dispatch) => {\r\n    const res = await postApi.getFeed()\r\n    if (res.resultCode === ResultCodes.success) {\r\n        dispatch(postsActions.setPosts(res.data.posts))\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\n\r\nexport const getUserPosts = (username: string): ThunkType<PostsActionType> => async (dispatch) => {\r\n    const res = await postApi.getUserPosts(username)\r\n\r\n    if (res.resultCode === ResultCodes.success) {\r\n        dispatch(postsActions.setPosts(res.data.posts))\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\nexport const addPost = (text: string): ThunkType<PostsActionType | AuthActionType> => async (dispatch) => {\r\n    dispatch(postsActions.setAddPostPending(true))\r\n    const res = await postApi.addPost(text)\r\n    dispatch(postsActions.setAddPostPending(false))\r\n    if (res.resultCode === ResultCodes.success) {\r\n        console.log(res)\r\n        dispatch(postsActions.addPost(res.data.post))\r\n    }\r\n    if (res.resultCode === ResultCodes.authError) {\r\n        dispatch(authActions.clearUser())\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\nexport const deletePost = (id: string): ThunkType<PostsActionType> => async (dispatch) => {\r\n    const res = await postApi.deletePost(id)\r\n    if (res.resultCode === ResultCodes.success) {\r\n        dispatch(postsActions.deletePost(id))\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\n\r\nexport const addPostLike = (id: string): ThunkType<PostsActionType> => async (dispatch, getState) => {\r\n    const user = getState().auth.user\r\n    const res = await postApi.addLike(id)\r\n    if ((res.resultCode === ResultCodes.success) && user) {\r\n        dispatch(postsActions.addPostLike(id, user))\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\n\r\nexport const deletePostLike = (id: string): ThunkType<PostsActionType> => async (dispatch, getState) => {\r\n    const user = getState().auth.user\r\n    const res = await postApi.deleteLike(id)\r\n    if ((res.resultCode === ResultCodes.success) && user) {\r\n        dispatch(postsActions.deletePostLike(id, user))\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\n\r\nexport const addPostComment = (postId: string, text: string): ThunkType<PostsActionType> => async (dispatch, getState) => {\r\n    const user = getState().auth.user\r\n    const res = await postApi.addPostComment(postId, text)\r\n    if ((res.resultCode === ResultCodes.success) && user) {\r\n        dispatch(postsActions.addPostComment(postId, res.data.comment))\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\n\r\nexport const deletePostComment = (commentId: string): ThunkType<PostsActionType> => async (dispatch) => {\r\n    const res = await postApi.deletePostComment(commentId)\r\n    if ((res.resultCode === ResultCodes.success)) {\r\n        dispatch(postsActions.deletePostComment(commentId))\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}","import {Controller, RegisterOptions} from 'react-hook-form'\r\nimport {Control} from 'react-hook-form/dist/types/form'\r\nimport React from 'react'\r\nimport classes from './InputText.module.scss'\r\nimport {Item} from 'components/_shared/Form/Form'\r\n\r\ntype InputTextPropsType = {\r\n    name: string,\r\n    label?: string,\r\n    placeholder?: string,\r\n    rules?: RegisterOptions,\r\n    control?: Control,\r\n    disabled?: boolean\r\n    autoFocus?: boolean\r\n}\r\n\r\nexport const InputText: React.FC<InputTextPropsType> = ({\r\n                                                            name,\r\n                                                            label,\r\n                                                            rules,\r\n                                                            control,\r\n                                                            disabled = false,\r\n                                                            autoFocus = false,\r\n                                                            placeholder\r\n                                                        }) => {\r\n    return <Controller\r\n        control={control}\r\n        name={name}\r\n        rules={rules}\r\n        render={({field, fieldState}) => <Item label={label} required={!!rules?.required} error={fieldState.error}\r\n                                               disabled={disabled}>\r\n            <input\r\n                type={'text'}\r\n                className={`${classes.input} ${fieldState.error ? classes.error : ''}`}\r\n                name={field.name}\r\n                value={field.value}\r\n                onChange={field.onChange}\r\n                disabled={disabled}\r\n                autoFocus={autoFocus}\r\n                placeholder={placeholder}\r\n            />\r\n        </Item>}\r\n    />\r\n}","import React from 'react'\r\nimport {Controller, RegisterOptions} from 'react-hook-form'\r\nimport classes from './InputPassword.module.scss'\r\nimport {Control} from 'react-hook-form/dist/types/form'\r\nimport {Item} from 'components/_shared/Form/Form'\r\n\r\ntype InputPasswordPropsType = {\r\n    name: string,\r\n    label?: string,\r\n    rules?: RegisterOptions,\r\n    control?: Control,\r\n    disabled?: boolean\r\n}\r\nexport const InputPassword: React.FC<InputPasswordPropsType> = ({\r\n                                                                    name,\r\n                                                                    label,\r\n                                                                    rules,\r\n                                                                    control,\r\n                                                                    disabled = false\r\n                                                                }) => {\r\n    return <Controller\r\n        control={control}\r\n        name={name}\r\n        rules={rules}\r\n        render={({field, fieldState}) => <Item label={label} required={!!rules?.required} error={fieldState.error}\r\n                                               disabled={disabled}>\r\n            <input\r\n                type={'password'}\r\n                className={`${classes.input} ${fieldState.error ? classes.error : ''}`}\r\n                name={field.name}\r\n                value={field.value}\r\n                onChange={field.onChange}\r\n                disabled={disabled}\r\n            />\r\n        </Item>}\r\n    />\r\n}","import {AvatarType, ContactsType, FormDataType, LocationType, UserDataType} from '../types/types'\r\nimport {coreApi, handleError, handleResponse} from './core.api'\r\n\r\n// used for getting and updating user profile\r\nexport type EditProfileDataType = {\r\n    firstName: string,\r\n    lastName: string,\r\n    birthDate: string | null,\r\n    bio: string | null,\r\n    contacts: ContactsType | null,\r\n    location: LocationType | null,\r\n}\r\n\r\nexport const profileApi = {\r\n    getProfile: (username: string) => coreApi\r\n        .get(`/profile/${username}`)\r\n        .then(handleResponse<{ user: UserDataType }>())\r\n        .catch(handleError()),\r\n\r\n    updateProfile: (profileData: EditProfileDataType) => coreApi\r\n        .put('/profile', {...profileData})\r\n        .then(handleResponse())\r\n        .catch(handleError()),\r\n\r\n    updateAvatar: (formData: FormDataType) => coreApi\r\n        .put('/profile/avatar', formData)\r\n        .then(handleResponse<{ avatar: AvatarType }>())\r\n        .catch(handleError()),\r\n\r\n    updateCoverImage: (formData: FormDataType) => coreApi\r\n        .put('/profile/cover', formData)\r\n        .then(handleResponse<{ coverImage: string }>())\r\n        .catch(handleError()),\r\n\r\n    updateStatus: (status: string) => coreApi\r\n        .put('/profile/status', { status })\r\n        .then(handleResponse())\r\n        .catch(handleError())\r\n}","import {AvatarType, FormDataType, PostType, UserDataType} from '../../types/types'\r\nimport {profileApi, EditProfileDataType} from '../../api/profile.api'\r\nimport {ResultCodes} from '../../api/core.api'\r\nimport {InferActionsTypes, ThunkType} from '../store'\r\n\r\n// INITIAL STATE\r\nconst initialState = {\r\n    user: {} as UserDataType,\r\n    posts: [] as Array<PostType>,\r\n    isAddPostPending: false as boolean\r\n}\r\nexport type ProfileStateType = typeof initialState\r\n\r\n// REDUCER\r\nconst reducer = (state: ProfileStateType = initialState, action: ProfileActionType): ProfileStateType => {\r\n    switch (action.type) {\r\n        case 'rsn/profile/SET_PROFILE': {\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    ...action.userProfileData,\r\n                },\r\n            }\r\n        }\r\n        case 'rsn/profile/UPDATE_PROFILE': {\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    firstName: action.userProfileData.firstName,\r\n                    lastName: action.userProfileData.lastName,\r\n                    bio: action.userProfileData.bio,\r\n                    birthDate: action.userProfileData.birthDate,\r\n                    location: {\r\n                        ...state.user.location,\r\n                        ...action.userProfileData.location\r\n                    },\r\n                    contacts: {\r\n                        ...state.user.contacts,\r\n                        ...action.userProfileData.contacts\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        case 'rsn/profile/SET_AVATAR': {\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    avatar: {...state.user.avatar, ...action.avatar}\r\n                },\r\n                // post: state.post.map(post => ({...post, author: {...post.author, avatar: action.avatar}}))\r\n            }\r\n        }\r\n        case 'rsn/profile/SET_COVER_IMAGE': {\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    coverImage: action.coverImage\r\n                }\r\n            }\r\n        }\r\n        case 'rsn/profile/SET_STATUS': {\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    status: action.status\r\n                }\r\n            }\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\nexport default reducer\r\n\r\n//regions ACTION CREATORS\r\nexport const profileActions = {\r\n    setProfile: (userProfileData: UserDataType) => ({type: 'rsn/profile/SET_PROFILE', userProfileData} as const),\r\n    updateProfile: (userProfileData: EditProfileDataType) => ({type: 'rsn/profile/UPDATE_PROFILE', userProfileData} as const),\r\n    setAvatar: (avatar: AvatarType) => ({type: 'rsn/profile/SET_AVATAR', avatar} as const),\r\n    setCoverImage: (coverImage: string) => ({type: 'rsn/profile/SET_COVER_IMAGE', coverImage} as const),\r\n    setStatus: (status: string) => ({type: 'rsn/profile/SET_STATUS', status} as const)\r\n}\r\nexport type ProfileActionType = ReturnType<InferActionsTypes<typeof profileActions>>\r\n//endregion\r\n\r\n//region THUNK CREATORS\r\nexport const getUserData = (username: string): ThunkType<ProfileActionType> => async (dispatch) => {\r\n    const res = await profileApi.getProfile(username)\r\n\r\n    if (res.resultCode === ResultCodes.success) {\r\n        dispatch(profileActions.setProfile(res.data.user))\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\n\r\nexport const updateStatus = (status: string): ThunkType<ProfileActionType> => async (dispatch) => {\r\n    const res = await profileApi.updateStatus(status)\r\n\r\n    if (res.resultCode === ResultCodes.success) {\r\n        dispatch(profileActions.setStatus(status))\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\n\r\nexport const updateProfile = (profileData: EditProfileDataType): ThunkType<ProfileActionType> => async (dispatch) => {\r\n    const res = await profileApi.updateProfile(profileData)\r\n\r\n    if (res.resultCode === ResultCodes.success) {\r\n        dispatch(profileActions.updateProfile(profileData))\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\n\r\nexport const updateAvatar = (formData: FormDataType): ThunkType<ProfileActionType> => async (dispatch) => {\r\n    const res = await profileApi.updateAvatar(formData)\r\n    if (res.resultCode === ResultCodes.success) {\r\n        dispatch(profileActions.setAvatar(res.data.avatar))\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\n\r\nexport const updateCoverImage = (formData: FormDataType): ThunkType<ProfileActionType> => async (dispatch) => {\r\n    const res = await profileApi.updateCoverImage(formData)\r\n    if (res.resultCode === ResultCodes.success) {\r\n        dispatch(profileActions.setCoverImage(res.data.coverImage))\r\n    }\r\n    if (res.resultCode === ResultCodes.error) {\r\n        console.log(res)\r\n    }\r\n}\r\n\r\n\r\n\r\n//endregion"],"sourceRoot":""}