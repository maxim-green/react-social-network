{"version":3,"sources":["components/_shared/Input/InputPassword/InputPassword.tsx","components/_shared/Input/InputFile/InputFile.tsx","components/_shared/Input/InputImageCrop/InputImageCrop.tsx","components/_forms/ImageUploadForm/ImageUploadForm.tsx","api/user.api.ts","store/reducers/users.reducer.ts","components/_shared/Input/InputCheckbox/InputCheckbox.tsx","components/_forms/LoginForm.tsx","components/Layout/Header/Header.module.scss","components/Layout/Header/UserControl/UserControl.module.scss","components/_shared/Logo/Logo.module.scss","components/_shared/Card/Card.module.scss","components/Layout/SideBar/SidebarNavigation/SidebarNavigation.module.scss","assets/styles/breakpoints.module.scss","components/_shared/Form/Form.tsx","components/_shared/Button/Button.module.scss","routes/index.tsx","store/reducers/app.reducer.ts","components/Layout/Header/UserControl/UserControl.tsx","assets/images/logo.svg","components/_shared/Logo/Logo.tsx","components/Layout/Header/Header.tsx","components/Layout/SideBar/SidebarNavigation/SidebarNavigation.tsx","components/Layout/SideBar/SidebarSubscriptions/SidebarSubscriptions.tsx","components/Layout/BottomNavigation/BottomNavigation.tsx","components/Layout/Layout.tsx","components/AppRouter.tsx","components/App.tsx","reportWebVitals.js","store/store.ts","index.js","components/_shared/Form/Form.module.scss","components/_shared/Flex/Flex.tsx","api/core.api.ts","store/reducers/auth.reducer.ts","components/_shared/Avatar/Avatar.module.scss","api/socket.api.ts","api/dialog.api.ts","store/reducers/dialogs.reducer.ts","components/_shared/Flex/Flex.module.scss","assets/styles/colors.module.scss","components/Layout/Layout.module.scss","api/auth.api.ts","components/Layout/BottomNavigation/BottomNavigation.module.scss","components/_shared/Card/Card.tsx","components/_shared/Avatar/Avatar.tsx","assets/images/avatar-default.jpg","components/_shared/Spinner/Spinner.tsx","components/_shared/Input/InputFile/InputFile.module.scss","components/_shared/ModalWindow/ModalWindow.module.scss","components/Layout/SideBar/SidebarSubscriptions/SidebarSubscriptions.module.scss","assets/styles/sizes.module.scss","components/_shared/Spinner/Spinner.module.scss","components/_shared/Input/InputImageCrop/InputImageCrop.module.scss","components/_shared/Input/InputText/InputText.module.scss","components/_shared/Input/InputPassword/InputPassword.module.scss","components/_shared/Input/InputCheckbox/InputCheckbox.module.scss","utils/functions.ts","components/_shared/Button/Button.tsx","api/post.api.ts","store/reducers/posts.reducer.ts","components/_shared/Input/InputText/InputText.tsx","components/_shared/ModalWindow/ModalWindow.tsx","hooks/useBreakpoint.ts","api/profile.api.ts","store/reducers/profile.reducer.ts"],"names":["InputPassword","name","label","rules","control","disabled","render","field","fieldState","required","error","type","className","classes","input","value","onChange","CustomInputFile","onDrop","useCallback","acceptedFiles","useDropzone","getRootProps","getInputProps","isDragActive","inputFile","dragActive","inputFileBox","InputFile","file","InputImageCrop","aspect","srcFileUrl","ImageCrop","useState","zoom","setZoom","x","y","crop","setCrop","imageCrop","cropperContainer","image","showGrid","onCropComplete","croppedArea","croppedAreaPixels","onCropChange","onZoomChange","style","width","min","max","step","ImageUploadForm","onSubmit","closeModal","setSrcFileUrl","Form","data","marginLeft","Button","size","onClick","Text","window","URL","createObjectURL","gap","e","preventDefault","userApi","coreApi","get","then","handleResponse","catch","handleError","userId","post","delete","initialState","users","subscribePendingUserIds","usersReducer","state","action","filter","usersActions","getUsers","dispatch","a","res","resultCode","ResultCodes","success","console","log","subscribe","getAuthUserData","unsubscribe","InputCheckbox","labelPosition","checkbox","onBlur","box","LoginForm","errors","InputText","LoginFormContainer","useSelector","auth","loginErrors","useDispatch","loginFormData","login","module","exports","children","initialValues","submitOnBlur","submitOnEnter","resetAfterSubmit","useForm","defaultValues","mode","handleSubmit","reset","setError","watch","setValue","formError","setFormError","useEffect","find","forEach","message","childrenWithProps","React","Children","map","child","isValidElement","cloneElement","submit","wrapper","onKeyDown","key","ctrlKey","elementName","target","elementValue","FormRow","FormSection","height","classnames","section","align","row","Item","item","labelRequired","labelText","formItemError","Routes","initialized","appActions","UserControl","props","userControl","to","username","color","verticalAlign","Avatar","smallImg","avatar","online","Logo","logo","src","alt","Header","horizontalAlign","authorized","logout","List","SidebarNavigation","unreadMessagesCount","dialogs","Card","Navigation","Icon","Badge","SidebarSubscriptions","subscriptions","sidebarFriends","Title","Avatars","length","sub","small","checkOnline","updatedAt","firstName","_id","Link","BottomNavigation","colors","textLight","Layout","sidebar","background","authUserName","authUserAvatar","onLogout","tablet","useBreakpoint","layout","padding","Container","container","AppBar","appBar","Main","main","Content","content","Sidebar","LayoutContainer","authUserSubscriptions","user","RegistrationPage","lazy","LoginPage","ProfilePage","UsersPage","DialogsPage","PostPage","FeedPage","publicRoutes","path","POST","component","exact","PROFILE","USERS","LOGIN","REGISTER","HOME","privateRoutes","FEED","DIALOGS","AppRouter","route","App","app","Promise","all","startMessagesListening","stopMessagesListening","fallback","Spinner","thickness","fullscreen","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","authReducer","profile","profileReducer","posts","postsReducer","dialogsReducer","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","Row","bordered","alignItems","justifyContent","Array","index","marginRight","col","Col","stretch","flex","undefined","marginBottom","Space","space","process","axios","create","baseURL","withCredentials","err","response","registrationErrors","registrationSuccessful","authActions","setUser","clearUser","setRegistrationSuccessful","setRegistrationErrors","setLoginErrors","authApi","me","expiredToken","register","registrationData","serverMessageSubscribers","unreadMessagesSubscribers","notAuthorizedSubscribers","authorizedSubscribers","connectSubscribers","socket","io","autoConnect","reconnection","on","serverMessageResponse","s","unreadMessagesResponse","socketApi","connected","connect","disconnect","connectCallback","serverMessageCallback","unreadMessagesCallback","notAuthorizedCallback","authorizedCallback","push","dialogId","emit","dialogApi","messageId","patch","currentDialogId","messages","cachedMessage","dialog","updated","date","isRead","text","dialogsActions","connectHandlerCreator","getState","sendMessage","messageHandlerCreator","unreadMessagesHandlerCreator","notAuthorizedHandlerCreator","refreshToken","authorizedHandlerCreator","getDialogs","openDialog","closeDialog","readMessage","loginData","interceptors","use","originalConfig","config","status","_retry","reject","maxWidth","ref","largeImg","border","shadow","onEdit","zoomable","editable","modalActive","setModalActive","onZoomClick","photo","onLineIndicator","img","open","onClose","AvatarModalWindow","editMode","setEditMode","closeHandler","ModalWindow","marginTop","cropArea","AvatarButton","buttons","icon","borderWidth","borderLeftColor","borderBottomColor","borderRightColor","spinner","formatDate","format","moment","lastSeenDate","currentDate","Date","getTime","trimString","slice","button","primary","secondary","neutral","cancel","link","buttonSpinner","contentIcon","contentText","spinnerColor","fontLight","fontDark","spinnerSizes","sm","sizes","btnSmall","md","btnMedium","lg","btnLarge","spinnerSize","Number","parseInt","badge","postApi","postId","id","commentId","isAddPostPending","postsActions","reducer","isPending","lastName","now","toString","likes","comments","comment","includes","getPost","getFeedPosts","getUserPosts","addPost","authError","deletePost","addPostLike","deletePostLike","addPostComment","deletePostComment","autoFocus","placeholder","title","close","modal","nested","contentStyle","borderRadius","closeOnDocumentClick","header","setWidth","updateDimensions","innerWidth","addEventListener","breakpointsObject","Object","entries","breakpoints","profileApi","profileData","put","formData","profileActions","userProfileData","bio","birthDate","location","contacts","coverImage","getUserData","updateStatus","updateProfile","updateAvatar","updateCoverImage"],"mappings":"oIAAA,mFAaaA,EAAkD,SAAC,GAMO,IALHC,EAKE,EALFA,KACAC,EAIE,EAJFA,MACAC,EAGE,EAHFA,MACAC,EAEE,EAFFA,QAEE,IADFC,gBACE,SAClE,OAAO,cAAC,IAAD,CACHD,QAASA,EACTH,KAAMA,EACNE,MAAOA,EACPG,OAAQ,gBAAEC,EAAF,EAAEA,MAAOC,EAAT,EAASA,WAAT,OAAyB,cAAC,IAAD,CAAMN,MAAOA,EAAOO,WAAW,OAACN,QAAD,IAACA,MAAOM,UAAUC,MAAOF,EAAWE,MAC7DL,SAAUA,EADhB,SAE7B,uBACIM,KAAM,WACNC,UAAS,UAAKC,IAAQC,MAAb,YAAsBN,EAAWE,MAAQG,IAAQH,MAAQ,IAClET,KAAMM,EAAMN,KACZc,MAAOR,EAAMQ,MACbC,SAAUT,EAAMS,SAChBX,SAAUA,W,mHCzBbY,EAAiE,SAAC,GAEO,IADHD,EACE,EADFA,SAEzEE,EAASC,uBAAY,SAAAC,GACvBJ,GAAYA,EAASI,EAAc,MACpC,CAACJ,IACJ,EAAoDK,YAAY,CAACH,WAA1DI,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,cAAeC,EAApC,EAAoCA,aAEpC,OACI,8CAAKZ,UAAWC,IAAQY,WAAaD,EAAe,IAAMX,IAAQa,WAAa,KAASJ,KAAxF,cACI,qCAAWC,MAEPC,EACI,sBAAMZ,UAAWC,IAAQc,aAAzB,qCACA,sBAAMf,UAAWC,IAAQc,aAAzB,gEAcPC,EAA0C,SAAC,GAOO,IANH3B,EAME,EANFA,KACAC,EAKE,EALFA,MACAC,EAIE,EAJFA,MACAC,EAGE,EAHFA,QAGE,IAFFC,gBAEE,SADFW,EACE,EADFA,SAExD,OAAO,cAAC,IAAD,CACHZ,QAASA,EACTH,KAAMA,EACNE,MAAOA,EACPG,OAAQ,YAA0B,IAAxBC,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,WAKb,OAAO,cAAC,IAAD,CAAMN,MAAOA,EAAOO,WAAW,OAACN,QAAD,IAACA,MAAOM,UAAUC,MAAOF,EAAWE,MAC7DL,SAAUA,EADhB,SAEH,cAAC,EAAD,CAAiBW,SANA,SAACa,GAClBb,GAAYA,EAASa,GACrBtB,EAAMS,SAASa,Y,mCC9BlBC,G,OAAoD,SAAC,GASO,IARH7B,EAQE,EARFA,KACAC,EAOE,EAPFA,MACAC,EAME,EANFA,MACAC,EAKE,EALFA,QAKE,IAJFC,gBAIE,cAHFW,SAGE,EAFFe,eAEE,MAFO,EAEP,EADFC,EACE,EADFA,WAElE,OAAO,cAAC,IAAD,CACH5B,QAASA,EACTH,KAAMA,EACNE,MAAOA,EACPG,OAAQ,YAA0B,IAAxBC,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,WACb,OAAO,cAAC,IAAD,CAAMN,MAAOA,EAAOO,WAAW,OAACN,QAAD,IAACA,MAAOM,UAAUC,MAAOF,EAAWE,MAC7DL,SAAUA,EADhB,SAEH,cAAC,EAAD,CAAW0B,OAAQA,EAAQC,WAAYA,EAC5BhB,SAAUT,EAAMS,kBAUrCiB,EAA0C,SAAC,GAAoC,IAAnCF,EAAkC,EAAlCA,OAAQC,EAA0B,EAA1BA,WAAYhB,EAAc,EAAdA,SAClE,EAAwBkB,mBAAiB,GAAzC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAAwBF,mBAAgB,CACpCG,EAAG,EACHC,EAAG,IAFP,mBAAOC,EAAP,KAAaC,EAAb,KAYA,OACI,sBAAK5B,UAAWC,IAAQ4B,UAAxB,UACI,qBAAK7B,UAAWC,IAAQ6B,iBAAxB,SACKV,GAAc,cAAC,IAAD,CACXW,MAAOX,EACPO,KAAMA,EACNJ,KAAMA,EACNS,UAAU,EACVb,OAAQA,EACRc,eAhBO,SAACC,EAAmBC,GACvC/B,GAAYA,EAAS+B,IAgBTC,aAAcR,EACdS,aAAcb,MAGtB,sBAAKc,MAAO,CAACC,MAAO,QAApB,+CAEI,cAAC,IAAD,CACIC,IAAK,EACLC,IAAK,EACLC,KAAM,IACNvC,MAAOoB,EACPnB,SAxBY,SAACD,GACzBqB,EAAQrB,a,QCaDwC,IA1D8B,SAAC,GAAoC,IAAnCxB,EAAkC,EAAlCA,OAAQyB,EAA0B,EAA1BA,SAAUC,EAAgB,EAAhBA,WAC7D,EAAoCvB,mBAAwB,MAA5D,mBAAOF,EAAP,KAAmB0B,EAAnB,KAUA,OACI,8BACI,eAACC,EAAA,EAAD,CAAMH,SANC,SAACI,GACZJ,EAASI,EAAK/B,KAAM+B,EAAKrB,OAKrB,UACI,cAACoB,EAAA,EAAD,UACI,qBAAKT,MAAO,CAACW,WAAY,QAAzB,SACKJ,GAAc,cAACK,EAAA,EAAD,CAAQnD,KAAM,SAAUoD,KAAK,KAAKC,QAASP,EAA3C,SACX,cAACK,EAAA,EAAOG,KAAR,2BAKVjC,GAAc,cAAC2B,EAAA,EAAD,UACZ,cAAC,EAAD,CACI1D,KAAM,OACNC,MAAO,oCACPC,MAAO,CAACM,UAAU,GAClBO,SAxBM,SAACa,GACvB6B,EAAcQ,OAAOC,IAAIC,gBAAgBvC,SA2BhCG,GAAc,cAAC2B,EAAA,EAAD,UACX,cAAC,EAAD,CACI1D,KAAM,OACN8B,OAAQA,EACRC,WAAYA,MAIpB,eAAC,IAAD,CAAKqC,IAAK,GAAV,YACOrC,GAAc,cAAC8B,EAAA,EAAD,CAAQC,KAAK,KAAb,SACb,cAACD,EAAA,EAAOG,KAAR,uBAIDjC,GAAc,cAAC8B,EAAA,EAAD,CAAQnD,KAAK,YAAYoD,KAAK,KAAKC,QAAS,SAACM,GAC1DA,EAAEC,iBACFb,EAAc,OAFD,SAIb,cAACI,EAAA,EAAOG,KAAR,6C,0NCvDXO,EACC,kBAAMC,IACXC,IAAI,SACJC,KAAKC,eACLC,MAAMC,gBAJFN,EAKE,SAACO,GAAD,OAAoBN,IAC1BO,KAD0B,wBACJD,IACtBJ,KAAKC,eACLC,MAAMC,gBARFN,EASI,SAACO,GAAD,OAAoBN,IAC5BQ,OAD4B,wBACJF,IACxBJ,KAAKC,eACLC,MAAMC,gB,QCdTI,EAAe,CACjBC,MAAO,GACPC,wBAAyB,IAKhBC,EAAe,WAAoF,IAAnFC,EAAkF,uDAA1DJ,EAAcK,EAA4C,uCAC3G,OAAQA,EAAO5E,MACX,IAAK,sBACD,OAAO,2BACA2E,GADP,IAEIH,MAAOI,EAAOJ,QAGtB,IAAK,0CACD,OAAO,2BACAG,GADP,IAEIF,wBAAwB,GAAD,mBAAME,EAAMF,yBAAZ,CAAqCG,EAAOR,WAG3E,IAAK,6CACD,OAAO,2BACAO,GADP,IAEIF,wBAAyBE,EAAMF,wBAAwBI,QAAO,SAAAT,GAAM,OAAIA,IAAWQ,EAAOR,YAGlG,QACI,OAAOO,IAMNG,EACC,SAACN,GAAD,MAAqC,CAACxE,KAAM,sBAAuBwE,UADpEM,EAEkB,SAACV,GAAD,MAAqB,CAACpE,KAAM,0CAA2CoE,WAFzFU,EAGqB,SAACV,GAAD,MAAqB,CAACpE,KAAM,6CAA8CoE,WAM/FW,EAAW,yDAAkC,WAAOC,GAAP,eAAAC,EAAA,sEACpCpB,IADoC,QAChDqB,EADgD,QAE9CC,aAAeC,IAAYC,SAC/BL,EAASF,EAAsBI,EAAIjC,KAAKuB,QAExCU,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GANsC,2CAAlC,uDAUXM,EAAY,SAACpB,GAAD,8CAAgD,WAAOY,GAAP,eAAAC,EAAA,6DACrED,EAASF,EAAuCV,IADqB,SAEnDP,EAAkBO,GAFiC,OAE/Dc,EAF+D,OAGrEF,EAASF,EAA0CV,IAC/Cc,EAAIC,aAAeC,IAAYC,SAC/BL,EAASS,eAETP,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GARqD,2CAAhD,uDAYZQ,EAAc,SAACtB,GAAD,8CAAgD,WAAOY,GAAP,eAAAC,EAAA,6DACvED,EAASF,EAAuCV,IADuB,SAErDP,EAAoBO,GAFiC,OAEjEc,EAFiE,OAGvEF,EAASF,EAA0CV,IAC/Cc,EAAIC,aAAeC,IAAYC,SAC/BL,EAASS,eAETP,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GARuD,2CAAhD,wD,0HCzDdS,EAA6C,SAAC,GAME,IALHrG,EAKE,EALFA,KACAC,EAIE,EAJFA,MACAC,EAGE,EAHFA,MACAC,EAEE,EAFFA,QAEE,IADFC,gBACE,SACxD,OAAO,cAAC,IAAD,CACHD,QAASA,EACTH,KAAMA,EACNE,MAAOA,EACPG,OAAQ,gBAAEC,EAAF,EAAEA,MAAOC,EAAT,EAASA,WAAT,OAAyB,cAAC,IAAD,CAAMN,MAAOA,EAAOO,WAAW,OAACN,QAAD,IAACA,MAAOM,UAAUC,MAAOF,EAAWE,MAC7D6F,cAAc,QAAQlG,SAAUA,EADtC,SAE7B,sBAAKO,UAAWC,IAAQ2F,SAAxB,UACI,uBACI7F,KAAK,WACLV,KAAMA,EACNe,SAAUT,EAAMS,SAChByF,OAAQlG,EAAMkG,OACdpG,SAAUA,IAEd,sBAAMO,UAAWC,IAAQ6F,eCjBnCC,EAAiC,SAAC,GAAwB,IAAvBnD,EAAsB,EAAtBA,SAAUoD,EAAY,EAAZA,OAC/C,OACI,eAACjD,EAAA,EAAD,CAAMH,SAAUA,EAAUoD,OAAQA,EAAlC,UACI,cAACjD,EAAA,EAAD,UACI,cAACkD,EAAA,EAAD,CAAW5G,KAAM,QAASC,MAAO,SAAUC,MAAO,CAACM,UAAU,OAEjE,cAACkD,EAAA,EAAD,UACI,cAAC3D,EAAA,EAAD,CAAeC,KAAM,WAAYC,MAAO,WAAYC,MAAO,CAACM,UAAU,OAE1E,cAACkD,EAAA,EAAD,UACI,cAAC,EAAD,CAAe1D,KAAM,aAAcC,MAAO,kBAE9C,cAACyD,EAAA,EAAD,UACI,cAACG,EAAA,EAAD,CAAQnD,KAAK,UAAUoD,KAAK,KAA5B,SACI,cAACD,EAAA,EAAOG,KAAR,6BAmBL6C,IAXsB,WACjC,IAAMF,EAASG,aAAY,SAACzB,GAAD,OAAsBA,EAAM0B,KAAKC,eACtDtB,EAAoEuB,cAM1E,OAAO,cAAC,EAAD,CAAW1D,SAJD,SAAC2D,GACdxB,EAASyB,YAAMD,KAGmBP,OAAQA,M,oBChDlDS,EAAOC,QAAU,CAAC,KAAO,qBAAqB,OAAS,yB,oBCAvDD,EAAOC,QAAU,CAAC,KAAO,0BAA0B,YAAc,iCAAiC,oBAAsB,yCAAyC,oBAAsB,yCAAyC,gBAAkB,uC,oBCAlPD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,KAAO,qB,oBCAnDD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,KAAO,qB,oBCAnDD,EAAOC,QAAU,CAAC,KAAO,gCAAgC,WAAa,sCAAsC,gBAAkB,2CAA2C,eAAiB,0CAA0C,eAAiB,4C,oBCArPD,EAAOC,QAAU,CAAC,MAAQ,MAAM,UAAY,MAAM,YAAc,MAAM,YAAc,MAAM,OAAS,MAAM,WAAa,OAAO,QAAU,OAAO,YAAc,OAAO,KAAO,4B,+SCgC7J3D,EAAgC,SAAC,GAQQ,IAPHH,EAOE,EAPFA,SACA+D,EAME,EANFA,SACAC,EAKE,EALFA,cAKE,IAJHZ,cAIG,MAJK,GAIL,MAHFa,oBAGE,aAFDC,qBAEC,aADjDC,wBACiD,SACjD,EAAkEC,YAAQ,CACtEC,cAAc,eACPL,GAEPM,KAAM,WAJH1H,EAAP,EAAOA,QAAS2H,EAAhB,EAAgBA,aAAcC,EAA9B,EAA8BA,MAAOC,EAArC,EAAqCA,SAAUC,EAA/C,EAA+CA,MAAOC,EAAtD,EAAsDA,SAMtD,EAAkCjG,mBAA2C,MAA7E,mBAAOkG,EAAP,KAAkBC,EAAlB,KACAC,qBAAU,WACND,EAAazB,EAAO2B,MAAK,SAAA7H,GAAK,MAAoB,SAAhBA,EAAMH,UAAqB,MAC7DqG,EAAO4B,SAAQ,gBAAEjI,EAAF,EAAEA,MAAOkI,EAAT,EAASA,QAAT,OAAsBR,EAAS1H,EAAO,CAACI,KAAM,SAAU8H,iBACvE,CAAC7B,EAAQqB,IAEZ,IAAMS,EAAoBC,IAAMC,SAASC,IAAItB,GAAU,SAAAuB,GACnD,OAAIH,IAAMI,eAAeD,GACdH,IAAMK,aAAaF,EAAO,CAAC1I,YAE/B0I,KAGLG,EAAS,SAACrF,GACZJ,EAASI,GACL+D,GAAkBK,KAyB1B,OAAO,uBAAMpH,UAAWC,IAAQqI,QAAS1F,SAAUuE,EAAakB,GAASxC,OAtBnD,WACdgB,GAAcM,EAAakB,EAAblB,IAqB0EoB,UAlBvE,SAAC7E,GAGtB,GAAc,UAAVA,EAAE8E,IAAiB,CACnB,GAAI1B,GAAiBpD,EAAE+E,QAAS,CAC5B,IAAMC,EAAchF,EAAEiF,OAAOtJ,KACvBuJ,EAAetB,EAAMoB,GAC3BnB,EAASmB,EAAaE,EAAe,MAGrC9B,IAAkBpD,EAAE+E,UACpB/E,EAAEC,iBACFwD,EAAakB,EAAblB,MAML,UACFK,GAAa,cAACqB,EAAD,UAAS,sBAAM7I,UAAWC,IAAQuH,UAAzB,SAAqCA,EAAUK,YACrEC,MAIIgB,EAA0C,SAAC,GAID,IAHHnC,EAGE,EAHFA,SACAnH,EAEE,EAFFA,QAChDuJ,EACkD,EADlDA,OAEMjB,EAAoBC,IAAMC,SAASC,IAAItB,GAAU,SAAAuB,GACnD,OAAIH,IAAMI,eAAeD,GACdH,IAAMK,aAAaF,EAAO,CAAC1I,YAE/B0I,KAGX,OAAO,qBAAKlI,UAAWgJ,IACnB/I,IAAQgJ,SACT3G,MAAO,CAACyG,UAFJ,SAGFjB,KAIIe,EAAkC,SAAC,GAIQ,IAHHlC,EAGE,EAHFA,SACAnH,EAEE,EAFFA,QAEE,IADF0J,aACE,MADM,OACN,EAC7CpB,EAAoBC,IAAMC,SAASC,IAAItB,GAAU,SAAAuB,GACnD,OAAIH,IAAMI,eAAeD,GACdH,IAAMK,aAAaF,EAAO,CAAC1I,UAAS0J,UAExChB,KAGX,OAAO,qBAAKlI,UAAWgJ,IACnB/I,IAAQkJ,IADqB,eAE3BlJ,IAAQiJ,GAASA,IAFhB,SAIFpB,KAMIsB,EAAgC,SAAC,GAOO,IANHzC,EAME,EANFA,SACArH,EAKE,EALFA,MAKE,IAJFqG,qBAIE,MAJc,MAId,MAHF9F,gBAGE,aAFFJ,gBAEE,SADFK,EACE,EADFA,MACE,EADKoJ,MAErD,OAAO,wBAAOlJ,UAAWgJ,IAAW/I,IAAQoJ,KAAT,eAAiBpJ,IAAQ0F,GAAiBA,IAAtE,UACH,sBAAK3F,UAAWgJ,IAAW/I,IAAQX,MAAT,eAAkBW,IAAQR,SAAWA,IAA/D,UACKI,GAAY,sBAAMG,UAAWC,IAAQqJ,cAAzB,eACb,sBAAMtJ,UAAWC,IAAQsJ,UAAzB,SAAqCjK,IACpB,cAAX,OAALQ,QAAK,IAALA,OAAA,EAAAA,EAAOC,OAAuB,sBAAMC,UAAWC,IAAQuJ,cAAzB,oCACd,YAAX,OAAL1J,QAAK,IAALA,OAAA,EAAAA,EAAOC,OAAqB,sBAAMC,UAAWC,IAAQuJ,cAAzB,SAAyC1J,EAAM+H,aAE/ElB,O,yCCrJTF,EAAOC,QAAU,CAAC,KAAO,qBAAqB,OAAS,uBAAuB,GAAK,mBAAmB,GAAK,mBAAmB,GAAK,mBAAmB,GAAK,mBAAmB,QAAU,wBAAwB,QAAU,wBAAwB,UAAY,0BAA0B,QAAU,wBAAwB,KAAO,qBAAqB,KAAO,qBAAqB,OAAS,uBAAuB,QAAU,wBAAwB,YAAc,4BAA4B,YAAc,4BAA4B,cAAgB,8BAA8B,MAAQ,wB,4CCiBljB+C,E,8FCbNnF,EAAe,CACjBoF,aAAa,GAoBJC,EACO,SAACD,GAAD,MAA2B,CAAC3J,KAAM,yBAA0B2J,gB,oGCdnEE,EAAmC,SAACC,GAC7C,OACI,qBAAK7J,UAAWC,IAAQ6J,YAAxB,SACI,cAAC,IAAD,CAASC,GAAE,mBAAcF,EAAMG,UAAY1H,MAAO,CAAC2H,MAAO,SAA1D,SACI,eAAC,IAAD,CAAKC,cAAe,SAAUzG,IAAK,GAAnC,UACI,8BACI,cAAC0G,EAAA,EAAD,CAAQC,SAAUP,EAAMQ,OAAQC,QAAM,EAACnH,KAAM,OAEjD,8BAAO0G,EAAMG,mB,kBCrBlB,MAA0B,iCCK5BO,EAAiB,kBAAM,qBAAKvK,UAAWC,IAAQuK,KAAxB,SAChC,cAAC,IAAD,CAAST,GAAG,IAAZ,SACI,qBAAKU,IAAKD,EAAME,IAAI,c,OCiCbC,EAzBqB,SAACd,GACjC,OACA,eAAC,IAAD,CAAKe,gBAAiB,gBAAiBV,cAAe,SAAUzG,IAAK,GAArE,UACI,cAAC,EAAD,IACA,cAAC,IAAD,IACCoG,EAAMgB,YAAc,qBAAK7K,UAAWC,IAAQ6J,YAAxB,SACjB,cAAC,EAAD,CAAaE,SAAUH,EAAMG,SAAUK,OAAQR,EAAMQ,OAAQS,OAAQjB,EAAMiB,WAE9EjB,EAAMgB,YAAc,cAAC,IAAD,UACjB,cAAC3H,EAAA,EAAD,CAAQnD,KAAM,YAAaoD,KAAM,KAAMC,QAAS,kBAAMyG,EAAMiB,UAA5D,wBAEFjB,EAAMgB,YAAc,cAAC,IAAD,UAClB,cAAC,IAAD,CAASd,GAAE,SAAYzH,MAAO,CAAC2H,MAAO,SAAtC,SACQ,cAAC/G,EAAA,EAAD,CAAQnD,KAAM,YAAaoD,KAAM,KAAjC,yBAGV0G,EAAMgB,YAAc,cAAC,IAAD,UAClB,cAAC,IAAD,CAASd,GAAE,YAAezH,MAAO,CAAC2H,MAAO,SAAzC,SACI,cAAC/G,EAAA,EAAD,CAAQnD,KAAM,YAAaoD,KAAM,KAAjC,6B,uECiBV4H,EAAiB,SAAC,GAAgB,IAAfpE,EAAc,EAAdA,SACrB,OACI,6BACKA,KAKPyC,EAA+B,SAAC,GAAoB,IAAnBW,EAAkB,EAAlBA,GAAIpD,EAAc,EAAdA,SACvC,OACI,6BACI,cAAC,IAAD,CAASoD,GAAIA,EAAb,SACKpD,OAMFqE,EAxDgC,WAC3C,IAAMC,EAAsB9E,aAAY,SAACzB,GAAD,OAAsBA,EAAMwG,QAAQD,uBAE5E,OACI,cAACE,EAAA,EAAD,UACI,qBAAKnL,UAAWC,IAAQmL,WAAxB,SACI,eAAC,EAAD,WACI,cAAC,EAAD,CAAMrB,GAAG,QAAT,SACI,eAAC7G,EAAA,EAAD,CAAQnD,KAAM,OAAQoD,KAAM,KAA5B,UACI,cAACD,EAAA,EAAOmI,KAAR,UAAa,cAAC,IAAD,MACb,cAACnI,EAAA,EAAOG,KAAR,wBAGR,cAAC,EAAD,CAAM0G,GAAG,WAAT,SACI,eAAC7G,EAAA,EAAD,CAAQnD,KAAM,OAAQoD,KAAM,KAA5B,UACI,cAACD,EAAA,EAAOmI,KAAR,UAAa,cAAC,IAAD,MACb,cAACnI,EAAA,EAAOG,KAAR,2BAGR,cAAC,EAAD,CAAM0G,GAAG,WAAT,SACI,eAAC7G,EAAA,EAAD,CAAQnD,KAAM,OAAQoD,KAAM,KAA5B,UACI,cAACD,EAAA,EAAOmI,KAAR,UAAa,cAAC,IAAD,MACb,cAACnI,EAAA,EAAOG,KAAR,wBACG4H,GAAuB,cAAC/H,EAAA,EAAOoI,MAAR,UAAeL,SAGjD,cAAC,EAAD,CAAMlB,GAAG,SAAT,SACI,eAAC7G,EAAA,EAAD,CAAQnD,KAAM,OAAQoD,KAAM,KAA5B,UACI,cAACD,EAAA,EAAOmI,KAAR,UAAa,cAAC,IAAD,MACb,cAACnI,EAAA,EAAOG,KAAR,iC,yBCXbkI,EAlBmC,SAAC,GAAqB,IAApBC,EAAmB,EAAnBA,cAChD,OACI,cAACL,EAAA,EAAD,UACI,sBAAKnL,UAAWC,IAAQwL,eAAxB,UACI,qBAAKzL,UAAWC,IAAQyL,MAAxB,2BACA,qBAAK1L,UAAWC,IAAQ0L,QAAxB,SAC8B,IAAzBH,EAAcI,QAAgBJ,EAAcvD,KAAI,SAAA4D,GAAG,OAAI,cAAC,IAAD,CAAS9B,GAAE,mBAAc8B,EAAI7B,UAA7B,SAEhD,cAACG,EAAA,EAAD,CAAQC,SAAUyB,EAAIxB,OAAOyB,MAAOxB,OAAQyB,YAAYF,EAAIG,WAAY7I,KAAM,GAAI9D,KAAMwM,EAAII,aADvCJ,EAAIK,UAKrE,qBAAKlM,UAAWC,IAAQkM,KAAxB,SAA8B,eAAC,IAAD,CAASpC,GAAG,uBAAZ,uBAA8CyB,EAAcI,OAA5D,e,4CCTjCQ,GAAoC,SAAC,GAA0B,IAAzB/B,EAAwB,EAAxBA,OAAQQ,EAAgB,EAAhBA,WACjDI,EAAsB9E,aAAY,SAACzB,GAAD,OAAsBA,EAAMwG,QAAQD,uBAC5E,OAAO,sBAAKjL,UAAWC,IAAQqI,QAAxB,UACFuC,GAAc,qBAAK7K,UAAWC,IAAQoJ,KAAxB,SACX,cAAC,IAAD,CAASU,GAAI,QAAb,SACI,cAAC7G,EAAA,EAAD,CAAQnD,KAAM,OAAQoD,KAAM,KAA5B,SACI,cAACD,EAAA,EAAOmI,KAAR,UAAa,cAAC,IAAD,CAAepB,MAAOoC,IAAOC,oBAItD,qBAAKtM,UAAWC,IAAQoJ,KAAxB,SACI,cAAC,IAAD,CAASU,GAAI,SAAb,SACI,cAAC7G,EAAA,EAAD,CAAQnD,KAAM,OAAQoD,KAAM,KAA5B,SACI,cAACD,EAAA,EAAOmI,KAAR,UAAa,cAAC,IAAD,CAAYpB,MAAOoC,IAAOC,oBAIlDzB,GAAc,qBAAK7K,UAAWC,IAAQoJ,KAAxB,SACX,cAAC,IAAD,CAASU,GAAI,WAAb,SACI,eAAC7G,EAAA,EAAD,CAAQnD,KAAM,OAAQoD,KAAM,KAA5B,UACI,cAACD,EAAA,EAAOmI,KAAR,UAAa,cAAC,IAAD,CAAkBpB,MAAOoC,IAAOC,gBAC1CrB,GAAuB,cAAC/H,EAAA,EAAOoI,MAAR,UAAeL,WAIpDJ,GAAc,qBAAK7K,UAAWC,IAAQoJ,KAAxB,SACX,cAAC,IAAD,CAASU,GAAI,WAAb,SACI,cAAC7G,EAAA,EAAD,CAAQnD,KAAM,OAAQoD,KAAM,KAA5B,SACI,cAACD,EAAA,EAAOmI,KAAR,UAAa,cAAClB,EAAA,EAAD,CAAQC,SAAUC,EAAQlH,KAAM,cAIvD0H,GAAc,qBAAK7K,UAAWC,IAAQoJ,KAAxB,SACZ,cAAC,IAAD,CAASU,GAAI,SAAb,SACI,cAAC7G,EAAA,EAAD,CAAQnD,KAAM,OAAQoD,KAAM,KAA5B,SACI,cAACD,EAAA,EAAOmI,KAAR,UAAa,cAAC,KAAD,CAAcpB,MAAOoC,IAAOC,wB,SC3BvDC,GAA8B,SAAC,GAQO,IAPH5F,EAOE,EAPFA,SAOE,IANF6F,eAME,aALFC,kBAKE,SAJFjB,EAIE,EAJFA,cACAkB,EAGE,EAHFA,aACAC,EAEE,EAFFA,eACAC,EACE,EADFA,SAE/B/B,EAAa1E,aAAY,SAACzB,GAAD,OAAsBA,EAAM0B,KAAKyE,cACzDgC,EAAUC,eAAVD,OACP,OACI,sBAAK7M,UAAWC,IAAQ8M,OAAxB,UACI,cAAC,GAAD,UACI,cAAC,EAAD,CAAQlC,WAAYA,EAAYb,SAAU0C,EAAcrC,OAAM,OAAEsC,QAAF,IAAEA,OAAF,EAAEA,EAAgBb,MACxEhB,OAAQ8B,MAGpB,eAAC,GAAD,WACKJ,IAAYK,GAAU,eAAC,GAAD,YACjBhC,GAAc,cAACM,EAAA,EAAD,UACZ,qBAAK7I,MAAO,CAAC0K,QAAS,QAAtB,SAA+B,cAACjH,EAAA,EAAD,QAElC8E,GAAc,cAAC,EAAD,IACdA,IAAegC,GAAU,cAAC,EAAD,CAAsBrB,cAAeA,OAGnE,cAAC,GAAD,UACK7E,OAIRkG,GAAUF,GAAkB,cAAC,GAAD,CAAkBtC,OAAM,OAAEsC,QAAF,IAAEA,OAAF,EAAEA,EAAgBb,MAAOjB,WAAYA,IACzFgC,IAAWF,GAAkB,cAAC,GAAD,CAAkB9B,WAAYA,IAE3D4B,GAAc,qBAAKzM,UAAWC,IAAQwM,WAAxB,SACX,qBAAKhC,IAAI,uDAAuDC,IAAI,WAM9EuC,GAAsB,SAAC,GAAD,IAAEtG,EAAF,EAAEA,SAAF,OAAgB,qBAAK3G,UAAWC,IAAQiN,UAAxB,SACvCvG,KAGCwG,GAAmB,SAAC,GAAgB,IAAfxG,EAAc,EAAdA,SACvB,OACI,qBAAK3G,UAAWC,IAAQmN,OAAxB,SACI,cAAC,GAAD,UACKzG,OAMX0G,GAAiB,SAAC,GAAgB,IAAf1G,EAAc,EAAdA,SACrB,OACI,cAAC,GAAD,UACI,qBAAK3G,UAAWC,IAAQqN,KAAxB,SACK3G,OAMX4G,GAAoB,SAAC,GAAgB,IAAf5G,EAAc,EAAdA,SACxB,OACI,qBAAK3G,UAAWC,IAAQuN,QAAxB,SACK7G,KAKP8G,GAAoB,SAAC,GAAgB,IAAf9G,EAAc,EAAdA,SACxB,OACI,qBAAK3G,UAAWC,IAAQuM,QAAxB,SACK7F,KAmBE+G,GAdgE,SAAC7D,GAC5E,IAAM9E,EAAWuB,cACXqH,EAAwBxH,aAAY,SAACzB,GAAD,aAAsB,UAAAA,EAAM0B,KAAKwH,YAAX,eAAiBpC,gBAAiB,MAC5FkB,EAAevG,aAAY,SAACzB,GAAD,uBAAsBA,EAAM0B,KAAKwH,YAAjC,aAAsB,EAAiB5D,YAClE2C,EAAiBxG,aAAY,SAACzB,GAAD,uBAAsBA,EAAM0B,KAAKwH,YAAjC,aAAsB,EAAiBvD,UAM1E,OAAO,cAAC,GAAD,2BAAYR,GAAZ,IAAmB2B,cAAemC,EAAuBjB,aAAcA,EAC/DC,eAAgBA,EAAgBC,SAL9B,WACb7H,EAAS+F,oBT5GX+C,GAAmBC,gBAAK,kBAAM,kCAC9BC,GAAYD,gBAAK,kBAAM,iCACvBE,GAAcF,gBAAK,kBAAM,qEACzBG,GAAYH,gBAAK,kBAAM,kCACvBI,GAAcJ,gBAAK,kBAAM,+DACzBK,GAAWL,gBAAK,kBAAM,wDACtBM,GAAWN,gBAAK,kBAAM,wD,SAQhBrE,K,SAAAA,E,eAAAA,E,qBAAAA,E,aAAAA,E,iBAAAA,E,wBAAAA,E,8BAAAA,E,+BAAAA,M,KAWL,IAAM4E,GAA4B,CACrC,CAACC,KAAM7E,EAAO8E,KAAMC,UAAW,kBAAM,cAAC,GAAD,CAAQhC,SAAS,EAAjB,SAAuB,cAAC2B,GAAD,OAAsBM,OAAO,GACzF,CAACH,KAAM7E,EAAOiF,QAASF,UAAW,kBAAM,cAAC,GAAD,CAAQhC,SAAS,EAAjB,SAAuB,cAACwB,GAAD,OAAyBS,OAAO,GAC/F,CAACH,KAAM7E,EAAOkF,MAAOH,UAAW,kBAAM,cAAC,GAAD,CAAQhC,SAAS,EAAjB,SAAuB,cAACyB,GAAD,OAAuBQ,OAAO,GAC3F,CAACH,KAAM7E,EAAOmF,MAAOJ,UAAW,kBAAM,cAAC,GAAD,CAAQ/B,YAAY,EAApB,SAA0B,cAACsB,GAAD,OAAuBU,OAAO,GAC9F,CAACH,KAAM7E,EAAOoF,SAAUL,UAAW,kBAAM,cAAC,GAAD,CAAQ/B,YAAY,EAApB,SAA0B,cAACoB,GAAD,OAA8BY,OAAO,GACxG,CAACH,KAAM7E,EAAOqF,KAAMN,UAAW,kBAAM,cAAC,IAAD,CAAUzE,GAAI,YAAa0E,OAAO,IAG9DM,GAA6B,CACtC,CAACT,KAAM7E,EAAOuF,KAAMR,UAAW,kBAAM,cAAC,GAAD,CAAQhC,SAAS,EAAjB,SAAuB,cAAC4B,GAAD,OAAsBK,OAAO,GACzF,CAACH,KAAM7E,EAAOwF,QAAST,UAAW,kBAAM,cAAC,GAAD,CAAQhC,SAAS,EAAjB,SAAuB,cAAC0B,GAAD,OAAyBO,OAAO,GAC/F,CAACH,KAAM7E,EAAO8E,KAAMC,UAAW,kBAAM,cAAC,GAAD,CAAQhC,SAAS,EAAjB,SAAuB,cAAC2B,GAAD,OAAsBM,OAAO,GACzF,CAACH,KAAM7E,EAAOiF,QAASF,UAAW,kBAAM,cAAC,GAAD,CAAQhC,SAAS,EAAjB,SAAuB,cAACwB,GAAD,OAAyBS,OAAO,GAC/F,CAACH,KAAM7E,EAAOkF,MAAOH,UAAW,kBAAM,cAAC,GAAD,CAAQhC,SAAS,EAAjB,SAAuB,cAACyB,GAAD,OAAuBQ,OAAO,GAC3F,CAACH,KAAM7E,EAAOqF,KAAMN,UAAW,kBAAM,cAAC,IAAD,CAAUzE,GAAI,WAAY0E,OAAO,IUd3DS,GAxBO,WAElB,OADa/I,aAAY,SAACzB,GAAD,OAAsBA,EAAM0B,KAAKyE,cAGlD,cAAC,IAAD,UACKkE,GAAc9G,KAAI,SAAAkH,GAAK,OAAI,cAAC,IAAD,CAExBb,KAAMa,EAAMb,KACZE,UAAWW,EAAMX,UACjBC,MAAOU,EAAMV,OAHRU,EAAMb,WAOnB,cAAC,IAAD,UACKD,GAAapG,KAAI,SAAAkH,GAAK,OAAI,cAAC,IAAD,CAEvBb,KAAMa,EAAMb,KACZE,UAAWW,EAAMX,UACjBC,MAAOU,EAAMV,OAHRU,EAAMb,YCChBc,GAfO,WAClB,IAAM1F,EAAcvD,aAAY,SAACzB,GAAD,OAAsBA,EAAM2K,IAAI3F,eAE1D3E,EAAWuB,cAMjB,OALAoB,qBAAU,WAEN,OADA3C,EVqBqB,uCAAgC,WAAOA,GAAP,SAAAC,EAAA,sEACnDsK,QAAQC,IAAI,CACdxK,EAASS,eACTT,EAASyK,iBAH4C,OAKzDzK,EAAS4E,GAA0B,IALsB,2CAAhC,uDUpBd,WAAQ5E,EV4BQ,uCAAgC,WAAOA,GAAP,SAAAC,EAAA,sDAC3DD,EAAS0K,eACT1K,EAAS4E,GAA0B,IAFwB,2CAAhC,0DU3BxB,CAAC5E,IAEC2E,EACE,cAAC,WAAD,CAAUgG,SAAU,cAACC,EAAA,EAAD,CAASxM,KAAM,IAAKyM,UAAW,EAAGC,YAAY,IAAlE,SACH,cAAC,GAAD,MAFqB,cAACF,EAAA,EAAD,CAASxM,KAAM,IAAKyM,UAAW,EAAGC,YAAY,KCJ5DC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,+BAAqBjM,MAAK,YAAkD,IAA/CkM,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,yDCGRO,GAAcC,2BAAgB,CAChClB,IZAsB,WAA8E,IAA7E3K,EAA4E,uDAAtDJ,EAAcK,EAAwC,uCACnG,MACS,2BADDA,EAAO5E,KAEA,2BACA2E,GADP,IAEIgF,YAAa/E,EAAO+E,cAIjBhF,GYRf0B,KAAMoK,IACNC,QAASC,KACTnM,MAAOE,KACPkM,MAAOC,KACP1F,QAAS2F,MAOEC,GAJDC,uBACVT,GAAaU,+BAAoBC,2BAAgBC,QCVrDC,IAASzR,OACD,cAAC,IAAD,CAAUoR,MAAOA,GAAjB,SACI,cAAC,IAAD,UACI,cAAC,GAAD,QAGVM,SAASC,eAAe,SAM9BvB,M,mBCrBArJ,EAAOC,QAAU,CAAC,KAAO,mBAAmB,QAAU,sBAAsB,UAAY,wBAAwB,QAAU,sBAAsB,IAAM,kBAAkB,KAAO,mBAAmB,MAAQ,oBAAoB,OAAS,qBAAqB,KAAO,mBAAmB,KAAO,mBAAmB,MAAQ,oBAAoB,SAAW,uBAAuB,UAAY,wBAAwB,cAAgB,4BAA4B,cAAgB,8B,0MCajc4K,EAA0B,SAAC,GAOO,IANH3K,EAME,EANFA,SAME,IALFuD,qBAKE,MALc,QAKd,MAJFU,uBAIE,MAJgB,QAIhB,MAHFoC,eAGE,MAHQ,EAGR,MAFFvJ,WAEE,MAFI,EAEJ,EADF8N,EACE,EADFA,SAExC,OAAO,sBACHvR,UAAWgJ,IACP/I,IAAQkJ,IADS,eAEflJ,IAAQsR,SAAWA,IAEzBjP,MAAO,CACHkP,WAAY,UACZC,eAAgB7G,EAChBoC,WARD,UAWDrG,aAAoB+K,OAAU/K,EAASsB,KAAI,SAACC,EAAOyJ,GAC7C,MAAqB,mBAAVzJ,GACJH,IAAMK,aAAaF,EAAO,CAC7BM,IAAKmJ,EACLrP,MAAO,CACHsP,YAAcD,IAAUhL,EAASiF,OAAS,EAAK,EAAInI,EACnDgO,eAAgBvH,GAEpBlK,UAAWkI,EAAM2B,MAAM7J,UAAY,IAAMC,IAAQ4R,SAK5DlL,GAAgC,mBAAbA,KAA4BA,aAAoB+K,QAChE3J,IAAMK,aAAazB,EAAU,CACzBrE,MAAO,CACHsP,YAAa,EACbH,eAAgBvH,GAEpBlK,UAAW2G,EAASkD,MAAM7J,UAAY,IAAMC,IAAQ4R,UAgBvDC,EAA0B,SAAC,GASO,IARHnL,EAQE,EARFA,SACArE,EAOE,EAPFA,MACA4H,EAME,EANFA,cAME,IALFU,uBAKE,MALgB,QAKhB,MAJFoC,eAIE,MAJQ,EAIR,MAHFvJ,WAGE,MAHI,EAGJ,EAFF8N,EAEE,EAFFA,SAEE,IAD1CQ,eAC0C,SAE1C,OAAO,qBAAK/R,UAAWgJ,IAAW/I,IAAQ4R,IAAT,eAAgB5R,IAAQsR,SAAWA,IAAYjP,MAAO,CACnF0K,UACA4E,YAAW,OAAEtP,QAAF,IAAEA,OAAF,EAAEA,EAAOsP,YACpBJ,WAAY5G,EACZ6G,eAAgBvH,IAAa,OAAmB5H,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAOmP,gBACvDO,KAAMD,EAAU,OAAIE,GALjB,SAQFlK,IAAMC,SAASC,IAAItB,GAAU,SAAAuB,GAAK,OAAI,qBAAKlI,UAAWC,IAAQoJ,KAAM/G,MAAO,CAAC4P,aAAczO,GAApD,SAClCyE,UAKAiK,EAAkB,WAC3B,OAAO,qBAAKnS,UAAWC,IAAQmS,U,+BC9FnC,8JAGA/M,QAAQC,IAAI+M,mCAEL,IAQKlN,EARCtB,EAAUyO,IAAMC,OAAO,CAChCC,QAASH,sCACTI,iBAAiB,K,SAMTtN,O,qBAAAA,I,iBAAAA,I,0BAAAA,I,iCAAAA,M,KAcL,IAAMnB,EAAiB,kBAA4B,SAACiB,GACvD,OAAOA,EAAIjC,OAGFkB,EAAc,kBAAM,SAACwO,GAAqB,IAAD,EAClD,iBAAOA,EAAIC,gBAAX,aAAO,EAAc3P,Q,qSCzBnBsB,EAAe,CACjBuG,YAAY,EACZ+C,KAAM,KACNgF,mBAAoB,GACpBvM,YAAa,GACbwM,wBAAwB,GAKfrC,EAAc,WAAiF,IAAhF9L,EAA+E,uDAAxDJ,EAAcK,EAA0C,uCACvG,OAAQA,EAAO5E,MACX,IAAK,oBACD,OAAO,2BACA2E,GADP,IAEImG,YAAY,EACZ+C,KAAMjJ,EAAOiJ,OAGrB,IAAK,sBACD,OAAO,2BACAlJ,GADP,IAEImG,YAAY,EACZ+C,KAAM,OAGd,IAAK,uCACD,OAAO,2BACAlJ,GADP,IAEImO,uBAAwBlO,EAAOkO,yBAGvC,IAAK,mCACD,OAAO,2BACAnO,GADP,IAEIkO,mBAAoBjO,EAAOqB,SAGnC,IAAK,4BACD,OAAO,2BACAtB,GADP,IAEI2B,YAAa1B,EAAOqB,SAG5B,QACI,OAAOtB,IAMNoO,EAAc,CACvBC,QAAS,SAACnF,GAAD,MAA6B,CAClC7N,KAAM,oBACN6N,SAEJoF,UAAW,iBAAO,CAACjT,KAAM,wBACzBkT,0BAA2B,SAACJ,GAAD,MAAsC,CAC7D9S,KAAM,uCACN8S,2BAEJK,sBAAuB,SAAClN,GAAD,MAA+C,CAClEjG,KAAM,mCACNiG,WAEJmN,eAAgB,SAACnN,GAAD,MAA+C,CAC3DjG,KAAM,4BACNiG,YAOKQ,EAAQ,SAACD,GAAD,8CAA6D,WAAOxB,GAAP,eAAAC,EAAA,sEAC5DoO,IAAQ5M,MAAMD,GAD8C,QACxEtB,EADwE,QAEtEC,aAAeC,IAAYC,UAC/BL,EAASS,KACTT,EAASyK,gBAETvK,EAAIC,aAAeC,IAAYrF,OAC/BiF,EAAS+N,EAAYK,eAAelO,EAAIe,SAPkC,2CAA7D,uDAWR8E,EAAS,yDAAiC,WAAO/F,GAAP,eAAAC,EAAA,sEACjCoO,IAAQtI,SADyB,QAC7C7F,EAD6C,QAE3CC,aAAeC,IAAYC,UAC/BL,EAASS,KACTT,EAAS0K,gBAETxK,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GAPmC,2CAAjC,uDAWTO,EAAkB,yDAAiC,WAAOT,GAAP,iBAAAC,EAAA,sEAC1CoO,IAAQC,KADkC,QACtDpO,EADsD,QAEpDC,aAAeC,IAAYC,SACxBwI,EAAQ3I,EAAIjC,KAAZ4K,KACP7I,EAAS+N,EAAYC,QAAQnF,MAE7B7I,EAAS0K,eACT1K,EAAS+N,EAAYE,cAGrB/N,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GAEZA,EAAIC,aAAeC,IAAYmO,cAC/BjO,QAAQC,IAAIL,GAd4C,2CAAjC,uDAmBlBsO,EAAW,SAACC,GAAD,8CAAuE,WAAOzO,GAAP,eAAAC,EAAA,sEACzEoO,IAAQG,SAASC,GADwD,QACrFvO,EADqF,QAEnFC,aAAeC,IAAYC,SAC/BL,EAAS+N,EAAYG,2BAA0B,IAE/ChO,EAAIC,aAAeC,IAAYrF,OAC/BiF,EAAS+N,EAAYI,sBAAsBjO,EAAIe,SANwC,2CAAvE,wD,mBCzHxBS,EAAOC,QAAU,CAAC,KAAO,qBAAqB,QAAU,wBAAwB,OAAS,uBAAuB,MAAQ,sBAAsB,OAAS,uBAAuB,QAAU,wBAAwB,KAAO,qBAAqB,MAAQ,sBAAsB,gBAAkB,gCAAgC,KAAO,uB,mWCE/T+M,EAA2B,GAC3BC,EAA4B,GAC5BC,EAA2B,GAC3BC,EAAwB,GACxBC,EAAqB,GAErBC,EAASC,YAAG1B,kCAA2D,CAACI,iBAAiB,EAAMuB,aAAa,EAAOC,cAAc,IAOrIH,EAAOI,GAAG,kBAHkB,SAACC,GACzBV,EAAyB7L,SAAQ,SAAAwM,GAAC,OAAIA,EAAED,EAAsBtM,eASlEiM,EAAOI,GAAG,kBAHmB,SAACG,GAC1BX,EAA0B9L,SAAQ,SAAAwM,GAAC,OAAIA,EAAEC,EAAuBpJ,2BAQpE6I,EAAOI,GAAG,kBAHkB,WACxBP,EAAyB/L,QAAzB,uCAAiC,WAAMwM,GAAN,SAAApP,EAAA,sEAAiBoP,IAAjB,mFAAjC,0DAOJN,EAAOI,GAAG,cAHe,WACrBN,EAAsBhM,SAAQ,SAAAwM,GAAC,OAAIA,UAQvCN,EAAOI,GAAG,WAJY,WAClB7O,QAAQC,IAAI,4BACZuO,EAAmBjM,SAAQ,SAAAwM,GAAC,OAAIA,UAGpCN,EAAOI,GAAG,cAAc,kBAAM7O,QAAQC,IAAI,+BAInC,IAAMgP,EAAY,WAEZR,EAAOS,WAAWT,EAAOU,WAFzBF,EAAY,WAKbR,EAAOS,YACPT,EAAOW,aACPZ,EAAqB,GACrBJ,EAA2B,GAC3BC,EAA4B,GAC5BC,EAA2B,GAC3BC,EAAwB,KAXvBU,EAAY,SAgBjBI,EACAC,EACAC,EACAC,EACAC,GAEAjB,EAAmBkB,KAAKL,GACxBjB,EAAyBsB,KAAKJ,GAC9BjB,EAA0BqB,KAAKH,GAC/BjB,EAAyBoB,KAAKF,GAC9BjB,EAAsBmB,KAAKD,IA1BtBR,EAAY,SA8BjBI,EACAC,EACAC,EACAC,EACAC,GAEAjB,EAAqBA,EAAmBjP,QAAO,SAAAwP,GAAC,OAAIA,IAAMM,KAC1DjB,EAA2BA,EAAyB7O,QAAO,SAAAwP,GAAC,OAAIA,IAAMO,KACtEjB,EAA4BA,EAA0B9O,QAAO,SAAAwP,GAAC,OAAIA,IAAMQ,KACxEjB,EAA2BA,EAAyB/O,QAAO,SAAAwP,GAAC,OAAIA,IAAMS,KACtEjB,EAAwBA,EAAsBhP,QAAO,SAAAwP,GAAC,OAAIA,IAAMU,MAxC3DR,EAAY,SA0CTzM,EAAiBmN,GACzBlB,EAAOmB,KAAK,iBAAkBpN,EAASmN,I,OCvElCE,EACG,kBAAMrR,IACbC,IADa,WAEbC,KAAKC,eACLC,MAAMC,gBAJFgR,EAKI,SAAClL,GAAD,OAAsBnG,IAC9BC,IAD8B,kBACfkG,IACfjG,KAAKC,eACLC,MAAMC,gBARFgR,EASU,SAACC,GAAD,OAAuBtR,IACrCuR,MADqC,mBACnBD,IAClBpR,KAAKC,eACLC,MAAMC,gB,QCnBTI,EAAe,CACjB+Q,gBAAiB,KACjBC,SAAU,GACVpK,QAAS,GACTqK,cAAe,KACftK,oBAAqB,GAKZ4F,EAAiB,WAA0F,IAAzFnM,EAAwF,uDAA9DJ,EAAcK,EAAgD,uCACnH,OAAQA,EAAO5E,MACX,IAAK,uBACD,OAAO,2BACA2E,GADP,IAEI4Q,SAAS,GAAD,mBAAM5Q,EAAM4Q,UAAZ,CAAsB3Q,EAAOkD,UACrCqD,QAASxG,EAAMwG,QAAQjD,KAAI,SAAAuN,GAAM,OAAKA,EAAOtJ,MAAQvH,EAAOkD,QAAQ2N,OAA/B,YAAC,eAC/BA,GAD8B,IAEjCC,QAAS9Q,EAAOkD,QAAQ6N,OACxBF,OAGZ,IAAK,sBACD,OAAO,2BACA9Q,GADP,IAEI2Q,gBAAiB1Q,EAAO0Q,gBACxBC,SAAU3Q,EAAO2Q,WAGzB,IAAK,wBACD,OAAO,2BACA5Q,GADP,IAEI2Q,gBAAiB,KACjBC,SAAU,KAGlB,IAAK,uBACD,OAAO,2BACA5Q,GADP,IAEIwG,QAASvG,EAAOuG,UAGxB,IAAK,qCACD,OAAO,2BACAxG,GADP,IAEIuG,oBAAqBtG,EAAOsG,sBAGpC,IAAK,gCACD,OAAO,2BACAvG,GADP,IAEI4Q,SAAU5Q,EAAM4Q,SAASrN,KAAI,SAAAJ,GAAO,OAAIA,EAAQqE,MAAQvH,EAAOwQ,UAAYtN,EAAnC,2BAAiDA,GAAjD,IAA0D8N,QAAQ,SAGlH,IAAK,8BACD,OAAO,2BACAjR,GADP,IAEI6Q,cAAe,CAACK,KAAMjR,EAAOiR,KAAMZ,SAAUrQ,EAAOqQ,YAG5D,IAAK,gCACD,OAAO,2BACAtQ,GADP,IAEI6Q,cAAe,OAGvB,QACI,OAAO7Q,IAMNmR,EACE,SAACR,EAAyBC,GAA1B,MAA4D,CACnEvV,KAAM,sBACNsV,kBACAC,aAJKO,EAMI,iBAAO,CAAC9V,KAAM,0BANlB8V,EAOG,SAAC3K,GAAD,MAAiC,CAACnL,KAAM,uBAAwBmL,YAPnE2K,EAQG,SAAChO,GAAD,MAA2B,CAAC9H,KAAM,uBAAwB8H,YAR7DgO,EASe,SAAC5K,GAAD,MAAkC,CACtDlL,KAAM,qCACNkL,wBAXK4K,EAaU,SAACV,GAAD,MAAwB,CAACpV,KAAM,gCAAiCoV,cAb1EU,EAcS,SAACD,EAAcZ,GAAf,MAAqC,CAACjV,KAAM,8BAA+B6V,OAAMZ,aAd1Fa,EAeW,iBAAO,CAAC9V,KAAM,kCAQhC+V,EAAwB,SAAC/Q,EAAsEgR,GAEjG,OAAO,WACH1Q,QAAQC,IAAI,mBACZ,IAAOiQ,EAAiBQ,IAAW7K,QAA5BqK,cACHA,IACAxQ,EAASiR,EAAYT,EAAcK,KAAML,EAAcP,WACvDjQ,EAAS8Q,QAMfI,EAAwB,SAAClR,GAE3B,OAAO,SAAC8C,GACJ9C,EAAS8Q,EAA0BhO,MAKrCqO,EAA+B,SAACnR,GAElC,OAAO,SAACkG,GACJlG,EAAS8Q,EAAsC5K,MAKjDkL,EAA8B,SAACpR,GAEjC,6BAAO,sBAAAC,EAAA,6DACHK,QAAQC,IAAI,2CACZP,EAAS0K,KAFN,SAGe2D,IAAQgD,eAHvB,cAIKlR,aAAeC,IAAYC,SAASL,EAASyK,KAJlD,4CASL6G,EAA2B,SAACtR,EAAsEgR,GAEpG,6BAAO,sBAAA/Q,EAAA,2FAKEwK,EAAyB,yDAAoC,WAAOzK,EAAUgR,GAAjB,SAAA/Q,EAAA,sDACtEsP,IACAA,EACIwB,EAAsB/Q,EAAUgR,GAChCE,EAAsBlR,GACtBmR,EAA6BnR,GAC7BoR,EAA4BpR,GAC5BsR,KAPkE,2CAApC,yDAUzB5G,EAAwB,yDAAoC,WAAO1K,EAAUgR,GAAjB,SAAA/Q,EAAA,sDACrEsP,EACIwB,EAAsB/Q,EAAUgR,GAChCE,EAAsBlR,GACtBmR,EAA6BnR,GAC7BoR,EAA4BpR,GAC5BsR,KAEJ/B,IARqE,2CAApC,yDAYxB0B,EAAc,SAACnO,EAAiBmN,GAAlB,8CAAqE,WAAOjQ,EAAUgR,GAAjB,SAAA/Q,EAAA,sDAC5FD,EAAS8Q,EAAgChO,EAASmN,IAClDV,EAAsBzM,EAASmN,GAF6D,2CAArE,yDAKdsB,EAAa,yDAAoC,WAAOvR,GAAP,eAAAC,EAAA,sEACxCkQ,IADwC,QACpDjQ,EADoD,QAGlDC,aAAeC,IAAYC,SAC/BL,EAAS8Q,EAA0B5Q,EAAIjC,KAAKkI,UAE5CjG,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GAP0C,2CAApC,uDAWbsR,EAAa,SAACvM,GAAD,8CAAoD,WAAOjF,GAAP,eAAAC,EAAA,sEACxDkQ,EAAsBlL,GADkC,QACpE/E,EADoE,QAElEC,aAAeC,IAAYC,SAC/BL,EAAS8Q,EAAyB5Q,EAAIjC,KAAKwS,OAAOtJ,IAAKjH,EAAIjC,KAAKwS,OAAOF,WAEvErQ,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GAN0D,2CAApD,uDAUbuR,EAAc,yDAAoC,WAAOzR,GAAP,SAAAC,EAAA,sDAC3DD,EAAS8Q,KADkD,2CAApC,uDAIdY,EAAc,SAACtB,GAAD,8CAAqD,WAAOpQ,GAAP,eAAAC,EAAA,sEAC1DkQ,EAA4BC,GAD8B,QACtElQ,EADsE,QAEpEC,aAAeC,IAAYC,UAC/BL,EAAS8Q,EAAiC5Q,EAAIjC,KAAK6E,QAAQqE,MAC3DnH,EAAS8Q,EAAsC5Q,EAAIjC,KAAKiI,uBAExDhG,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GAP4D,2CAArD,wD,mBC5M3BwB,EAAOC,QAAU,CAAC,KAAO,mBAAmB,IAAM,kBAAkB,SAAW,uBAAuB,IAAM,kBAAkB,KAAO,mBAAmB,MAAQ,sB,mBCAhKD,EAAOC,QAAU,CAAC,MAAQ,OAAO,MAAQ,OAAO,OAAS,UAAU,KAAO,qBAAqB,IAAM,UAAU,MAAQ,UAAU,MAAQ,UAAU,QAAU,UAAU,SAAW,UAAU,QAAU,OAAO,UAAY,UAAU,SAAW,yBAAyB,QAAU,wBAAwB,UAAY,0BAA0B,SAAW,2B,mBCA1VD,EAAOC,QAAU,CAAC,KAAO,qBAAqB,OAAS,uBAAuB,WAAa,2BAA2B,UAAY,0BAA0B,OAAS,uBAAuB,KAAO,qBAAqB,QAAU,wBAAwB,QAAU,0B,oGCiCvP0M,EAAU,CACnB5M,MAAO,SAACkQ,GAAD,OAA8B7S,IAChCO,KAAK,cAAesS,GACpB3S,KAAKC,eACLC,MAAMC,gBAEXmP,GAAI,kBAAMxP,IACLC,IAAI,YACJC,KAAKC,eACLC,MAAMC,gBAEXkS,aAAc,kBAAMvS,IACfO,KAAK,wBACLL,KAAKC,eACLC,MAAMC,gBAEX4G,OAAQ,kBAAMjH,IACTQ,OAAO,gBACPN,KAAKC,eACLC,MAAMC,gBAEXqP,SAAU,SAACC,GAAD,OAA4C3P,IACjDO,KAAK,iBAAkBoP,GACvBzP,KAAKC,eACLC,MAAMC,iBAIfL,IAAQ8S,aAAahE,SAASiE,KAC1B,SAAC3R,GACG,OAAOA,IAFf,uCAII,WAAOyN,GAAP,eAAA1N,EAAA,yDACU6R,EAAiBnE,EAAIoE,OACC,MAAxBpE,EAAIC,SAASoE,QAAmBF,EAAeG,QAAwC,kBAA9BtE,EAAIC,SAAS3P,KAAK6E,QAFnF,uBAGQgP,EAAeG,QAAS,EAHhC,SAIc5D,EAAQgD,eAJtB,gCAKevS,YAAQgT,IALvB,gCAOWvH,QAAQ2H,OAAOvE,IAP1B,2CAJJ,wD,mBC7DAjM,EAAOC,QAAU,CAAC,KAAO,+BAA+B,QAAU,kCAAkC,KAAO,iC,gCCD3G,oEAQayE,EAA4B,SAAC,GAAD,IAAExE,EAAF,EAAEA,SAAUuQ,EAAZ,EAAYA,SAAUC,EAAtB,EAAsBA,IAAtB,OAA+B,qBACpEnX,UAAWC,IAAQkL,KACnB7I,MAAO,CAAC4U,YACRC,IAAKA,EAH+D,SAKnExQ,M,gMCSQwD,EAA8B,SAAC,GASO,IARHC,EAQE,EARFA,SACAgN,EAOE,EAPFA,SAOE,IANFjU,YAME,MANK,GAML,EALF9D,EAKE,EALFA,KACAiL,EAIE,EAJFA,OAIE,IAHF+M,cAGE,aAFFC,cAEE,SADFC,EACE,EADFA,OAEtCC,KAAcpN,IAAYgN,GAC1BK,IAAaF,EAEnB,EAAsCjW,oBAAS,GAA/C,mBAAOoW,EAAP,KAAoBC,EAApB,KAEAjQ,qBAAU,WACNiQ,GAAe,KAChB,IAIH,OACI,sBACI3X,UAAWgJ,IACP/I,IAAQqI,QADS,eAEfrI,IAAQoX,OAASA,GAFF,eAGfpX,IAAQqX,OAASA,IAEvBhV,MAAO,CAACC,MAAOY,GANnB,UASI,sBAAKnD,UAAWC,IAAQ8B,MAAOO,MAAO,CAACC,MAAOY,EAAM4F,OAAQ5F,GAA5D,WACMsU,GAAYD,IAAa,cAAC,EAAD,CACvBI,YAAaJ,EAfX,kBAAMG,GAAe,SAea1F,IAGxC,qBAAKjS,UAAWC,IAAQ4X,MAAxB,SACI,qBAAKpN,IAAKL,GC3Df,kvSD2D+CM,IAAI,aAGjDJ,GAAU,qBAAKtK,UAAWC,IAAQ6X,qBAGtCzY,GAAQ,qBAAKW,UAAWC,IAAQZ,KAAxB,SAA+BA,IAEvCmY,GAAYJ,GAAY,cAAC,EAAD,CACrBW,IAAKX,EACLY,KAAMN,EACNO,QA7BO,kBAAMN,GAAe,IA8B5B/U,SAAU2U,QAYpBW,EAA8D,SAAC,GAKW,IAJHH,EAIE,EAJFA,IACAC,EAGE,EAHFA,KACAC,EAEE,EAFFA,QACArV,EACE,EADFA,SAEzE,EAAgCtB,oBAAS,GAAzC,mBAAO6W,EAAP,KAAiBC,EAAjB,KAIMC,EAAe,WACjBD,GAAY,GACZH,KASJ,OACI,eAACK,EAAA,EAAD,CAAaN,KAAMA,EAAnB,UACI,eAAC,IAAD,CAAKpN,gBAAiB,SAAtB,WACMuN,KAAcvV,GAAY,cAACM,EAAA,EAAD,CAAQE,QAjB5B,WAChBgV,GAAY,IAgBwB,2BAC3BD,KAAcvV,GACf,cAACM,EAAA,EAAD,CAAQE,QAZA,WAChBgV,GAAY,IAWJ,SAA8B,cAAClV,EAAA,EAAOmI,KAAR,UAAa,cAAC,IAAD,QAC3C,cAAC,IAAD,IACA,cAACnI,EAAA,EAAD,CAAQnD,KAAM,SAAUoD,KAAK,KAAKC,QAASiV,EAA3C,SACI,cAACnV,EAAA,EAAOmI,KAAR,UAAa,cAAC,IAAD,YAGnB8M,GAAY,qBAAK7V,MAAO,CAACiW,UAAW,IAAxB,SACTR,GAAO,qBAAKtN,IAAKsN,EAAKrN,IAAI,OAE9ByN,KAAcvV,GAAY,cAACD,EAAA,EAAD,CAAiBxB,OAAQ,EAAGyB,SAlBzC,SAACb,EAAayW,GAC9B5V,GAAYA,EAASb,EAAOyW,GAC9BH,WAwBFI,EAAiD,SAAC,GAEQ,IADHb,EACE,EADFA,YAEzD,OACI,wBAAQ5X,UAAWC,IAAQyY,QAAStV,QAASwU,EAA7C,SACI,qBAAK5X,UAAWC,IAAQ0Y,KAAxB,SACI,cAAC,IAAD,CAAQ1O,MAAO,QAAS9G,KAAM,W,gCEpI9C,iCA+BewM,IAtBsB,SAAC,GAKO,IAAD,IAJFxM,YAIE,MAJK,GAIL,MAHF8G,aAGE,MAHM,UAGN,MAFF2F,iBAEE,MAFU,EAEV,MADxCC,kBACwC,SAClCvN,EAAQ,CACVC,MAAOY,EACP4F,OAAQ5F,EACRyV,YAAahJ,EACbiJ,gBAAiB5O,EACjB6O,kBAAmB7O,EACnB8O,iBAAkB9O,GAGtB,OACI,qBAAKjK,UAAW6P,EAAa5P,IAAQ4P,WAAa,GAAlD,SACI,qBAAK7P,UAAWC,IAAQ+Y,QAAS1W,MAAOA,Q,mBCzBpDmE,EAAOC,QAAU,CAAC,KAAO,wBAAwB,UAAY,6BAA6B,QAAU,2BAA2B,WAAa,8BAA8B,iBAAmB,oCAAoC,UAAY,+B,mBCA7OD,EAAOC,QAAU,CAAC,KAAO,0BAA0B,OAAS,4BAA4B,MAAQ,2BAA2B,OAAS,4BAA4B,QAAU,+B,mBCA1KD,EAAOC,QAAU,CAAC,KAAO,mCAAmC,eAAiB,6CAA6C,MAAQ,oCAAoC,QAAU,sCAAsC,KAAO,qC,mBCA7ND,EAAOC,QAAU,CAAC,SAAW,KAAK,UAAY,KAAK,SAAW,KAAK,cAAgB,MAAM,yBAA2B,MAAM,aAAe,KAAK,gBAAkB,KAAK,KAAO,sB,mBCA5KD,EAAOC,QAAU,CAAC,KAAO,sBAAsB,WAAa,4BAA4B,QAAU,yBAAyB,KAAO,wB,mBCAlID,EAAOC,QAAU,CAAC,KAAO,6BAA6B,iBAAmB,yCAAyC,UAAY,oC,mBCA9HD,EAAOC,QAAU,CAAC,KAAO,wBAAwB,MAAQ,yBAAyB,MAAQ,2B,mBCA1FD,EAAOC,QAAU,CAAC,KAAO,4BAA4B,MAAQ,6BAA6B,MAAQ,+B,mBCAlGD,EAAOC,QAAU,CAAC,KAAO,4BAA4B,SAAW,gCAAgC,IAAM,6B,gCCDtG,4HAMauS,EAAa,SAACvD,GAAwD,IAAnCwD,EAAkC,uDAAjB,aAC7D,OAAOC,IAAOzD,GAAMwD,OAAOA,IAGlBnN,EAAc,SAACqN,GACxB,IAAKA,EAAc,OAAO,EAC1B,IAAMC,EAAc,IAAIC,KAClB5D,EAAO,IAAI4D,KAAKF,GACtB,OAAOC,EAAYE,UAAY7D,EAAK6D,UAAY,KAGvCC,EAAa,SAACpF,GAAmC,IAAxBxI,EAAuB,uDAAN,EACnD,OAAQwI,EAAExI,OAASA,EAAUwI,EAAEqF,MAAM,EAAG7N,GAAU,MAAQwI,I,sKCCjDlR,EAKT,SALSA,EAKR,GAQO,IAPHyD,EAOE,EAPFA,SACAvD,EAME,EANFA,QAME,IALFrD,YAKE,MALK,UAKL,MAJFoD,YAIE,MAJK,KAIL,MAHF1D,gBAGE,aAFFuZ,eAEE,SADF1W,EACE,EADFA,MAGL,OACI,wBAAQc,QAASA,EAAS3D,SAAUA,GAAYuZ,EAAS1W,MAAOA,EACxDtC,UAAWgJ,IACP/I,IAAQyZ,OADS,eAEfzZ,IAAQ0Z,SAAW5Z,GAAiB,YAATA,GAFZ,eAGfE,IAAQ2Z,UAAqB,cAAT7Z,GAHL,eAIfE,IAAQ4Z,QAAmB,YAAT9Z,GAJH,eAKfE,IAAQ2V,KAAgB,SAAT7V,GALA,eAMfE,IAAQ6Z,OAAkB,WAAT/Z,GANF,eAOfE,IAAQ8Z,KAAgB,SAATha,GAPA,eASfE,IAAQ+Y,QAAUA,GATH,eAWf/Y,IAAQkD,GAAQA,IAZ9B,SAeI,sBAAKnD,UAAWgJ,IACZ/I,IAAQuN,QADc,eAEpBvN,IAAQ+Y,QAAUA,IAFxB,UAIKrS,EACAqS,GAAW,qBAAKhZ,UAAWC,IAAQ+Z,cAAxB,SACR,cAAC9W,EAAOyM,QAAR,CAAgBxM,KAAMA,EAAMpD,KAAMA,YAStDmD,EAAOmI,KAAO,YAAiB,IAAf1E,EAAc,EAAdA,SACZ,OAAO,qBAAK3G,UAAWC,IAAQga,YAAxB,SACFtT,KAITzD,EAAOG,KAAO,YAAiB,IAAfsD,EAAc,EAAdA,SACZ,OAAO,qBAAK3G,UAAWC,IAAQia,YAAxB,SACFvT,KAITzD,EAAOyM,QAAU,YAAmB,IAAjB5P,EAAgB,EAAhBA,KAAMoD,EAAU,EAAVA,KACfgX,EAAyB,YAATpa,GAA+B,WAATA,EAAqBsM,IAAO+N,UAAY/N,IAAOgO,SACrFC,EAAwC,CAC1CC,GAAIC,IAAMC,SACVC,GAAIF,IAAMG,UACVC,GAAIJ,IAAMK,UAERC,EAAcC,OAAOC,SAASV,EAAanX,IACjD,OAAO,cAAC,IAAD,CAAS8G,MAAOkQ,EAAchX,KAAM2X,KAG/C5X,EAAOoI,MAAQ,YAAiB,IAAf3E,EAAc,EAAdA,SACb,OAAO,qBAAK3G,UAAWC,IAAQgb,MAAxB,SAAgCtU,M,mYC9E9BuU,EAKA,kBAAMrX,IACVC,IADU,cAEVC,KAAKC,eACLC,MAAMC,gBARFgX,EASK,SAAClR,GAAD,OAAsBnG,IAC/BC,IAD+B,gBAClBkG,EADkB,WAE/BjG,KAAKC,eACLC,MAAMC,gBAZFgX,EAaA,SAACC,GAAD,OAAoBtX,IACxBC,IADwB,gBACXqX,IACbpX,KAAKC,eACLC,MAAMC,gBAhBFgX,EAiBA,SAACtF,GAAD,OAAkB/R,IACtBO,KADsB,QACR,CAAEwR,SAChB7R,KAAKC,eACLC,MAAMC,gBApBFgX,EAqBG,SAACE,GAAD,OAAgBvX,IACvBQ,OADuB,gBACP+W,IAChBrX,KAAKC,eACLC,MAAMC,gBAxBFgX,EAyBA,SAACE,GAAD,OAAgBvX,IACpBO,KADoB,gBACNgX,EADM,UAEpBrX,KAAKC,eACLC,MAAMC,gBA5BFgX,EA6BG,SAACE,GAAD,OAAgBvX,IACvBQ,OADuB,gBACP+W,EADO,UAEvBrX,KAAKC,eACLC,MAAMC,gBAhCFgX,EAiCO,SAACC,EAAgBvF,GAAjB,OAAkC/R,IAC7CO,KAD6C,eAChC+W,EADgC,YACd,CAAEvF,SACjC7R,KAAKC,eACLC,MAAMC,gBApCFgX,EAqCU,SAACG,GAAD,OAAuBxX,IACrCQ,OADqC,uBACdgX,IACvBtX,KAAKC,eACLC,MAAMC,gB,QC5CTI,EAAe,CACjBqM,MAAO,GACP2K,kBAAkB,GAmFTC,GAFEC,IA5EC,WAAoF,IAAnF9W,EAAkF,uDAA1DJ,EAAcK,EAA4C,uCAC/F,OAAQA,EAAO5E,MACX,IAAK,qBACD,OAAO,2BACA2E,GADP,IAEIiM,MAAOhM,EAAOgM,QAGtB,IAAK,oBACD,OAAO,2BACAjM,GADP,IAEIiM,MAAM,GAAD,mBAAMjM,EAAMiM,OAAZ,CAAmBhM,EAAOP,SAGvC,IAAK,gCACD,OAAO,2BACAM,GADP,IAEI4W,iBAAkB3W,EAAO8W,YAGjC,IAAK,uBACD,OAAO,2BACA/W,GADP,IAEIiM,MAAOjM,EAAMiM,MAAM/L,QAAO,SAAAR,GAAI,OAAIA,EAAK8H,MAAQvH,EAAOyW,QAG9D,IAAK,yBACD,IAAMxN,EAAyB,CAC3B1B,IAAKvH,EAAOiJ,KAAK1B,IACjBlC,SAAUrF,EAAOiJ,KAAK5D,SACtBiC,UAAWtH,EAAOiJ,KAAK3B,UACvByP,SAAU/W,EAAOiJ,KAAK8N,SACtBrR,OAAQ1F,EAAOiJ,KAAKvD,OACpBmB,cAAe7G,EAAOiJ,KAAKpC,cAC3BQ,UAAWsN,KAAKqC,MAAMC,YAE1B,OAAO,2BACAlX,GADP,IAEIiM,MAAOjM,EAAMiM,MAAM1I,KAAI,SAAA7D,GAAI,OAAKA,EAAK8H,MAAQvH,EAAOwW,OAAU/W,EAA/B,YAAC,eACzBA,GADwB,IAE3ByX,MAAM,GAAD,mBAAMzX,EAAKyX,OAAX,CAAkBjO,WAInC,IAAK,4BACD,OAAO,2BACAlJ,GADP,IAEIiM,MAAOjM,EAAMiM,MAAM1I,KAAI,SAAA7D,GAAI,OAAKA,EAAK8H,MAAQvH,EAAOwW,OAAU/W,EAA/B,YAAC,eACzBA,GADwB,IAE3ByX,MAAOzX,EAAKyX,MAAMjX,QAAO,SAAAgJ,GAAI,OAAIA,EAAK1B,MAAQvH,EAAOiJ,KAAK1B,cAItE,IAAK,4BACD,OAAO,2BACAxH,GADP,IAEIiM,MAAOjM,EAAMiM,MAAM1I,KAAI,SAAA7D,GAAI,OAAKA,EAAK8H,MAAQvH,EAAOwW,OAAU/W,EAA/B,YAAC,eACzBA,GADwB,IAE3B0X,SAAS,GAAD,mBAAM1X,EAAK0X,UAAX,CAAqBnX,EAAOoX,iBAIhD,IAAK,+BACD,OAAO,2BACArX,GADP,IAEIiM,MAAOjM,EAAMiM,MAAM1I,KAAI,SAAA7D,GAAI,OAAMA,EAAK0X,SAAS7T,KAAI,SAAA8T,GAAO,OAAIA,EAAQ7P,OAAK8P,SAASrX,EAAO0W,WAA5D,YAAC,eAExBjX,GAFuB,IAEjB0X,SAAU1X,EAAK0X,SAASlX,QAAO,SAAAmX,GAAO,OAAIA,EAAQ7P,MAAQvH,EAAO0W,eAD3EjX,OAKZ,QACI,OAAOM,IAOL,SAACiM,GAAD,MAA6B,CAAC5Q,KAAM,qBAAsB4Q,WAD3D4K,EAEA,SAACnX,GAAD,MAAqB,CAACrE,KAAM,oBAAqBqE,SAFjDmX,EAGG,SAACH,GAAD,MAAiB,CAACrb,KAAM,uBAAwBqb,OAHnDG,EAIU,SAACE,GAAD,MAAyB,CAAC1b,KAAM,gCAAiC0b,cAJ3EF,EAKI,SAACJ,EAAgBvN,GAAjB,MAA6C,CAAC7N,KAAM,yBAA0Bob,SAAQvN,SAL1F2N,EAMO,SAACJ,EAAgBvN,GAAjB,MAA6C,CACzD7N,KAAM,4BACNob,SACAvN,SATK2N,EAWO,SAACJ,EAAgBY,GAAjB,MAA2C,CACvDhc,KAAM,4BACNob,SACAY,YAdKR,EAgBU,SAACF,GAAD,MAAwB,CAACtb,KAAM,+BAAgCsb,cAIzEY,EAAU,SAACd,GAAD,8CAAgD,WAAOpW,GAAP,eAAAC,EAAA,sEACjDkW,EAAgBC,GADiC,QAC7DlW,EAD6D,QAE3DC,aAAeC,IAAYC,SAC/BL,EAASwW,EAAsB,CAACtW,EAAIjC,KAAKoB,QAEzCa,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GANmD,2CAAhD,uDAUViX,EAAe,yDAAkC,WAAOnX,GAAP,eAAAC,EAAA,sEACxCkW,IADwC,QACpDjW,EADoD,QAElDC,aAAeC,IAAYC,SAC/BL,EAASwW,EAAsBtW,EAAIjC,KAAK2N,QAExC1L,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GAN0C,2CAAlC,uDAUfkX,EAAe,SAACnS,GAAD,8CAAkD,WAAOjF,GAAP,eAAAC,EAAA,sEACxDkW,EAAqBlR,GADmC,QACpE/E,EADoE,QAGlEC,aAAeC,IAAYC,SAC/BL,EAASwW,EAAsBtW,EAAIjC,KAAK2N,QAExC1L,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GAP0D,2CAAlD,uDAUfmX,EAAU,SAACxG,GAAD,8CAA+D,WAAO7Q,GAAP,eAAAC,EAAA,6DAClFD,EAASwW,GAA+B,IAD0C,SAEhEL,EAAgBtF,GAFgD,OAE5E3Q,EAF4E,OAGlFF,EAASwW,GAA+B,IACpCtW,EAAIC,aAAeC,IAAYC,UAC/BC,QAAQC,IAAIL,GACZF,EAASwW,EAAqBtW,EAAIjC,KAAKoB,QAEvCa,EAAIC,aAAeC,IAAYkX,WAC/BtX,EAAS+N,IAAYE,aAErB/N,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GAZkE,2CAA/D,uDAeVqX,EAAa,SAAClB,GAAD,8CAA4C,WAAOrW,GAAP,eAAAC,EAAA,sEAChDkW,EAAmBE,GAD6B,QAC5DnW,EAD4D,QAE1DC,aAAeC,IAAYC,SAC/BL,EAASwW,EAAwBH,IAEjCnW,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GANkD,2CAA5C,uDAUbsX,EAAc,SAACnB,GAAD,8CAA4C,WAAOrW,EAAUgR,GAAjB,iBAAA/Q,EAAA,6DAC7D4I,EAAOmI,IAAW3P,KAAKwH,KADsC,SAEjDsN,EAAgBE,GAFiC,QAE7DnW,EAF6D,QAG1DC,aAAeC,IAAYC,SAAYwI,GAC5C7I,EAASwW,EAAyBH,EAAIxN,IAEtC3I,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GAPmD,2CAA5C,yDAWduX,EAAiB,SAACpB,GAAD,8CAA4C,WAAOrW,EAAUgR,GAAjB,iBAAA/Q,EAAA,6DAChE4I,EAAOmI,IAAW3P,KAAKwH,KADyC,SAEpDsN,EAAmBE,GAFiC,QAEhEnW,EAFgE,QAG7DC,aAAeC,IAAYC,SAAYwI,GAC5C7I,EAASwW,EAA4BH,EAAIxN,IAEzC3I,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GAPsD,2CAA5C,yDAWjBwX,EAAiB,SAACtB,EAAgBvF,GAAjB,8CAA8D,WAAO7Q,EAAUgR,GAAjB,iBAAA/Q,EAAA,6DAClF4I,EAAOmI,IAAW3P,KAAKwH,KAD2D,SAEtEsN,EAAuBC,EAAQvF,GAFuC,QAElF3Q,EAFkF,QAG/EC,aAAeC,IAAYC,SAAYwI,GAC5C7I,EAASwW,EAA4BJ,EAAQlW,EAAIjC,KAAK+Y,UAEtD9W,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GAPwE,2CAA9D,yDAWjByX,EAAoB,SAACrB,GAAD,8CAAmD,WAAOtW,GAAP,eAAAC,EAAA,sEAC9DkW,EAA0BG,GADoC,QAC1EpW,EAD0E,QAEvEC,aAAeC,IAAYC,SAChCL,EAASwW,EAA+BF,IAExCpW,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GANgE,2CAAnD,wD,gCCxMjC,qFAgBagB,EAA0C,SAAC,GAQO,IAPH5G,EAOE,EAPFA,KACAC,EAME,EANFA,MACAC,EAKE,EALFA,MACAC,EAIE,EAJFA,QAIE,IAHFC,gBAGE,aAFFkd,iBAEE,SADFC,EACE,EADFA,YAExD,OAAO,cAAC,IAAD,CACHpd,QAASA,EACTH,KAAMA,EACNE,MAAOA,EACPG,OAAQ,gBAAEC,EAAF,EAAEA,MAAOC,EAAT,EAASA,WAAT,OAAyB,cAAC,IAAD,CAAMN,MAAOA,EAAOO,WAAW,OAACN,QAAD,IAACA,MAAOM,UAAUC,MAAOF,EAAWE,MAC7DL,SAAUA,EADhB,SAE7B,uBACIM,KAAM,OACNC,UAAS,UAAKC,IAAQC,MAAb,YAAsBN,EAAWE,MAAQG,IAAQH,MAAQ,IAClET,KAAMM,EAAMN,KACZc,MAAOR,EAAMQ,MACbC,SAAUT,EAAMS,SAChBX,SAAUA,EACVkd,UAAWA,EACXC,YAAaA,W,gCCvC7B,0GAcatE,EAA+B,SAAC,GAAoC,IAAnCuE,EAAkC,EAAlCA,MAAOC,EAA2B,EAA3BA,MAAO9E,EAAoB,EAApBA,KAAMrR,EAAc,EAAdA,SAC9D,OAAO,eAAC,IAAD,CAAOqR,KAAMA,EAAM+E,OAAK,EAACC,QAAM,EAAC/E,QAAS6E,EAClCG,aAAc,CAACC,aAAc,EAAGlQ,QAAS,QACzCmQ,sBAAsB,EAF7B,WAGDN,GAASC,IAAU,sBAAK9c,UAAWC,IAAQmd,OAAxB,UACjB,qBAAKpd,UAAWC,IAAQ4c,MAAxB,SAAgCA,IAChC,qBAAK7c,UAAWC,IAAQyZ,OAAQpX,MAAO,CAAC4P,aAAc,IAAtD,SACI,cAAC,IAAD,CAAQnS,KAAM,SAAUoD,KAAK,KAAKC,QAAS0Z,EAA3C,SACI,cAAC,IAAOzR,KAAR,UAAa,cAAC,IAAD,aAIzB,qBAAKrL,UAAWC,IAAQuN,QAAxB,SACK7G,S,uGCxBAmG,EAAgB,WACzB,MAA0BxL,mBAAiB,GAA3C,mBAAOiB,EAAP,KAAc8a,EAAd,KAEMC,EAAmB,WACrBD,EAAS/Z,OAAOia,aAGpB7V,qBAAU,WAIN,OAHA4V,IACAha,OAAOka,iBAAiB,SAAUF,GAE3B,kBAAMha,OAAOka,iBAAiB,SAAUF,MAChD,IAGH,IADA,IAAMG,EAAgD,GACtD,MAA2BC,OAAOC,QAAQC,KAA1C,eAAwD,CAAnD,0BAAOpV,EAAP,KAAYrI,EAAZ,KACDsd,EAAkBjV,GAAOjG,EAAQwY,OAAOC,SAAS7a,GAGrD,OAAOsd,I,mPCTEI,EACG,SAAC7T,GAAD,OAAsBnG,IAC7BC,IAD6B,mBACbkG,IAChBjG,KAAKC,eACLC,MAAMC,gBAJF2Z,EAMM,SAACC,GAAD,OAAsCja,IAChDka,IAAI,WAD4C,eAC5BD,IACpB/Z,KAAKC,eACLC,MAAMC,gBATF2Z,EAWK,SAACG,GAAD,OAA4Bna,IACrCka,IAAI,kBAAmBC,GACvBja,KAAKC,eACLC,MAAMC,gBAdF2Z,EAgBS,SAACG,GAAD,OAA4Bna,IACzCka,IAAI,iBAAkBC,GACtBja,KAAKC,eACLC,MAAMC,gBAnBF2Z,EAqBK,SAAC9G,GAAD,OAAoBlT,IAC7Bka,IAAI,kBAAmB,CAAEhH,WACzBhT,KAAKC,eACLC,MAAMC,gBC/BTI,EAAe,CACjBsJ,KAAM,GACN+C,MAAO,GACP2K,kBAAkB,GAwET2C,GAHEzC,IAhEC,WAA0F,IAAzF9W,EAAwF,uDAA9DJ,EAAcK,EAAgD,uCACrG,OAAQA,EAAO5E,MACX,IAAK,0BACD,OAAO,2BACA2E,GADP,IAEIkJ,KAAK,2BACElJ,EAAMkJ,MACNjJ,EAAOuZ,mBAItB,IAAK,6BACD,OAAO,2BACAxZ,GADP,IAEIkJ,KAAK,2BACElJ,EAAMkJ,MADT,IAEA3B,UAAWtH,EAAOuZ,gBAAgBjS,UAClCyP,SAAU/W,EAAOuZ,gBAAgBxC,SACjCyC,IAAKxZ,EAAOuZ,gBAAgBC,IAC5BC,UAAWzZ,EAAOuZ,gBAAgBE,UAClCC,SAAS,2BACF3Z,EAAMkJ,KAAKyQ,UACX1Z,EAAOuZ,gBAAgBG,UAE9BC,SAAS,2BACF5Z,EAAMkJ,KAAK0Q,UACX3Z,EAAOuZ,gBAAgBI,cAK1C,IAAK,yBACD,OAAO,2BACA5Z,GADP,IAEIkJ,KAAK,2BACElJ,EAAMkJ,MADT,IAEAvD,OAAO,2BAAK3F,EAAMkJ,KAAKvD,QAAW1F,EAAO0F,YAKrD,IAAK,8BACD,OAAO,2BACA3F,GADP,IAEIkJ,KAAK,2BACElJ,EAAMkJ,MADT,IAEA2Q,WAAY5Z,EAAO4Z,eAI/B,IAAK,yBACD,OAAO,2BACA7Z,GADP,IAEIkJ,KAAK,2BACElJ,EAAMkJ,MADT,IAEAmJ,OAAQpS,EAAOoS,WAI3B,QACI,OAAOrS,IAQH,SAACwZ,GAAD,MAAoC,CAACne,KAAM,0BAA2Bme,qBADzED,EAEM,SAACC,GAAD,MAA2C,CAACne,KAAM,6BAA8Bme,oBAFtFD,EAGE,SAAC5T,GAAD,MAAyB,CAACtK,KAAM,yBAA0BsK,WAH5D4T,EAIM,SAACM,GAAD,MAAyB,CAACxe,KAAM,8BAA+Bwe,eAJrEN,EAKE,SAAClH,GAAD,MAAqB,CAAChX,KAAM,yBAA0BgX,WAMxDyH,EAAc,SAACxU,GAAD,8CAAoD,WAAOjF,GAAP,eAAAC,EAAA,sEACzD6Y,EAAsB7T,GADmC,QACrE/E,EADqE,QAGnEC,aAAeC,IAAYC,SAC/BL,EAASkZ,EAA0BhZ,EAAIjC,KAAK4K,OAE5C3I,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GAP2D,2CAApD,uDAWdwZ,EAAe,SAAC1H,GAAD,8CAAkD,WAAOhS,GAAP,eAAAC,EAAA,sEACxD6Y,EAAwB9G,GADgC,QACpE9R,EADoE,QAGlEC,aAAeC,IAAYC,SAC/BL,EAASkZ,EAAyBlH,IAElC9R,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GAP0D,2CAAlD,uDAWfyZ,EAAgB,SAACZ,GAAD,8CAAoE,WAAO/Y,GAAP,eAAAC,EAAA,sEAC3E6Y,EAAyBC,GADkD,QACvF7Y,EADuF,QAGrFC,aAAeC,IAAYC,SAC/BL,EAASkZ,EAA6BH,IAEtC7Y,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GAP6E,2CAApE,uDAWhB0Z,EAAe,SAACX,GAAD,8CAA0D,WAAOjZ,GAAP,eAAAC,EAAA,sEAChE6Y,EAAwBG,GADwC,QAC5E/Y,EAD4E,QAE1EC,aAAeC,IAAYC,SAC/BL,EAASkZ,EAAyBhZ,EAAIjC,KAAKqH,SAE3CpF,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GANkE,2CAA1D,uDAUf2Z,EAAmB,SAACZ,GAAD,8CAA0D,WAAOjZ,GAAP,eAAAC,EAAA,sEACpE6Y,EAA4BG,GADwC,QAChF/Y,EADgF,QAE9EC,aAAeC,IAAYC,SAC/BL,EAASkZ,EAA6BhZ,EAAIjC,KAAKub,aAE/CtZ,EAAIC,aAAeC,IAAYrF,OAC/BuF,QAAQC,IAAIL,GANsE,2CAA1D,yD","file":"static/js/main.d968cbe2.chunk.js","sourcesContent":["import React from 'react'\nimport {Controller, RegisterOptions} from 'react-hook-form'\nimport classes from './InputPassword.module.scss'\nimport {Control} from 'react-hook-form/dist/types/form'\nimport {Item} from 'components/_shared/Form/Form'\n\ntype InputPasswordPropsType = {\n    name: string,\n    label?: string,\n    rules?: RegisterOptions,\n    control?: Control,\n    disabled?: boolean\n}\nexport const InputPassword: React.FC<InputPasswordPropsType> = ({\n                                                                    name,\n                                                                    label,\n                                                                    rules,\n                                                                    control,\n                                                                    disabled = false\n                                                                }) => {\n    return <Controller\n        control={control}\n        name={name}\n        rules={rules}\n        render={({field, fieldState}) => <Item label={label} required={!!rules?.required} error={fieldState.error}\n                                               disabled={disabled}>\n            <input\n                type={'password'}\n                className={`${classes.input} ${fieldState.error ? classes.error : ''}`}\n                name={field.name}\n                value={field.value}\n                onChange={field.onChange}\n                disabled={disabled}\n            />\n        </Item>}\n    />\n}","import {Controller, RegisterOptions} from 'react-hook-form'\nimport {Control} from 'react-hook-form/dist/types/form'\nimport React, {useCallback} from 'react'\nimport {useDropzone} from 'react-dropzone'\nimport classes from './InputFile.module.scss'\nimport {Item} from 'components/_shared/Form/Form'\n\nexport const CustomInputFile: React.FC<{ onChange: (file: File) => void }> = (({\n                                                                                   onChange\n                                                                               }) => {\n    const onDrop = useCallback(acceptedFiles => {\n        onChange && onChange(acceptedFiles[0])\n    }, [onChange])\n    const {getRootProps, getInputProps, isDragActive} = useDropzone({onDrop})\n\n    return (\n        <div className={classes.inputFile + (isDragActive ? ' ' + classes.dragActive : '')} {...getRootProps()}>\n            <input {...getInputProps()}/>\n            {\n                isDragActive ?\n                    <span className={classes.inputFileBox}>Drop your files here...</span> :\n                    <span className={classes.inputFileBox}>Drop your files here or click to select files</span>\n            }\n        </div>\n    )\n})\ntype InputFilePropsType = {\n    name: string,\n    label?: string,\n    rules?: RegisterOptions,\n    control?: Control,\n    rows?: number,\n    disabled?: boolean,\n    onChange?: (file: File) => void\n}\nexport const InputFile: React.FC<InputFilePropsType> = ({\n                                                            name,\n                                                            label,\n                                                            rules,\n                                                            control,\n                                                            disabled = false,\n                                                            onChange\n                                                        }) => {\n    return <Controller\n        control={control}\n        name={name}\n        rules={rules}\n        render={({field, fieldState}) => {\n            const handleChange = (file: File) => {\n                onChange && onChange(file)\n                field.onChange(file)\n            }\n            return <Item label={label} required={!!rules?.required} error={fieldState.error}\n                         disabled={disabled}>\n                <CustomInputFile onChange={handleChange}/>\n            </Item>\n        }}\n    />\n}","import React, {useState} from 'react'\nimport {Controller, RegisterOptions} from 'react-hook-form'\nimport {Area, Point} from 'react-easy-crop/types'\nimport {Control} from 'react-hook-form/dist/types/form'\nimport classes from './InputImageCrop.module.scss'\nimport Cropper from 'react-easy-crop'\nimport Slider from 'rc-slider'\nimport 'rc-slider/assets/index.css';\nimport {Item} from 'components/_shared/Form/Form'\n\ntype InputImageCropPropsType = {\n    name: string,\n    label?: string,\n    rules?: RegisterOptions,\n    control?: Control,\n    aspect?: number,\n    srcFileUrl: string\n    disabled?: boolean,\n    onChange?: (crop: Area) => void\n}\nexport const InputImageCrop: React.FC<InputImageCropPropsType> = ({\n                                                                      name,\n                                                                      label,\n                                                                      rules,\n                                                                      control,\n                                                                      disabled = false,\n                                                                      onChange,\n                                                                      aspect = 1,\n                                                                      srcFileUrl\n                                                                  }) => {\n    return <Controller\n        control={control}\n        name={name}\n        rules={rules}\n        render={({field, fieldState}) => {\n            return <Item label={label} required={!!rules?.required} error={fieldState.error}\n                         disabled={disabled}>\n                <ImageCrop aspect={aspect} srcFileUrl={srcFileUrl}\n                           onChange={field.onChange}/>\n            </Item>\n        }}\n    />\n}\ntype ImageCropPropsType = {\n    aspect: number\n    srcFileUrl?: string\n    onChange?: (value: Area) => void\n}\nconst ImageCrop: React.FC<ImageCropPropsType> = ({aspect, srcFileUrl, onChange}) => {\n    const [zoom, setZoom] = useState<number>(1)\n    const [crop, setCrop] = useState<Point>({\n        x: 0,\n        y: 0\n    } as Point)\n\n    const onCropComplete = (croppedArea: Area, croppedAreaPixels: Area) => {\n        onChange && onChange(croppedAreaPixels)\n    }\n\n    const sliderChangeHandler = (value: number) => {\n        setZoom(value)\n    }\n    return (\n        <div className={classes.imageCrop}>\n            <div className={classes.cropperContainer}>\n                {srcFileUrl && <Cropper\n                    image={srcFileUrl}\n                    crop={crop}\n                    zoom={zoom}\n                    showGrid={false}\n                    aspect={aspect}\n                    onCropComplete={onCropComplete}\n                    onCropChange={setCrop}\n                    onZoomChange={setZoom}\n                />}\n            </div>\n            <div style={{width: '100%'}}>\n                Use this slider to zoom your image\n                <Slider\n                    min={1}\n                    max={3}\n                    step={0.01}\n                    value={zoom}\n                    onChange={sliderChangeHandler}\n                />\n            </div>\n        </div>\n    )\n}","import React, {useState} from 'react'\nimport {Area} from 'react-easy-crop/types'\nimport {Button} from 'components/_shared/Button/Button'\nimport {Form, FormRow} from 'components/_shared/Form/Form'\nimport {InputFile} from 'components/_shared/Input/InputFile/InputFile'\nimport {InputImageCrop} from 'components/_shared/Input/InputImageCrop/InputImageCrop'\nimport {Row} from 'components/_shared/Flex/Flex'\n\n\ntype PropsType = {\n    aspect: number\n    onSubmit: (image: File, cropArea: Area) => void\n    closeModal?: () => void\n}\n\nconst ImageUploadForm: React.FC<PropsType> = ({aspect, onSubmit, closeModal}) => {\n    const [srcFileUrl, setSrcFileUrl] = useState<string | null>(null)\n\n    const fileChangeHandler = (file: File) => {\n        setSrcFileUrl(window.URL.createObjectURL(file))\n    }\n\n    const submit = (data: { file: File, crop: Area }) => {\n        onSubmit(data.file, data.crop)\n    }\n\n    return (\n        <div>\n            <Form onSubmit={submit}>\n                <FormRow>\n                    <div style={{marginLeft: 'auto'}}>\n                        {closeModal && <Button type={'cancel'} size='lg' onClick={closeModal}>\n                            <Button.Text>Close</Button.Text>\n                        </Button>}\n                    </div>\n                </FormRow>\n\n                {!srcFileUrl && <FormRow>\n                    <InputFile\n                        name={'file'}\n                        label={'Drop your files in the area below'}\n                        rules={{required: true}}\n                        onChange={fileChangeHandler}\n                    />\n                </FormRow>}\n\n                {srcFileUrl && <FormRow>\n                    <InputImageCrop\n                        name={'crop'}\n                        aspect={aspect}\n                        srcFileUrl={srcFileUrl}\n                    />\n                </FormRow>}\n\n                <Row gap={10}>\n                    {!!srcFileUrl && <Button size=\"lg\">\n                        <Button.Text>\n                            Save\n                        </Button.Text>\n                    </Button>}\n                    {!!srcFileUrl && <Button type='secondary' size=\"lg\" onClick={(e) => {\n                        e.preventDefault()\n                        setSrcFileUrl(null)}}\n                    >\n                        <Button.Text>Choose other image</Button.Text>\n                    </Button>}\n                </Row>\n\n            </Form>\n        </div>\n    )\n}\n\nexport default ImageUploadForm","import {coreApi, handleError, handleResponse} from './core.api'\nimport {UserItemDataType} from '../types/types'\n\n// GET /users/\n// used for getting users list on users page\nexport type UsersDataType = {\n    users: Array<UserItemDataType>\n}\n\nexport const userApi = {\n    getUsers: () => coreApi\n        .get('/user')\n        .then(handleResponse<UsersDataType>())\n        .catch(handleError()),\n    subscribe: (userId: string) => coreApi\n        .post(`/subscription/${userId}`)\n        .then(handleResponse())\n        .catch(handleError()),\n    unsubscribe: (userId: string) => coreApi\n        .delete(`/subscription/${userId}`)\n        .then(handleResponse())\n        .catch(handleError())\n}","import {UserItemDataType} from 'types/types'\nimport {userApi} from 'api/user.api'\nimport {ResultCodes} from 'api/core.api'\nimport {InferActionsTypes, ThunkType} from '../store'\nimport {getAuthUserData} from 'store/reducers/auth.reducer'\n\n// INITIAL STATE\nconst initialState = {\n    users: [] as Array<UserItemDataType>,\n    subscribePendingUserIds: [] as Array<string>\n}\nexport type UsersStateType = typeof initialState\n\n// REDUCER\nexport const usersReducer = (state: UsersStateType = initialState, action: UsersActionType): UsersStateType => {\n    switch (action.type) {\n        case 'rsn/users/SET_USERS': {\n            return {\n                ...state,\n                users: action.users\n            }\n        }\n        case 'rsn/users/ADD_SUBSCRIBE_PENDING_USER_ID': {\n            return {\n                ...state,\n                subscribePendingUserIds: [...state.subscribePendingUserIds, action.userId]\n            }\n        }\n        case 'rsn/users/DELETE_SUBSCRIBE_PENDING_USER_ID': {\n            return {\n                ...state,\n                subscribePendingUserIds: state.subscribePendingUserIds.filter(userId => userId !== action.userId)\n            }\n        }\n        default: {\n            return state\n        }\n    }\n}\n\n//region ACTION CREATORS\nexport const usersActions = {\n    setUsers: (users: Array<UserItemDataType>) => ({type: 'rsn/users/SET_USERS', users} as const),\n    addSubscribePendingUserId: (userId: string) => ({type: 'rsn/users/ADD_SUBSCRIBE_PENDING_USER_ID', userId} as const),\n    deleteSubscribePendingUserId: (userId: string) => ({type: 'rsn/users/DELETE_SUBSCRIBE_PENDING_USER_ID', userId} as const)\n}\nexport type UsersActionType = ReturnType<InferActionsTypes<typeof usersActions>>\n//endregion\n\n//region THUNK CREATORS\nexport const getUsers = (): ThunkType<UsersActionType> => async (dispatch) => {\n    const res = await userApi.getUsers()\n    if (res.resultCode === ResultCodes.success) {\n        dispatch(usersActions.setUsers(res.data.users))\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\n\nexport const subscribe = (userId: string): ThunkType<UsersActionType> => async (dispatch) => {\n    dispatch(usersActions.addSubscribePendingUserId(userId))\n    const res = await userApi.subscribe(userId)\n    dispatch(usersActions.deleteSubscribePendingUserId(userId))\n    if (res.resultCode === ResultCodes.success) {\n        dispatch(getAuthUserData())\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\n\nexport const unsubscribe = (userId: string): ThunkType<UsersActionType> => async (dispatch) => {\n    dispatch(usersActions.addSubscribePendingUserId(userId))\n    const res = await userApi.unsubscribe(userId)\n    dispatch(usersActions.deleteSubscribePendingUserId(userId))\n    if (res.resultCode === ResultCodes.success) {\n        dispatch(getAuthUserData())\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\n//endregion\n","import {Controller, RegisterOptions} from 'react-hook-form'\nimport {Control} from 'react-hook-form/dist/types/form'\nimport React from 'react'\nimport classes from './InputCheckbox.module.scss'\nimport {Item} from 'components/_shared/Form/Form'\n\ntype CheckboxPropsType = {\n    name: string,\n    label?: string,\n    rules?: RegisterOptions,\n    control?: Control,\n    rows?: number,\n    disabled?: boolean\n}\n\nexport const InputCheckbox: React.FC<CheckboxPropsType> = ({\n                                                          name,\n                                                          label,\n                                                          rules,\n                                                          control,\n                                                          disabled = false\n                                                      }) => {\n    return <Controller\n        control={control}\n        name={name}\n        rules={rules}\n        render={({field, fieldState}) => <Item label={label} required={!!rules?.required} error={fieldState.error}\n                                               labelPosition='right' disabled={disabled}>\n            <div className={classes.checkbox}>\n                <input\n                    type=\"checkbox\"\n                    name={name}\n                    onChange={field.onChange}\n                    onBlur={field.onBlur}\n                    disabled={disabled}\n                />\n                <span className={classes.box}/>\n            </div>\n        </Item>}\n    />\n}","import React from 'react'\nimport {login} from 'store/reducers/auth.reducer'\nimport {LoginDataType} from 'api/auth.api'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {ThunkDispatch} from 'redux-thunk'\nimport {RootState} from 'store/store'\nimport {AuthActionType} from 'store/reducers/auth.reducer'\nimport {Button} from 'components/_shared/Button/Button'\nimport {Form, FormRow} from 'components/_shared/Form/Form'\nimport {InputText} from 'components/_shared/Input/InputText/InputText'\nimport {InputPassword} from 'components/_shared/Input/InputPassword/InputPassword'\nimport {InputCheckbox} from 'components/_shared/Input/InputCheckbox/InputCheckbox'\nimport {ServerValidationErrorType} from 'types/types'\n\ntype PropsType = {\n    onSubmit: (loginFormData: LoginDataType) => void\n    errors?: Array<ServerValidationErrorType>\n}\n\nconst LoginForm: React.FC<PropsType> = ({onSubmit, errors}) => {\n    return (\n        <Form onSubmit={onSubmit} errors={errors}>\n            <FormRow>\n                <InputText name={'email'} label={'E-mail'} rules={{required: true}}/>\n            </FormRow>\n            <FormRow>\n                <InputPassword name={'password'} label={'Password'} rules={{required: true}}/>\n            </FormRow>\n            <FormRow>\n                <InputCheckbox name={'rememberMe'} label={'Remember me'}/>\n            </FormRow>\n            <FormRow>\n                <Button type='primary' size='lg'>\n                    <Button.Text>Log in</Button.Text>\n                </Button>\n            </FormRow>\n        </Form>\n    )\n}\n\n\nconst LoginFormContainer: React.FC = () => {\n    const errors = useSelector((state: RootState) => state.auth.loginErrors)\n    const dispatch: ThunkDispatch<RootState, LoginDataType, AuthActionType> = useDispatch()\n\n    const onSubmit = (loginFormData: LoginDataType) => {\n        dispatch(login(loginFormData))\n    }\n\n    return <LoginForm onSubmit={onSubmit} errors={errors}/>\n}\n\nexport default LoginFormContainer\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"Header_dark__2kYXd\",\"header\":\"Header_header__2Ko_3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"UserControl_dark__r3-na\",\"userControl\":\"UserControl_userControl__1ax5J\",\"userControlDropdown\":\"UserControl_userControlDropdown__11iA0\",\"userControlUsername\":\"UserControl_userControlUsername__3zwhR\",\"userControlList\":\"UserControl_userControlList__2moAy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"Logo_dark__24bBh\",\"logo\":\"Logo_logo__2iEDu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"Card_dark__1ZVU3\",\"Card\":\"Card_Card__3xRJs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"SidebarNavigation_dark__23bd1\",\"Navigation\":\"SidebarNavigation_Navigation__1CdPX\",\"NavigationTitle\":\"SidebarNavigation_NavigationTitle__3pVq6\",\"NavigationList\":\"SidebarNavigation_NavigationList__1sgiY\",\"NavigationItem\":\"SidebarNavigation_NavigationItem__2OqpZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"phone\":\"400\",\"phoneWide\":\"480\",\"phoneTablet\":\"560\",\"tabletSmall\":\"640\",\"tablet\":\"768\",\"tabletWide\":\"1024\",\"desktop\":\"1248\",\"desktopWide\":\"1440\",\"dark\":\"breakpoints_dark__3WSCU\"};","import React, {useEffect, useState} from 'react'\nimport classes from 'components/_shared/Form/Form.module.scss'\nimport classnames from 'classnames'\nimport {useForm} from 'react-hook-form'\nimport {Control} from 'react-hook-form/dist/types/form'\nimport {FieldError} from 'react-hook-form/dist/types'\nimport {ServerValidationErrorType} from 'types/types'\n\n\ntype FormPropsType = {\n    onSubmit: (data: any) => void\n    initialValues?: { [key: string]: any }\n    errors?: Array<ServerValidationErrorType>\n    resetAfterSubmit?: boolean\n    submitOnBlur?: boolean\n    submitOnEnter?: boolean\n}\ntype RowPropsType = {\n    control?: Control,\n    align?: 'fill' | 'left' | 'right' | 'center'\n}\ntype SectionPropsType = {\n    control?: Control,\n    height?: number | string,\n}\ntype ItemPropsType = {\n    label?: string,\n    labelPosition?: 'top' | 'left' | 'right'\n    required?: boolean,\n    disabled?: boolean,\n    error?: FieldError,\n    align?: 'fill' | 'left' | 'right' | 'center'\n}\nexport const Form: React.FC<FormPropsType> = ({\n                                                   onSubmit,\n                                                   children,\n                                                   initialValues,\n                                                  errors= [],\n                                                   submitOnBlur = false,\n                                                    submitOnEnter = false,\n    resetAfterSubmit = false\n                                               }) => {\n    const {control, handleSubmit, reset, setError, watch, setValue} = useForm({\n        defaultValues: {\n            ...initialValues\n        },\n        mode: 'onBlur'\n    })\n    const [formError, setFormError] = useState<ServerValidationErrorType | null>(null)\n    useEffect(() => {\n        setFormError(errors.find(error => error.field === 'form') || null)\n        errors.forEach(({field, message}) => setError(field, {type: 'server', message}))\n    }, [errors, setError])\n\n    const childrenWithProps = React.Children.map(children, child => {\n        if (React.isValidElement(child)) {\n            return React.cloneElement(child, {control})\n        }\n        return child\n    })\n\n    const submit = (data: { [key: string]: any }) => {\n        onSubmit(data)\n        if (resetAfterSubmit) reset()\n    }\n\n    const onBlurHandler = () => {\n        if (submitOnBlur) handleSubmit(submit)()\n    }\n\n    const onKeyDownHandler = (e: any) => {\n\n        // handle 'Enter' key\n        if (e.key === 'Enter') {\n            if (submitOnEnter && e.ctrlKey) {\n                const elementName = e.target.name\n                const elementValue = watch(elementName)\n                setValue(elementName, elementValue + '\\n')\n            }\n\n            if (submitOnEnter && !e.ctrlKey) {\n                e.preventDefault()\n                handleSubmit(submit)()\n            }\n        }\n\n    }\n\n    return <form className={classes.wrapper} onSubmit={handleSubmit(submit)} onBlur={onBlurHandler} onKeyDown={onKeyDownHandler}>\n        {formError && <FormRow><span className={classes.formError}>{formError.message}</span></FormRow>}\n        {childrenWithProps}\n    </form>\n}\n\nexport const FormSection: React.FC<SectionPropsType> = ({\n                                                    children,\n                                                    control,\n    height\n                                                }) => {\n    const childrenWithProps = React.Children.map(children, child => {\n        if (React.isValidElement(child)) {\n            return React.cloneElement(child, {control})\n        }\n        return child\n    })\n\n    return <div className={classnames(\n        classes.section,\n    )} style={{height}}>\n        {childrenWithProps}\n    </div>\n}\n\nexport const FormRow: React.FC<RowPropsType> = ({\n                                                     children,\n                                                     control,\n                                                     align = 'fill'\n                                                 }) => {\n    const childrenWithProps = React.Children.map(children, child => {\n        if (React.isValidElement(child)) {\n            return React.cloneElement(child, {control, align})\n        }\n        return child\n    })\n\n    return <div className={classnames(\n        classes.row,\n        {[classes[align]]: align}\n    )}>\n        {childrenWithProps}\n    </div>\n}\n\n\n\nexport const Item: React.FC<ItemPropsType> = ({\n                                                  children,\n                                                  label,\n                                                  labelPosition = 'top',\n                                                  required = false,\n                                                  disabled = false,\n                                                  error, align = 'fill'\n                                              }) => {\n    return <label className={classnames(classes.item, {[classes[labelPosition]]: labelPosition})}>\n        <div className={classnames(classes.label, {[classes.disabled]: disabled})}>\n            {required && <span className={classes.labelRequired}>*</span>}\n            <span className={classes.labelText}>{label}</span>\n            {error?.type === 'required' && <span className={classes.formItemError}>This field is required</span>}\n            {error?.type === 'server' && <span className={classes.formItemError}>{error.message}</span>}\n        </div>\n        {children}\n    </label>\n}\n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"Button_dark__2hb9F\",\"button\":\"Button_button__2X27R\",\"sm\":\"Button_sm__2gjuz\",\"md\":\"Button_md__6PFeM\",\"lg\":\"Button_lg__3Hs0D\",\"xl\":\"Button_xl__1nRBA\",\"spinner\":\"Button_spinner__3kVjI\",\"primary\":\"Button_primary__87yBk\",\"secondary\":\"Button_secondary__1D9ri\",\"neutral\":\"Button_neutral__1CHr3\",\"text\":\"Button_text__33Oj_\",\"link\":\"Button_link__klhEA\",\"cancel\":\"Button_cancel__2IlJx\",\"content\":\"Button_content__30ZlE\",\"contentText\":\"Button_contentText__3YZJd\",\"contentIcon\":\"Button_contentIcon__2B1ov\",\"buttonSpinner\":\"Button_buttonSpinner__3X163\",\"badge\":\"Button_badge__DJyOF\"};","import React, {lazy} from 'react'\nimport Layout from 'components/Layout/Layout'\nimport {Redirect} from 'react-router-dom'\n\nconst RegistrationPage = lazy(() => import('components/_pages/RegistrationPage'))\nconst LoginPage = lazy(() => import('components/_pages/LoginPage'))\nconst ProfilePage = lazy(() => import('components/_pages/ProfilePage'))\nconst UsersPage = lazy(() => import('components/_pages/UsersPage'))\nconst DialogsPage = lazy(() => import('components/_pages/DialogsPage'))\nconst PostPage = lazy(() => import('components/_pages/PostPage'))\nconst FeedPage = lazy(() => import('components/_pages/FeedPage'))\n\nexport type RouteType = {\n    path: string\n    component: React.ComponentType\n    exact?: boolean\n}\n\nexport enum Routes {\n    HOME = '/',\n    LOGIN = '/login',\n    REGISTER = '/register',\n    FEED = '/feed',\n    POST = '/post/:id',\n    USERS = '/users/:filter?',\n    PROFILE = '/profile/:username?',\n    DIALOGS = '/dialogs/:username?'\n}\n\nexport const publicRoutes: RouteType[] = [\n    {path: Routes.POST, component: () => <Layout sidebar={true}><PostPage/></Layout>, exact: false},\n    {path: Routes.PROFILE, component: () => <Layout sidebar={true}><ProfilePage/></Layout>, exact: false},\n    {path: Routes.USERS, component: () => <Layout sidebar={true}><UsersPage/></Layout>, exact: false},\n    {path: Routes.LOGIN, component: () => <Layout background={true}><LoginPage/></Layout>, exact: false},\n    {path: Routes.REGISTER, component: () => <Layout background={true}><RegistrationPage/></Layout>, exact: false},\n    {path: Routes.HOME, component: () => <Redirect to={'/login'}/>, exact: false}\n]\n\nexport const privateRoutes: RouteType[] = [\n    {path: Routes.FEED, component: () => <Layout sidebar={true}><FeedPage/></Layout>, exact: false},\n    {path: Routes.DIALOGS, component: () => <Layout sidebar={true}><DialogsPage/></Layout>, exact: false},\n    {path: Routes.POST, component: () => <Layout sidebar={true}><PostPage/></Layout>, exact: false},\n    {path: Routes.PROFILE, component: () => <Layout sidebar={true}><ProfilePage/></Layout>, exact: false},\n    {path: Routes.USERS, component: () => <Layout sidebar={true}><UsersPage/></Layout>, exact: false},\n    {path: Routes.HOME, component: () => <Redirect to={'/feed'}/>, exact: false}\n]\n","import {getAuthUserData} from './auth.reducer'\nimport {InferActionsTypes, ThunkType} from '../store'\nimport {startMessagesListening, stopMessagesListening} from './dialogs.reducer'\n\n// INITIAL STATE\nconst initialState = {\n    initialized: false\n}\ntype AppStateType = typeof initialState\n\n// REDUCER\nexport const appReducer = (state: AppStateType = initialState, action: AppActionType): AppStateType => {\n    switch (action.type) {\n        case 'rsn/app/INITIALIZE_APP': {\n            return {\n                ...state,\n                initialized: action.initialized\n            }\n        }\n        default: {\n            return state\n        }\n    }\n}\n\n//region ACTION CREATORS\nexport const appActions = {\n    setInitialized: (initialized: boolean) => ({type: 'rsn/app/INITIALIZE_APP', initialized} as const)\n}\nexport type AppActionType = ReturnType<InferActionsTypes<typeof appActions>>\n//endregion\n\n//region THUNK CREATORS\nexport const initializeApp = (): ThunkType<AppActionType> => async (dispatch) => {\n    await Promise.all([ // put all that needed to be checked to init app inside this array\n        dispatch(getAuthUserData()),\n        dispatch(startMessagesListening())\n    ])\n    dispatch(appActions.setInitialized(true))\n}\n\nexport const deinitializeApp = (): ThunkType<AppActionType> => async (dispatch) => {\n    dispatch(stopMessagesListening())\n    dispatch(appActions.setInitialized(false))\n}\n//endregion","import React, {useState} from \"react\";\nimport {NavLink} from \"react-router-dom\";\nimport classes from \"components/Layout/Header/UserControl/UserControl.module.scss\";\nimport {Avatar} from \"components/_shared/Avatar/Avatar\";\nimport {Button} from 'components/_shared/Button/Button'\nimport {Row} from '../../../_shared/Flex/Flex'\n\ntype PropsType = {\n    username?: string\n    avatar?: string | null\n    logout: () => void\n}\n\nexport const UserControl: React.FC<PropsType> = (props) => {\n    return (\n        <div className={classes.userControl}>\n            <NavLink to={`/profile/${props.username}`} style={{color: 'white'}}>\n                <Row verticalAlign={'center'} gap={10}>\n                    <div>\n                        <Avatar smallImg={props.avatar} online size={25}/>\n                    </div>\n                    <div >{props.username}</div>\n                </Row>\n            </NavLink>\n        </div>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/logo.7329ea12.svg\";","import React from 'react'\nimport {NavLink} from 'react-router-dom'\nimport classes from './Logo.module.scss'\nimport logo from 'assets/images/logo.svg'\n\nexport const Logo: React.FC = () => <div className={classes.logo}>\n    <NavLink to='/'>\n        <img src={logo} alt=\"Bind\"/>\n    </NavLink>\n</div>","import React from 'react'\nimport classes from 'components/Layout/Header/Header.module.scss'\nimport {UserControl} from 'components/Layout/Header/UserControl/UserControl'\nimport {Logo} from 'components/_shared/Logo/Logo'\nimport {Col, Row, Space} from '../../_shared/Flex/Flex'\nimport {Button} from '../../_shared/Button/Button'\nimport {NavLink} from 'react-router-dom'\n\ntype PropsType = {\n    authorized: boolean\n    username?: string\n    avatar?: string | null\n    logout: () => void\n}\n\nconst Header: React.FC<PropsType> = (props) => {\n    return (\n    <Row horizontalAlign={'space-between'} verticalAlign={'center'} gap={10}>\n        <Logo/>\n        <Space/>\n        {props.authorized && <div className={classes.userControl}>\n            <UserControl username={props.username} avatar={props.avatar} logout={props.logout}/>\n        </div>}\n        {props.authorized && <Col>\n            <Button type={'secondary'} size={'md'} onClick={() => props.logout()}>Log out</Button>\n        </Col>}\n        {!props.authorized && <Col>\n            <NavLink to={`/login`} style={{color: 'white'}}>\n                    <Button type={'secondary'} size={'md'}>Log in</Button>\n            </NavLink>\n        </Col>}\n        {!props.authorized && <Col>\n            <NavLink to={`/register`} style={{color: 'white'}}>\n                <Button type={'secondary'} size={'md'}>Sign up</Button>\n            </NavLink>\n        </Col>}\n    </Row>\n    )\n}\n\nexport default Header\n","import {NavLink} from 'react-router-dom'\nimport React from 'react'\nimport classes from 'components/Layout/SideBar/SidebarNavigation/SidebarNavigation.module.scss'\n\nimport {Card} from 'components/_shared/Card/Card'\nimport {PersonLinesFill, ChatLeftTextFill, PeopleFill, GearWide, HouseDoorFill} from 'react-bootstrap-icons'\nimport {Button} from 'components/_shared/Button/Button'\nimport {useSelector} from 'react-redux'\nimport {RootState} from '../../../../store/store'\n\ntype PropsType = {}\n\nconst SidebarNavigation: React.FC<PropsType> = () => {\n    const unreadMessagesCount = useSelector((state: RootState) => state.dialogs.unreadMessagesCount)\n\n    return (\n        <Card>\n            <div className={classes.Navigation}>\n                <List>\n                    <Item to='/feed'>\n                        <Button type={'link'} size={'lg'}>\n                            <Button.Icon><HouseDoorFill/></Button.Icon>\n                            <Button.Text>Feed</Button.Text>\n                        </Button>\n                    </Item>\n                    <Item to='/profile'>\n                        <Button type={'link'} size={'lg'}>\n                            <Button.Icon><PersonLinesFill/></Button.Icon>\n                            <Button.Text>Profile</Button.Text>\n                        </Button>\n                    </Item>\n                    <Item to='/dialogs'>\n                        <Button type={'link'} size={'lg'}>\n                            <Button.Icon><ChatLeftTextFill/></Button.Icon>\n                            <Button.Text>Dialogs</Button.Text>\n                            {!!unreadMessagesCount && <Button.Badge>{unreadMessagesCount}</Button.Badge>}\n                        </Button>\n                    </Item>\n                    <Item to='/users'>\n                        <Button type={'link'} size={'lg'}>\n                            <Button.Icon><PeopleFill/></Button.Icon>\n                            <Button.Text>Users</Button.Text>\n                        </Button>\n                    </Item>\n                </List>\n            </div>\n        </Card>\n    )\n}\n\nconst List: React.FC = ({children}) => {\n    return (\n        <ul>\n            {children}\n        </ul>\n    )\n}\n\nconst Item: React.FC<{to: string}> = ({to, children}) => {\n    return (\n        <li>\n            <NavLink to={to}>\n                {children}\n            </NavLink>\n        </li>\n    )\n}\n\nexport default SidebarNavigation\n","import React from 'react'\nimport classes from 'components/Layout/SideBar/SidebarSubscriptions/SidebarSubscriptions.module.scss'\nimport {Card} from 'components/_shared/Card/Card'\nimport {Avatar} from 'components/_shared/Avatar/Avatar'\nimport {NavLink} from 'react-router-dom'\nimport {UserItemDataType} from 'types/types'\nimport {checkOnline} from 'utils/functions'\n\ntype PropsType = {\n    subscriptions: Array<UserItemDataType>\n}\n\nconst SidebarSubscriptions: React.FC<PropsType> = ({subscriptions}) => {\n    return (\n        <Card>\n            <div className={classes.sidebarFriends}>\n                <div className={classes.Title}>Subscriptions</div>\n                <div className={classes.Avatars}>\n                    {subscriptions.length !== 0 && subscriptions.map(sub => <NavLink to={`/profile/${sub.username}`}\n                                                                            key={sub._id}>\n                            <Avatar smallImg={sub.avatar.small} online={checkOnline(sub.updatedAt)} size={50} name={sub.firstName}/>\n                        </NavLink>\n                    )}\n                </div>\n                <div className={classes.Link}><NavLink to='/users/subscriptions'>View All ({subscriptions.length})</NavLink></div>\n            </div>\n        </Card>\n    )\n}\n\nexport default SidebarSubscriptions","import React from 'react'\nimport classes from 'components/Layout/BottomNavigation/BottomNavigation.module.scss'\nimport colors from 'assets/styles/colors.module.scss'\nimport {Button} from 'components/_shared/Button/Button'\nimport {ChatLeftTextFill, PeopleFill, HouseDoorFill, DoorOpenFill} from 'react-bootstrap-icons'\nimport {NavLink} from 'react-router-dom'\nimport {Avatar} from 'components/_shared/Avatar/Avatar'\nimport {useSelector} from 'react-redux'\nimport {RootState} from 'store/store'\n\ntype Props = {\n    authorized: boolean\n    avatar?: string | null\n}\n\nexport const BottomNavigation: React.FC<Props> = ({avatar, authorized}) => {\n    const unreadMessagesCount = useSelector((state: RootState) => state.dialogs.unreadMessagesCount)\n    return <div className={classes.wrapper}>\n        {authorized && <div className={classes.item}>\n            <NavLink to={'/feed'}>\n                <Button type={'link'} size={'lg'}>\n                    <Button.Icon><HouseDoorFill color={colors.textLight}/></Button.Icon>\n                </Button>\n            </NavLink>\n        </div>}\n        <div className={classes.item}>\n            <NavLink to={'/users'}>\n                <Button type={'link'} size={'lg'}>\n                    <Button.Icon><PeopleFill color={colors.textLight}/></Button.Icon>\n                </Button>\n            </NavLink>\n        </div>\n        {authorized && <div className={classes.item}>\n            <NavLink to={'/dialogs'}>\n                <Button type={'link'} size={'lg'}>\n                    <Button.Icon><ChatLeftTextFill color={colors.textLight}/></Button.Icon>\n                    {!!unreadMessagesCount && <Button.Badge>{unreadMessagesCount}</Button.Badge>}\n                </Button>\n            </NavLink>\n        </div>}\n        {authorized && <div className={classes.item}>\n            <NavLink to={'/profile'}>\n                <Button type={'link'} size={'lg'}>\n                    <Button.Icon><Avatar smallImg={avatar} size={24}/></Button.Icon>\n                </Button>\n            </NavLink>\n        </div>}\n        {!authorized && <div className={classes.item}>\n            <NavLink to={'/login'}>\n                <Button type={'link'} size={'lg'}>\n                    <Button.Icon><DoorOpenFill color={colors.textLight}/></Button.Icon>\n                </Button>\n            </NavLink>\n        </div>}\n    </div>\n}\n","import React from 'react'\nimport {RootState} from 'store/store'\nimport {useDispatch, useSelector} from 'react-redux'\nimport classes from './Layout.module.scss'\nimport Header from 'components/Layout/Header/Header'\nimport {Card} from 'components/_shared/Card/Card'\nimport LoginForm from 'components/_forms/LoginForm'\nimport SidebarNavigation from 'components/Layout/SideBar/SidebarNavigation/SidebarNavigation'\nimport SidebarSubscriptions from 'components/Layout/SideBar/SidebarSubscriptions/SidebarSubscriptions'\nimport {AvatarType, UserItemDataType} from 'types/types'\nimport {logout} from 'store/reducers/auth.reducer'\nimport {BottomNavigation} from 'components/Layout/BottomNavigation/BottomNavigation'\nimport {useBreakpoint} from '../../hooks/useBreakpoint'\n\ntype PropsType = {\n    sidebar?: boolean\n    background?: boolean\n    authUserName?: string\n    authUserAvatar?: AvatarType\n    subscriptions: Array<UserItemDataType>\n    onLogout: () => void\n}\n\nconst Layout: React.FC<PropsType> = ({\n                                         children,\n                                         sidebar = false,\n                                         background = false,\n                                         subscriptions,\n                                         authUserName,\n                                         authUserAvatar,\n                                         onLogout,\n                                     }) => {\n    const authorized = useSelector((state: RootState) => state.auth.authorized)\n    const {tablet} = useBreakpoint()\n    return (\n        <div className={classes.layout}>\n            <AppBar>\n                <Header authorized={authorized} username={authUserName} avatar={authUserAvatar?.small}\n                        logout={onLogout}/>\n            </AppBar>\n\n            <Main>\n                {sidebar && !tablet && <Sidebar>\n                    {!authorized && <Card>\n                        <div style={{padding: '10px'}}><LoginForm/></div>\n                    </Card>}\n                    {authorized && <SidebarNavigation/>}\n                    {authorized && !tablet && <SidebarSubscriptions subscriptions={subscriptions}/>}\n                </Sidebar>}\n\n                <Content>\n                    {children}\n                </Content>\n            </Main>\n\n            {tablet && authUserAvatar && <BottomNavigation avatar={authUserAvatar?.small} authorized={authorized}/>}\n            {tablet && !authUserAvatar && <BottomNavigation authorized={authorized}/>}\n\n            {background && <div className={classes.background}>\n                <img src=\"https://source.unsplash.com/random/1920x1080/?nature\" alt=\"\"/>\n            </div>}\n        </div>\n    )\n}\n\nconst Container: React.FC = ({children}) => <div className={classes.container}>\n    {children}\n</div>\n\nconst AppBar: React.FC = ({children}) => {\n    return (\n        <div className={classes.appBar}>\n            <Container>\n                {children}\n            </Container>\n        </div>\n    )\n}\n\nconst Main: React.FC = ({children}) => {\n    return (\n        <Container>\n            <div className={classes.main}>\n                {children}\n            </div>\n        </Container>\n    )\n}\n\nconst Content: React.FC = ({children}) => {\n    return (\n        <div className={classes.content}>\n            {children}\n        </div>\n    )\n}\n\nconst Sidebar: React.FC = ({children}) => {\n    return (\n        <div className={classes.sidebar}>\n            {children}\n        </div>\n    )\n}\n\nconst LayoutContainer: React.FC<{ sidebar?: boolean, background?: boolean }> = (props) => {\n    const dispatch = useDispatch()\n    const authUserSubscriptions = useSelector((state: RootState) => state.auth.user?.subscriptions || [])\n    const authUserName = useSelector((state: RootState) => state.auth.user?.username)\n    const authUserAvatar = useSelector((state: RootState) => state.auth.user?.avatar)\n\n    const onLogout = () => {\n        dispatch(logout())\n    }\n\n    return <Layout {...props} subscriptions={authUserSubscriptions} authUserName={authUserName}\n                   authUserAvatar={authUserAvatar} onLogout={onLogout}/>\n}\n\nexport default LayoutContainer\n","import React, {FC} from 'react'\nimport {Route, Switch} from 'react-router-dom'\nimport {privateRoutes, publicRoutes} from '../routes'\nimport {useSelector} from 'react-redux'\nimport {RootState} from '../store/store'\n\nconst AppRouter: FC = () => {\n    const auth = useSelector((state: RootState) => state.auth.authorized)\n    return (\n        auth ?\n            <Switch>\n                {privateRoutes.map(route => <Route\n                    key={route.path}\n                    path={route.path}\n                    component={route.component}\n                    exact={route.exact}\n                />)}\n            </Switch>\n            :\n            <Switch>\n                {publicRoutes.map(route => <Route\n                    key={route.path}\n                    path={route.path}\n                    component={route.component}\n                    exact={route.exact}\n                />)}\n            </Switch>\n    )\n}\n\nexport default AppRouter\n","import React, {Suspense, useEffect} from 'react'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {RootState} from 'store/store'\nimport {deinitializeApp, initializeApp} from 'store/reducers/app.reducer'\nimport Spinner from 'components/_shared/Spinner/Spinner'\nimport AppRouter from './AppRouter'\n\nconst App: React.FC = () => {\n    const initialized = useSelector((state: RootState) => state.app.initialized)\n\n    const dispatch = useDispatch()\n    useEffect(() => {\n        dispatch(initializeApp())\n        return () => { dispatch(deinitializeApp()) }\n    }, [dispatch])\n\n    if (!initialized) return <Spinner size={100} thickness={4} fullscreen={true}/>\n    return <Suspense fallback={<Spinner size={100} thickness={4} fullscreen={true}/>}>\n        <AppRouter />\n    </Suspense>\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {Action, applyMiddleware, combineReducers, createStore} from 'redux'\nimport {authReducer} from './reducers/auth.reducer'\nimport profileReducer from './reducers/profile.reducer'\nimport postsReducer from './reducers/posts.reducer'\nimport {appReducer} from './reducers/app.reducer'\nimport {usersReducer} from './reducers/users.reducer'\nimport thunkMiddleware, {ThunkAction} from 'redux-thunk'\nimport {dialogsReducer} from './reducers/dialogs.reducer'\nimport {composeWithDevTools} from 'redux-devtools-extension'\n\nconst rootReducer = combineReducers({\n    app: appReducer,\n    auth: authReducer,\n    profile: profileReducer,\n    users: usersReducer,\n    posts: postsReducer,\n    dialogs: dialogsReducer\n})\n\nconst store = createStore(\n    rootReducer, composeWithDevTools(applyMiddleware(thunkMiddleware))\n)\n\nexport default store\n\nexport type RootState = ReturnType<typeof store.getState> // get root state type\nexport type RootDispatch = typeof store.dispatch  // get root dispatch type\n\n// generic for extracting action types from actions object\nexport type InferActionsTypes<T> = T extends { [key: string]: infer U } ? U : never\n\n// includes all action types from all reducer files\nexport type ThunkType<A extends Action> = ThunkAction<Promise<void>, RootState, unknown, A>\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport 'assets/styles/normalize.scss'\nimport 'assets/styles/global.scss'\nimport App from './components/App'\nimport reportWebVitals from './reportWebVitals'\nimport {BrowserRouter} from 'react-router-dom'\nimport store from './store/store'\nimport {Provider} from 'react-redux'\n\nReactDOM.render(\n        <Provider store={store}>\n            <BrowserRouter>\n                <App/>\n            </BrowserRouter>\n        </Provider>\n    , document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"Form_dark__2LdZt\",\"wrapper\":\"Form_wrapper__1IgJv\",\"formError\":\"Form_formError__db5A1\",\"section\":\"Form_section__xiY3z\",\"row\":\"Form_row__WKQaG\",\"left\":\"Form_left__3_yUo\",\"right\":\"Form_right__1qBjB\",\"center\":\"Form_center__3YLZC\",\"fill\":\"Form_fill__2XNHO\",\"item\":\"Form_item__3V9Wa\",\"label\":\"Form_label__1FR0D\",\"disabled\":\"Form_disabled__306fU\",\"labelText\":\"Form_labelText__1uFJ4\",\"labelRequired\":\"Form_labelRequired__3-CSb\",\"formItemError\":\"Form_formItemError__2unol\"};","import React, {CSSProperties} from 'react'\nimport classes from 'components/_shared/Flex/Flex.module.scss'\nimport classnames from 'classnames'\n\ntype RowProps = {\n    children?: Array<React.ReactElement | boolean> | React.ReactElement | boolean\n    verticalAlign?: 'start' | 'end' | 'center' | 'space-between' | 'space-around'\n    horizontalAlign?: 'start' | 'end' | 'center' | 'space-between' | 'space-around'\n    padding?: number | string\n    margin?: number | string\n    gap?: number\n    bordered?: boolean\n}\n\nexport const Row: React.FC<RowProps> = ({\n                                            children,\n                                            verticalAlign = 'start',\n                                            horizontalAlign = 'start',\n                                            padding = 0,\n                                            gap = 0,\n                                            bordered\n                                        }) => {\n    return <div\n        className={classnames(\n            classes.row,\n            {[classes.bordered]: bordered})\n        }\n        style={{\n            alignItems: 'stretch',\n            justifyContent: horizontalAlign,\n            padding\n        }}\n    >\n        {(children instanceof Array) && children.map((child, index) => {\n                if (typeof child === 'boolean') return false\n                return React.cloneElement(child, {\n                    key: index,\n                    style: {\n                        marginRight: (index === children.length - 1) ? 0 : gap,\n                        justifyContent: verticalAlign\n                    },\n                    className: child.props.className + ' ' + classes.col\n                })\n            }\n        )}\n\n        {children && typeof children !== 'boolean' && !(children instanceof Array) &&\n            React.cloneElement(children, {\n                style: {\n                    marginRight: 0,\n                    justifyContent: verticalAlign\n                },\n                className: children.props.className + ' ' + classes.col\n            })\n        }\n    </div>\n}\n\ntype ColProps = {\n    verticalAlign?: 'start' | 'end' | 'center' | 'space-between' | 'space-around'\n    horizontalAlign?: 'start' | 'end' | 'center' | 'baseline' | 'stretch'\n    style?: CSSProperties,\n    padding?: number | string,\n    gap?: number,\n    bordered?: boolean,\n    stretch?: boolean,\n}\n\nexport const Col: React.FC<ColProps> = ({\n                                            children,\n                                            style,\n                                            verticalAlign,\n                                            horizontalAlign = 'start',\n                                            padding = 0,\n                                            gap = 0,\n                                            bordered,\n    stretch= false\n                                        }) => {\n\n    return <div className={classnames(classes.col, {[classes.bordered]: bordered})} style={{\n        padding,\n        marginRight: style?.marginRight,\n        alignItems: horizontalAlign,\n        justifyContent: verticalAlign ? verticalAlign : style?.justifyContent,\n        flex: stretch ? 1 : undefined\n    }}>\n\n        {React.Children.map(children, child => <div className={classes.item} style={{marginBottom: gap}}>\n            {child}\n        </div>)}\n    </div>\n}\n\nexport const Space: React.FC = () => {\n    return <div className={classes.space}/>\n}\n","import axios, {AxiosError, AxiosResponse} from 'axios'\nimport {ServerValidationErrorType} from 'types/types'\n\nconsole.log(process.env.REACT_APP_API_URL)\n\nexport const coreApi = axios.create({\n    baseURL: process.env.REACT_APP_API_URL + 'api/',\n    withCredentials: true,\n    // validateStatus: status => status < 500\n})\n\n// basic result codes. used by default in ResponseType\n// can be extended if needed\nexport enum ResultCodes {\n    success = 0,\n    error = 1,\n    authError = 10,\n    expiredToken = 11,\n}\n\n// all server responses have this type\nexport type APIResponseType<D = undefined> = {\n    resultCode: ResultCodes\n    message: string\n    data: D\n    errors?: Array<ServerValidationErrorType>\n}\nexport const handleResponse = <DataType = undefined>() => (res: AxiosResponse<APIResponseType<DataType>>) => {\n    return res.data\n}\n\nexport const handleError = () => (err: AxiosError) => {\n    return err.response?.data\n}","import {authApi, LoginDataType, RegistrationDataType} from 'api/auth.api'\nimport {ResultCodes} from 'api/core.api'\nimport {InferActionsTypes, ThunkType} from '../store'\nimport {startMessagesListening, stopMessagesListening} from './dialogs.reducer'\nimport {AuthUserDataType, ServerValidationErrorType} from 'types/types'\n\n// INITIAL STATE\nconst initialState = {\n    authorized: false,\n    user: null as AuthUserDataType | null,\n    registrationErrors: [] as Array<ServerValidationErrorType>,\n    loginErrors: [] as Array<ServerValidationErrorType>,\n    registrationSuccessful: false\n}\ntype AuthStateType = typeof initialState\n\n// REDUCER\nexport const authReducer = (state: AuthStateType = initialState, action: AuthActionType): AuthStateType => {\n    switch (action.type) {\n        case 'rsn/auth/SET_USER': {\n            return {\n                ...state,\n                authorized: true,\n                user: action.user\n            }\n        }\n        case 'rsn/auth/CLEAR_USER': {\n            return {\n                ...state,\n                authorized: false,\n                user: null\n            }\n        }\n        case 'rsn/auth/SET_REGISTRATION_SUCCESSFUL': {\n            return {\n                ...state,\n                registrationSuccessful: action.registrationSuccessful\n            }\n        }\n        case 'rsn/auth/SET_REGISTRATION_ERRORS': {\n            return  {\n                ...state,\n                registrationErrors: action.errors\n            }\n        }\n        case 'rsn/auth/SET_LOGIN_ERRORS': {\n            return {\n                ...state,\n                loginErrors: action.errors\n            }\n        }\n        default: {\n            return state\n        }\n    }\n}\n\n//region ACTION CREATORS\nexport const authActions = {\n    setUser: (user: AuthUserDataType) => ({\n        type: 'rsn/auth/SET_USER',\n        user\n    } as const),\n    clearUser: () => ({type: 'rsn/auth/CLEAR_USER'} as const),\n    setRegistrationSuccessful: (registrationSuccessful: boolean) => ({\n        type: 'rsn/auth/SET_REGISTRATION_SUCCESSFUL',\n        registrationSuccessful\n    } as const),\n    setRegistrationErrors: (errors: Array<ServerValidationErrorType>) => ({\n        type: 'rsn/auth/SET_REGISTRATION_ERRORS',\n        errors\n    } as const),\n    setLoginErrors: (errors: Array<ServerValidationErrorType>) => ({\n        type: 'rsn/auth/SET_LOGIN_ERRORS',\n        errors\n    } as const)\n}\nexport type AuthActionType = ReturnType<InferActionsTypes<typeof authActions>>\n//endregion\n\n//region THUNK CREATORS\nexport const login = (loginFormData: LoginDataType): ThunkType<AuthActionType> => async (dispatch) => {\n    const res = await authApi.login(loginFormData)\n    if (res.resultCode === ResultCodes.success) {\n        dispatch(getAuthUserData())\n        dispatch(startMessagesListening())\n    }\n    if (res.resultCode === ResultCodes.error) {\n        dispatch(authActions.setLoginErrors(res.errors))\n    }\n}\n\nexport const logout = (): ThunkType<AuthActionType> => async (dispatch) => {\n    const res = await authApi.logout()\n    if (res.resultCode === ResultCodes.success) {\n        dispatch(getAuthUserData())\n        dispatch(stopMessagesListening())\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\n\nexport const getAuthUserData = (): ThunkType<AuthActionType> => async (dispatch) => {\n    const res = await authApi.me()\n    if (res.resultCode === ResultCodes.success) {\n        const {user} = res.data\n        dispatch(authActions.setUser(user))\n    } else {\n        dispatch(stopMessagesListening())\n        dispatch(authActions.clearUser())\n    }\n\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n    if (res.resultCode === ResultCodes.expiredToken) {\n        console.log(res)\n    }\n}\n\n\nexport const register = (registrationData: RegistrationDataType): ThunkType<AuthActionType> => async (dispatch) => {\n    const res = await authApi.register(registrationData)\n    if (res.resultCode === ResultCodes.success) {\n        dispatch(authActions.setRegistrationSuccessful(true))\n    }\n    if (res.resultCode === ResultCodes.error) {\n        dispatch(authActions.setRegistrationErrors(res.errors))\n    }\n}\n//endregion\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"Avatar_dark__1YuV1\",\"wrapper\":\"Avatar_wrapper__-6Oyv\",\"border\":\"Avatar_border__1TxWY\",\"image\":\"Avatar_image__3cwVV\",\"shadow\":\"Avatar_shadow__19hLN\",\"buttons\":\"Avatar_buttons__3JY8W\",\"icon\":\"Avatar_icon__3jwnY\",\"photo\":\"Avatar_photo__4sCkc\",\"onLineIndicator\":\"Avatar_onLineIndicator__1VnnP\",\"name\":\"Avatar_name__32WMT\"};","import {MessageType} from '../types/types'\nimport {io} from 'socket.io-client'\n\nlet serverMessageSubscribers = [] as Array<(message: MessageType) => void>\nlet unreadMessagesSubscribers = [] as Array<(unreadMessagesCount: number) => void>\nlet notAuthorizedSubscribers = [] as Array<() => void>\nlet authorizedSubscribers = [] as Array<() => void>\nlet connectSubscribers = [] as Array<() => void>\n\nlet socket = io(process.env.REACT_APP_API_URL || 'http://localhost:5000/', {withCredentials: true, autoConnect: false, reconnection: true})\n\n// handle dialog message from server\ntype ServerMessageResponseType = { dialogId: string, message: MessageType }\nconst handleServerMessage = (serverMessageResponse: ServerMessageResponseType) => {\n    serverMessageSubscribers.forEach(s => s(serverMessageResponse.message))\n}\nsocket.on('server-message', handleServerMessage)\n\n// handle unread message notification from server\ntype UnreadMessagesResponseType = { unreadMessagesCount: number }\nconst handleUnreadMessages = (unreadMessagesResponse: UnreadMessagesResponseType) => {\n    unreadMessagesSubscribers.forEach(s => s(unreadMessagesResponse.unreadMessagesCount))\n}\nsocket.on('unread-message', handleUnreadMessages)\n\n// handle not authorized event\nconst handleNotAuthorized = () => {\n    notAuthorizedSubscribers.forEach(async s => await s())\n}\nsocket.on('not-authorized', handleNotAuthorized)\n\nconst handleAuthorized = () => {\n    authorizedSubscribers.forEach(s => s())\n}\nsocket.on('authorized', handleAuthorized)\n\nconst handleConnect = () => {\n    console.log('Socket connection opened')\n    connectSubscribers.forEach(s => s())\n}\nsocket.on('connect', handleConnect)\nsocket.on('disconnect', () => console.log('Socket connection closed'))\n\n\n\nexport const socketApi = {\n    connect() {\n        if (!socket.connected) socket.connect()\n    },\n    disconnect() {\n        if (socket.connected) {\n            socket.disconnect()\n            connectSubscribers = []\n            serverMessageSubscribers = []\n            unreadMessagesSubscribers = []\n            notAuthorizedSubscribers = []\n            authorizedSubscribers = []\n        }\n    },\n\n    subscribe(\n        connectCallback: () => void,\n        serverMessageCallback: (message: MessageType) => void,\n        unreadMessagesCallback: (unreadMessagesCount: number) => void,\n        notAuthorizedCallback: () => void,\n        authorizedCallback: () => void\n    ) {\n        connectSubscribers.push(connectCallback)\n        serverMessageSubscribers.push(serverMessageCallback)\n        unreadMessagesSubscribers.push(unreadMessagesCallback)\n        notAuthorizedSubscribers.push(notAuthorizedCallback)\n        authorizedSubscribers.push(authorizedCallback)\n    },\n\n    unsubscribe(\n        connectCallback: () => void,\n        serverMessageCallback: (message: MessageType) => void,\n        unreadMessagesCallback: (unreadMessagesCount: number) => void,\n        notAuthorizedCallback: () => void,\n        authorizedCallback: () => void\n    ) {\n        connectSubscribers = connectSubscribers.filter(s => s !== connectCallback)\n        serverMessageSubscribers = serverMessageSubscribers.filter(s => s !== serverMessageCallback)\n        unreadMessagesSubscribers = unreadMessagesSubscribers.filter(s => s !== unreadMessagesCallback)\n        notAuthorizedSubscribers = notAuthorizedSubscribers.filter(s => s !== notAuthorizedCallback)\n        authorizedSubscribers = authorizedSubscribers.filter(s => s !== authorizedCallback)\n    },\n    sendMessage(message: string, dialogId: string) {\n        socket.emit('client-message', message, dialogId)\n    }\n}\n","import {coreApi, handleError, handleResponse} from './core.api'\nimport {DialogType, MessageType, UserItemDataType} from '../types/types'\n\ntype DialogDataType = {\n    dialog: {\n        _id: string,\n        createdAt: Date,\n        updatedAt: Date,\n        users: Array<UserItemDataType>,\n        messages: Array<MessageType>\n    }\n}\n\ntype DialogsDataType = {\n    dialogs: Array<DialogType>\n}\n\nexport const dialogApi = {\n    getDialogs: () => coreApi\n        .get(`/dialog`)\n        .then(handleResponse<DialogsDataType>())\n        .catch(handleError()),\n    getMessages: (username: string) => coreApi\n        .get(`/dialog/${username}`)\n        .then(handleResponse<DialogDataType>())\n        .catch(handleError()),\n    markMessageAsRead: (messageId: string) => coreApi\n        .patch(`/message/${messageId}`)\n        .then(handleResponse<{message: MessageType, unreadMessagesCount: number}>())\n        .catch(handleError())\n}\n","import {InferActionsTypes, RootState, ThunkType} from '../store'\nimport {DialogType, MessageType} from 'types/types'\nimport {socketApi} from 'api/socket.api'\nimport {Dispatch} from 'react'\nimport {dialogApi} from 'api/dialog.api'\nimport {ResultCodes} from 'api/core.api'\nimport {authApi} from 'api/auth.api'\n\n\n// INITIAL STATE\nconst initialState = {\n    currentDialogId: null as string | null,\n    messages: [] as Array<MessageType>,\n    dialogs: [] as Array<DialogType>,\n    cachedMessage: null as { text: string, dialogId: string } | null,\n    unreadMessagesCount: 0\n}\ntype DialogsStateType = typeof initialState\n\n// REDUCER\nexport const dialogsReducer = (state: DialogsStateType = initialState, action: DialogsActionType): DialogsStateType => {\n    switch (action.type) {\n        case 'rsn/chat/ADD_MESSAGE': {\n            return {\n                ...state,\n                messages: [...state.messages, action.message],\n                dialogs: state.dialogs.map(dialog => (dialog._id === action.message.dialog) ? {\n                    ...dialog,\n                    updated: action.message.date\n                } : dialog)\n            }\n        }\n        case 'rsn/chat/SET_DIALOG': {\n            return {\n                ...state,\n                currentDialogId: action.currentDialogId,\n                messages: action.messages\n            }\n        }\n        case 'rsn/chat/UNSET_DIALOG': {\n            return {\n                ...state,\n                currentDialogId: null,\n                messages: []\n            }\n        }\n        case 'rsn/chat/SET_DIALOGS': {\n            return {\n                ...state,\n                dialogs: action.dialogs\n            }\n        }\n        case 'rsn/chat/SET_UNREAD_MESSAGES_COUNT': {\n            return {\n                ...state,\n                unreadMessagesCount: action.unreadMessagesCount\n            }\n        }\n        case 'rsn/chat/MARK_MESSAGE_AS_READ': {\n            return {\n                ...state,\n                messages: state.messages.map(message => message._id !== action.messageId ? message : {...message, isRead: true})\n            }\n        }\n        case 'rsn/chat/SET_CACHED_MESSAGE': {\n            return {\n                ...state,\n                cachedMessage: {text: action.text, dialogId: action.dialogId}\n            }\n        }\n        case 'rsn/chat/CLEAR_CACHED_MESSAGE': {\n            return {\n                ...state,\n                cachedMessage: null\n            }\n        }\n        default: {\n            return state\n        }\n    }\n}\n\n//region ACTION CREATORS\nexport const dialogsActions = {\n    setDialog: (currentDialogId: string, messages: Array<MessageType>) => ({\n        type: 'rsn/chat/SET_DIALOG',\n        currentDialogId,\n        messages\n    } as const),\n    unsetDialog: () => ({type: 'rsn/chat/UNSET_DIALOG'} as const),\n    setDialogs: (dialogs: Array<DialogType>) => ({type: 'rsn/chat/SET_DIALOGS', dialogs} as const),\n    addMessage: (message: MessageType) => ({type: 'rsn/chat/ADD_MESSAGE', message} as const),\n    setUnreadMessagesCount: (unreadMessagesCount: number) => ({\n        type: 'rsn/chat/SET_UNREAD_MESSAGES_COUNT',\n        unreadMessagesCount\n    } as const),\n    markMessageAsRead: (messageId: string) => ({type: 'rsn/chat/MARK_MESSAGE_AS_READ', messageId} as const),\n    setCachedMessage: (text: string, dialogId: string) => ({type: 'rsn/chat/SET_CACHED_MESSAGE', text, dialogId} as const),\n    clearCachedMessage: () => ({type: 'rsn/chat/CLEAR_CACHED_MESSAGE'} as const)\n}\nexport type DialogsActionType = ReturnType<InferActionsTypes<typeof dialogsActions>>\n//endregion\n\n//region THUNK CREATORS\n// todo: need to test and debug dialogs. sometimes message not added to state immediately after sending.\nlet _connectHandler: (() => void) | null = null\nconst connectHandlerCreator = (dispatch: Dispatch<DialogsActionType | ThunkType<DialogsActionType>>, getState: () => RootState) => {\n    if (_connectHandler) return _connectHandler\n    return () => {\n        console.log('connect handler')\n        const {cachedMessage} = getState().dialogs\n        if (cachedMessage) {\n            dispatch(sendMessage(cachedMessage.text, cachedMessage.dialogId))\n            dispatch(dialogsActions.clearCachedMessage())\n        }\n    }\n}\n\nlet _messageHandler: ((message: MessageType) => void) | null = null\nconst messageHandlerCreator = (dispatch: Dispatch<DialogsActionType>) => {\n    if (_messageHandler) return _messageHandler\n    return (message: MessageType) => {\n        dispatch(dialogsActions.addMessage(message))\n    }\n}\n\nlet _unreadMessagesHandler: ((unreadMessagesCount: number) => void) | null = null\nconst unreadMessagesHandlerCreator = (dispatch: Dispatch<DialogsActionType>) => {\n    if (_unreadMessagesHandler) return _unreadMessagesHandler\n    return (unreadMessagesCount: number) => {\n        dispatch(dialogsActions.setUnreadMessagesCount(unreadMessagesCount))\n    }\n}\n\nlet _notAuthorizedHandler: (() => null) | null = null\nconst notAuthorizedHandlerCreator = (dispatch: Dispatch<ThunkType<DialogsActionType> | DialogsActionType>) => {\n    if (_notAuthorizedHandler) return _notAuthorizedHandler\n    return async () => {\n        console.log('dispatch not authorized websocket event')\n        dispatch(stopMessagesListening())\n        const res = await authApi.refreshToken()\n        if (res.resultCode === ResultCodes.success) dispatch(startMessagesListening())\n    }\n}\n\nlet _authorizedHandler: (() => null) | null = null\nconst authorizedHandlerCreator = (dispatch: Dispatch<ThunkType<DialogsActionType> | DialogsActionType>, getState: () => RootState) => {\n    if (_authorizedHandler) return _authorizedHandler\n    return async () => {\n\n    }\n}\n\nexport const startMessagesListening = (): ThunkType<DialogsActionType> => async (dispatch, getState) => {\n    socketApi.connect()\n    socketApi.subscribe(\n        connectHandlerCreator(dispatch, getState),\n        messageHandlerCreator(dispatch),\n        unreadMessagesHandlerCreator(dispatch),\n        notAuthorizedHandlerCreator(dispatch),\n        authorizedHandlerCreator(dispatch, getState)\n    )\n}\nexport const stopMessagesListening = (): ThunkType<DialogsActionType> => async (dispatch, getState) => {\n    socketApi.unsubscribe(\n        connectHandlerCreator(dispatch, getState),\n        messageHandlerCreator(dispatch),\n        unreadMessagesHandlerCreator(dispatch),\n        notAuthorizedHandlerCreator(dispatch),\n        authorizedHandlerCreator(dispatch, getState)\n    )\n    socketApi.disconnect()\n}\n\n// todo should refresh tokens if not authorized + add authorization verification on backend\nexport const sendMessage = (message: string, dialogId: string): ThunkType<DialogsActionType> => async (dispatch, getState) => {\n    dispatch(dialogsActions.setCachedMessage(message, dialogId))\n    socketApi.sendMessage(message, dialogId)\n}\n\nexport const getDialogs = (): ThunkType<DialogsActionType> => async (dispatch) => {\n    const res = await dialogApi.getDialogs()\n\n    if (res.resultCode === ResultCodes.success) {\n        dispatch(dialogsActions.setDialogs(res.data.dialogs))\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\n\nexport const openDialog = (username: string): ThunkType<DialogsActionType> => async (dispatch) => {\n    const res = await dialogApi.getMessages(username)\n    if (res.resultCode === ResultCodes.success) {\n        dispatch(dialogsActions.setDialog(res.data.dialog._id, res.data.dialog.messages))\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\n\nexport const closeDialog = (): ThunkType<DialogsActionType> => async (dispatch) => {\n    dispatch(dialogsActions.unsetDialog())\n}\n\nexport const readMessage = (messageId: string): ThunkType<DialogsActionType> => async (dispatch) => {\n    const res = await dialogApi.markMessageAsRead(messageId)\n    if (res.resultCode === ResultCodes.success) {\n        dispatch(dialogsActions.markMessageAsRead(res.data.message._id))\n        dispatch(dialogsActions.setUnreadMessagesCount(res.data.unreadMessagesCount))\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\n//endregion\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"Flex_dark__VglvW\",\"row\":\"Flex_row__1qkrg\",\"bordered\":\"Flex_bordered__2oy8P\",\"col\":\"Flex_col__16wLV\",\"item\":\"Flex_item__2h0t2\",\"space\":\"Flex_space__1qV_U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"white\":\"#fff\",\"black\":\"#000\",\"accent\":\"#3f72af\",\"dark\":\"colors_dark__1REuw\",\"mid\":\"#d3e5ff\",\"light\":\"#f9f7f7\",\"error\":\"#ef3e36\",\"success\":\"#9cec5b\",\"darkGrey\":\"#404040\",\"midGrey\":\"gray\",\"lightGrey\":\"#f2f2f2\",\"textDark\":\"var(--text-color-dark)\",\"textMid\":\"var(--text-color-mid)\",\"textLight\":\"var(--text-color-light)\",\"textLink\":\"var(--text-color-link)\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"Layout_dark__1DNiK\",\"layout\":\"Layout_layout__vps_j\",\"background\":\"Layout_background__3hwwR\",\"container\":\"Layout_container__1qghn\",\"appBar\":\"Layout_appBar__TzzsT\",\"main\":\"Layout_main__3OBIG\",\"content\":\"Layout_content__3nMgS\",\"sidebar\":\"Layout_sidebar__2EpYu\"};","import {coreApi, handleError, handleResponse} from './core.api'\nimport {EditProfileDataType} from './profile.api'\nimport {AuthUserDataType} from '../types/types'\n\n\n//region DATA TYPES\n// GET /auth/me/ response\n// contains userId, email and username of currently logged in user\nexport type AuthorizedUserDataType = {\n    userId: string\n    email: string\n    username: string\n    profile: EditProfileDataType\n}\n\n// POST /auth/login/\n// contains data needed for login (gathered from login form)\nexport type LoginDataType = {\n    email: string\n    password: string\n    rememberMe: boolean\n}\n\n// POST /auth/register/\n// contains data needed for registration (gathered from registration form)\nexport type RegistrationDataType = {\n    firstName: string\n    lastName: string\n    username: string\n    email: string\n    password: string\n}\n//endregion\n\nexport const authApi = {\n    login: (loginData: LoginDataType) => coreApi\n        .post('/auth/login', loginData)\n        .then(handleResponse())\n        .catch(handleError()),\n\n    me: () => coreApi\n        .get('/auth/me')\n        .then(handleResponse<AuthUserDataType>())\n        .catch(handleError()),\n\n    refreshToken: () => coreApi\n        .post('/auth/refresh-tokens')\n        .then(handleResponse())\n        .catch(handleError()),\n\n    logout: () => coreApi\n        .delete('/auth/logout')\n        .then(handleResponse())\n        .catch(handleError()),\n\n    register: (registrationData: RegistrationDataType) => coreApi\n        .post('/auth/register', registrationData)\n        .then(handleResponse())\n        .catch(handleError())\n}\n\n\ncoreApi.interceptors.response.use(\n    (res) => {\n        return res\n    },\n    async (err) => {\n        const originalConfig = err.config\n        if (err.response.status === 401 && !originalConfig._retry && err.response.data.message !== 'Invalid token') {\n            originalConfig._retry = true\n            await authApi.refreshToken()\n            return coreApi(originalConfig);\n        }\n        return Promise.reject(err)\n    }\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"BottomNavigation_dark__3hB8O\",\"wrapper\":\"BottomNavigation_wrapper__1D3OW\",\"item\":\"BottomNavigation_item__1FQdv\"};","import React from 'react'\nimport classes from './Card.module.scss'\n\ntype PropsType = {\n    maxWidth?: number\n    ref?: React.Ref<HTMLDivElement>\n}\n\nexport const Card: React.FC<PropsType> = ({children, maxWidth, ref}) => <div\n    className={classes.Card}\n    style={{maxWidth}}\n    ref={ref}\n>\n    {children}\n</div>","import React, {useEffect, useState} from 'react'\nimport classes from './Avatar.module.scss'\nimport classnames from 'classnames'\nimport defaultAvatarImage from 'assets/images/avatar-default.jpg'\nimport {Area} from 'react-easy-crop/types'\nimport ImageUploadForm from 'components/_forms/ImageUploadForm/ImageUploadForm'\nimport {Button} from 'components/_shared/Button/Button'\nimport {PencilFill, XLg, ZoomIn, ArrowLeft} from 'react-bootstrap-icons'\nimport {ModalWindow} from 'components/_shared/ModalWindow/ModalWindow'\nimport {Row, Space} from 'components/_shared/Flex/Flex'\n\ntype PropsType = {\n    smallImg?: string | null\n    largeImg?: string | null\n    size?: number\n    name?: string\n    border?: boolean\n    shadow?: boolean\n    online?: boolean\n    onEdit?: (image: File, cropArea: Area) => void\n}\n\nexport const Avatar: React.FC<PropsType> = ({\n                                                smallImg,\n                                                largeImg,\n                                                size = 90,\n                                                name,\n                                                online,\n                                                border = false,\n                                                shadow = false,\n                                                onEdit\n                                            }) => {\n    const zoomable = !!(smallImg && largeImg)\n    const editable = !!onEdit\n\n    const [modalActive, setModalActive] = useState(false)\n\n    useEffect(() => {\n        setModalActive(false)\n    }, [])\n    const openModal = () => setModalActive(true)\n    const closeModal = () => setModalActive(false)\n\n    return (\n        <div\n            className={classnames(\n                classes.wrapper,\n                {[classes.border]: border},\n                {[classes.shadow]: shadow}\n            )}\n            style={{width: size}}\n        >\n\n            <div className={classes.image} style={{width: size, height: size}}>\n                {(editable || zoomable) && <AvatarButton\n                    onZoomClick={zoomable ? openModal : undefined}\n                />}\n\n                <div className={classes.photo}>\n                    <img src={smallImg || defaultAvatarImage} alt=\"avatar\"/>\n                </div>\n\n                {online && <div className={classes.onLineIndicator}/>}\n            </div>\n\n            {name && <div className={classes.name}>{name}</div>}\n\n            {zoomable && largeImg && <AvatarModalWindow\n                img={largeImg}\n                open={modalActive}\n                onClose={closeModal}\n                onSubmit={onEdit}\n            />}\n        </div>\n    )\n}\n\ntype ZoomAvatarModalWindowPropsType = {\n    img: string,\n    open: boolean,\n    onClose: () => void\n    onSubmit?: (image: File, cropArea: Area) => void\n}\nconst AvatarModalWindow: React.FC<ZoomAvatarModalWindowPropsType> = ({\n                                                                             img,\n                                                                             open,\n                                                                             onClose,\n                                                                             onSubmit\n                                                                         }) => {\n    const [editMode, setEditMode] = useState(false)\n    const editHandler = () => {\n        setEditMode(true)\n    }\n    const closeHandler = () => {\n        setEditMode(false)\n        onClose()\n    }\n    const backHandler = () => {\n        setEditMode(false)\n    }\n    const submitHandler = (image: File, cropArea: Area) => {\n        !!onSubmit && onSubmit(image, cropArea)\n        closeHandler()\n    }\n    return (\n        <ModalWindow open={open}>\n            <Row horizontalAlign={'center'}>\n                {!editMode && !!onSubmit && <Button onClick={editHandler}>Change avatar</Button>}\n                {editMode && !!onSubmit &&\n                <Button onClick={backHandler}><Button.Icon><ArrowLeft/></Button.Icon></Button>}\n                <Space/>\n                <Button type={'cancel'} size='md' onClick={closeHandler}>\n                    <Button.Icon><XLg/></Button.Icon>\n                </Button>\n            </Row>\n            {!editMode && <div style={{marginTop: 10}}>\n                {img && <img src={img} alt=\"\"/>}\n            </div>}\n            {editMode && !!onSubmit && <ImageUploadForm aspect={1} onSubmit={submitHandler}/>}\n        </ModalWindow>\n    )\n}\n\ntype AvatarButtonsPropsType = {\n    onZoomClick?: () => void\n}\nconst AvatarButton: React.FC<AvatarButtonsPropsType> = ({\n                                                             onZoomClick\n                                                         }) => {\n    return (\n        <button className={classes.buttons} onClick={onZoomClick}>\n            <div className={classes.icon}>\n                <ZoomIn color={'white'} size={20}/>\n            </div>\n        </button>\n    )\n}","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/4QBWRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAAEsAAAAAQAAASwAAAAB/+0ALFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAPHAFaAAMbJUccAQAAAgAEAP/hDIFodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0n77u/JyBpZD0nVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkJz8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0nYWRvYmU6bnM6bWV0YS8nIHg6eG1wdGs9J0ltYWdlOjpFeGlmVG9vbCAxMC4xMCc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczp0aWZmPSdodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyc+CiAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICA8dGlmZjpYUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpYUmVzb2x1dGlvbj4KICA8dGlmZjpZUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpZUmVzb2x1dGlvbj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wTU09J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8nPgogIDx4bXBNTTpEb2N1bWVudElEPmFkb2JlOmRvY2lkOnN0b2NrOjEwYjk3ZTMwLTY5ZmMtNDVlZS1iN2MwLWU2ZmZmOGJjOTNhNjwveG1wTU06RG9jdW1lbnRJRD4KICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmNhNTY3YzM3LWY1MTctNDQ1Ni05Y2Y3LTc2Mzg5NWQyOWQ1NTwveG1wTU06SW5zdGFuY2VJRD4KIDwvcmRmOkRlc2NyaXB0aW9uPgo8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSd3Jz8+/9sAQwAFAwQEBAMFBAQEBQUFBgcMCAcHBwcPCwsJDBEPEhIRDxERExYcFxMUGhURERghGBodHR8fHxMXIiQiHiQcHh8e/9sAQwEFBQUHBgcOCAgOHhQRFB4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4e/8AAEQgBaAFoAwEiAAIRAQMRAf/EABsAAQACAwEBAAAAAAAAAAAAAAAFBgMEBwEC/8QAPRABAAIBAgIEDAQEBgMBAAAAAAECAwQRBQYTITFBEhYiUVRxgZGSscHRFCNhoTJCUnIVQ1Ni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\"","import React from 'react'\nimport classes from './Spinner.module.scss'\n\ntype PropsType = {\n    size?: number\n    color?: string\n    thickness?: number\n    fullscreen?: boolean\n}\nconst Spinner: React.FC<PropsType> = ({\n                                          size = 20,\n                                          color = '#00BFFF',\n                                          thickness = 2,\n    fullscreen= false\n                                      }) => {\n    const style = {\n        width: size,\n        height: size,\n        borderWidth: thickness,\n        borderLeftColor: color,\n        borderBottomColor: color,\n        borderRightColor: color\n    }\n\n    return (\n        <div className={fullscreen ? classes.fullscreen : ''}>\n            <div className={classes.spinner} style={style}/>\n        </div>\n    )\n}\n\nexport default Spinner","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"InputFile_dark__315XE\",\"inputFile\":\"InputFile_inputFile__3wa1w\",\"spinner\":\"InputFile_spinner__1bACb\",\"dragActive\":\"InputFile_dragActive__3-290\",\"cropperContainer\":\"InputFile_cropperContainer__1uVMX\",\"imageCrop\":\"InputFile_imageCrop__tzrhy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"ModalWindow_dark__gRlSV\",\"header\":\"ModalWindow_header__1wqhA\",\"title\":\"ModalWindow_title__QwVLR\",\"button\":\"ModalWindow_button__2AUC1\",\"content\":\"ModalWindow_content__24nri\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"SidebarSubscriptions_dark__1CU1F\",\"sidebarFriends\":\"SidebarSubscriptions_sidebarFriends__2QcoA\",\"Title\":\"SidebarSubscriptions_Title__1bOCD\",\"Avatars\":\"SidebarSubscriptions_Avatars___nuro\",\"Link\":\"SidebarSubscriptions_Link__1S7QW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnSmall\":\"12\",\"btnMedium\":\"15\",\"btnLarge\":\"18\",\"avatarProfile\":\"130\",\"avatarProfilePhoneTablet\":\"100\",\"appBarHeight\":\"40\",\"bottomNavHeight\":\"40\",\"dark\":\"sizes_dark__1qGfd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"Spinner_dark__13gp1\",\"fullscreen\":\"Spinner_fullscreen__1BQ8a\",\"spinner\":\"Spinner_spinner__KWXlP\",\"spin\":\"Spinner_spin__3ILAz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"InputImageCrop_dark__1dhnZ\",\"cropperContainer\":\"InputImageCrop_cropperContainer__JlIko\",\"imageCrop\":\"InputImageCrop_imageCrop__2Hyu3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"InputText_dark__-ZdoW\",\"input\":\"InputText_input__zkTt8\",\"error\":\"InputText_error__3-bBW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"InputPassword_dark__2ZYlm\",\"input\":\"InputPassword_input__2d_Nv\",\"error\":\"InputPassword_error__F73Vm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"InputCheckbox_dark__1W8oT\",\"checkbox\":\"InputCheckbox_checkbox__rfK0M\",\"box\":\"InputCheckbox_box__1KElf\"};","import moment from 'moment'\n\nexport const capitalize = (sourceString: string): string => {\n    return sourceString.charAt(0).toUpperCase() + sourceString.slice(1)\n}\n\nexport const formatDate = (date: Date | string, format: string = 'DD.MM.YYYY') => {\n    return moment(date).format(format)\n}\n\nexport const checkOnline = (lastSeenDate?: string) => {\n    if (!lastSeenDate) return false\n    const currentDate = new Date()\n    const date = new Date(lastSeenDate)\n    return currentDate.getTime() - date.getTime() < 5 * 60 * 1000\n}\n\nexport const trimString = (s: string, length: number = 5) => {\n    return (s.length > length) ? s.slice(0, length) + '...' : s\n}","import React, {CSSProperties} from 'react'\nimport classnames from 'classnames'\nimport classes from './Button.module.scss'\nimport colors from 'assets/styles/colors.module.scss'\nimport sizes from 'assets/styles/sizes.module.scss'\nimport Spinner from 'components/_shared/Spinner/Spinner'\n\ntype ButtonTypes = 'primary' | 'secondary' | 'neutral' | 'text' | 'link' | 'cancel'\ntype ButtonSizes = 'sm' | 'md' | 'lg' | 'xl'\n\ntype ButtonType = {\n    onClick?: (e: React.MouseEvent) => void\n    type?: ButtonTypes\n    size?: ButtonSizes\n    disabled?: boolean\n    spinner?: boolean\n    style?: CSSProperties\n}\n\nexport const Button: React.FC<ButtonType> & {\n    Icon: React.FC,\n    Text: React.FC,\n    Spinner: React.FC<{type: ButtonTypes, size: ButtonSizes}>,\n    Badge: React.FC\n} = ({\n         children,\n         onClick,\n         type = 'primary',\n         size = 'md',\n         disabled = false,\n         spinner = false,\n         style\n     }) => {\n\n    return (\n        <button onClick={onClick} disabled={disabled || spinner} style={style}\n                className={classnames(\n                    classes.button,\n                    {[classes.primary]: !type || type === 'primary'},\n                    {[classes.secondary]: type === 'secondary'},\n                    {[classes.neutral]: type === 'neutral'},\n                    {[classes.text]: type === 'text'},\n                    {[classes.cancel]: type === 'cancel'},\n                    {[classes.link]: type === 'link'},\n\n                    {[classes.spinner]: spinner},\n\n                    {[classes[size]]: size },\n                )}>\n\n            <div className={classnames(\n                classes.content,\n                {[classes.spinner]: spinner}\n            )}>\n                {children}\n                {spinner && <div className={classes.buttonSpinner}>\n                    <Button.Spinner size={size} type={type}/>\n                </div>}\n            </div>\n\n        </button>\n    )\n\n}\n\nButton.Icon = ({children}) => {\n    return <div className={classes.contentIcon}>\n        {children}\n    </div>\n}\n\nButton.Text = ({children}) => {\n    return <div className={classes.contentText}>\n        {children}\n    </div>\n}\n\nButton.Spinner = ({type, size}) => {\n    const spinnerColor = (type === 'primary' || type === 'cancel') ? colors.fontLight : colors.fontDark\n    const spinnerSizes: {[key: string]: string} = {\n        sm: sizes.btnSmall,\n        md: sizes.btnMedium,\n        lg: sizes.btnLarge\n    }\n    const spinnerSize = Number.parseInt(spinnerSizes[size])\n    return <Spinner color={spinnerColor} size={spinnerSize}/>\n}\n\nButton.Badge = ({children}) => {\n    return <div className={classes.badge}>{children}</div>\n}","import {coreApi, handleError, handleResponse} from './core.api'\nimport {CommentType, PostType} from 'types/types'\n\nexport type PostsDataType = { posts: Array<PostType> }\nexport type PostDataType = { post: PostType }\nexport type PostCommentDataType = { comment: CommentType }\n\nexport type NewPostDataType = {\n    post: PostType\n}\n\nexport const postApi = {\n    getPosts: () => coreApi\n        .get(`/post`)\n        .then(handleResponse<PostsDataType>())\n        .catch(handleError()),\n    getFeed: () => coreApi\n        .get(`/post/feed`)\n        .then(handleResponse<PostsDataType>())\n        .catch(handleError()),\n    getUserPosts: (username: string) => coreApi\n        .get(`/user/${username}/posts`)\n        .then(handleResponse<PostsDataType>())\n        .catch(handleError()),\n    getPost: (postId: string) => coreApi\n        .get(`/post/${postId}`)\n        .then(handleResponse<PostDataType>())\n        .catch(handleError()),\n    addPost: (text: string) => coreApi\n        .post(`/post`, { text })\n        .then(handleResponse<NewPostDataType>())\n        .catch(handleError()),\n    deletePost: (id: string) => coreApi\n        .delete(`/post/${id}`)\n        .then(handleResponse())\n        .catch(handleError()),\n    addLike: (id: string) => coreApi\n        .post(`/post/${id}/like`)\n        .then(handleResponse())\n        .catch(handleError()),\n    deleteLike: (id: string) => coreApi\n        .delete(`/post/${id}/like`)\n        .then(handleResponse())\n        .catch(handleError()),\n    addPostComment: (postId: string, text: string) => coreApi\n        .post(`post/${postId}/comment`, { text })\n        .then(handleResponse<PostCommentDataType>())\n        .catch(handleError()),\n    deletePostComment: (commentId: string) => coreApi\n        .delete(`post/comment/${commentId}`)\n        .then(handleResponse())\n        .catch(handleError())\n}","// INITIAL STATE\nimport {AuthUserDataType, CommentType, PostType, UserItemDataType} from 'types/types'\nimport {InferActionsTypes, ThunkType} from '../store'\nimport {postApi} from 'api/post.api'\nimport {ResultCodes} from 'api/core.api'\nimport {authActions, AuthActionType} from './auth.reducer'\n\nconst initialState = {\n    posts: [] as Array<PostType>,\n    isAddPostPending: false as boolean\n}\nexport type PostsStateType = typeof initialState\n\n// REDUCER\nconst reducer = (state: PostsStateType = initialState, action: PostsActionType): PostsStateType => {\n    switch (action.type) {\n        case 'rsn/post/SET_POSTS': {\n            return {\n                ...state,\n                posts: action.posts\n            }\n        }\n        case 'rsn/post/ADD_POST': {\n            return {\n                ...state,\n                posts: [...state.posts, action.post]\n            }\n        }\n        case 'rsn/post/SET_ADD_POST_PENDING': {\n            return {\n                ...state,\n                isAddPostPending: action.isPending\n            }\n        }\n        case 'rsn/post/DELETE_POST': {\n            return {\n                ...state,\n                posts: state.posts.filter(post => post._id !== action.id)\n            }\n        }\n        case 'rsn/post/ADD_POST_LIKE': {\n            const user: UserItemDataType = {\n                _id: action.user._id,\n                username: action.user.username,\n                firstName: action.user.firstName,\n                lastName: action.user.lastName,\n                avatar: action.user.avatar,\n                subscriptions: action.user.subscriptions,\n                updatedAt: Date.now().toString()\n            }\n            return {\n                ...state,\n                posts: state.posts.map(post => (post._id !== action.postId) ? post : {\n                    ...post,\n                    likes: [...post.likes, user]\n                })\n            }\n        }\n        case 'rsn/post/DELETE_POST_LIKE': {\n            return {\n                ...state,\n                posts: state.posts.map(post => (post._id !== action.postId) ? post : {\n                    ...post,\n                    likes: post.likes.filter(user => user._id !== action.user._id)\n                })\n            }\n        }\n        case 'rsn/post/ADD_POST_COMMENT': {\n            return {\n                ...state,\n                posts: state.posts.map(post => (post._id !== action.postId) ? post : {\n                    ...post,\n                    comments: [...post.comments, action.comment]\n                })\n            }\n        }\n        case 'rsn/post/DELETE_POST_COMMENT': {\n            return {\n                ...state,\n                posts: state.posts.map(post => (!post.comments.map(comment => comment._id).includes(action.commentId)) ?\n                    post :\n                    {...post, comments: post.comments.filter(comment => comment._id !== action.commentId)}\n                )\n            }\n        }\n        default: {\n            return state\n        }\n    }\n}\nexport default reducer\n\nexport const postsActions = {\n    setPosts: (posts: Array<PostType>) => ({type: 'rsn/post/SET_POSTS', posts} as const),\n    addPost: (post: PostType) => ({type: 'rsn/post/ADD_POST', post} as const),\n    deletePost: (id: string) => ({type: 'rsn/post/DELETE_POST', id} as const),\n    setAddPostPending: (isPending: boolean) => ({type: 'rsn/post/SET_ADD_POST_PENDING', isPending} as const),\n    addPostLike: (postId: string, user: AuthUserDataType) => ({type: 'rsn/post/ADD_POST_LIKE', postId, user} as const),\n    deletePostLike: (postId: string, user: AuthUserDataType) => ({\n        type: 'rsn/post/DELETE_POST_LIKE',\n        postId,\n        user\n    } as const),\n    addPostComment: (postId: string, comment: CommentType) => ({\n        type: 'rsn/post/ADD_POST_COMMENT',\n        postId,\n        comment\n    } as const),\n    deletePostComment: (commentId: string) => ({type: 'rsn/post/DELETE_POST_COMMENT', commentId} as const)\n}\nexport type PostsActionType = ReturnType<InferActionsTypes<typeof postsActions>>\n\nexport const getPost = (postId: string): ThunkType<PostsActionType> => async (dispatch) => {\n    const res = await postApi.getPost(postId)\n    if (res.resultCode === ResultCodes.success) {\n        dispatch(postsActions.setPosts([res.data.post]))\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\n\nexport const getFeedPosts = (): ThunkType<PostsActionType> => async (dispatch) => {\n    const res = await postApi.getFeed()\n    if (res.resultCode === ResultCodes.success) {\n        dispatch(postsActions.setPosts(res.data.posts))\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\n\nexport const getUserPosts = (username: string): ThunkType<PostsActionType> => async (dispatch) => {\n    const res = await postApi.getUserPosts(username)\n\n    if (res.resultCode === ResultCodes.success) {\n        dispatch(postsActions.setPosts(res.data.posts))\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\nexport const addPost = (text: string): ThunkType<PostsActionType | AuthActionType> => async (dispatch) => {\n    dispatch(postsActions.setAddPostPending(true))\n    const res = await postApi.addPost(text)\n    dispatch(postsActions.setAddPostPending(false))\n    if (res.resultCode === ResultCodes.success) {\n        console.log(res)\n        dispatch(postsActions.addPost(res.data.post))\n    }\n    if (res.resultCode === ResultCodes.authError) {\n        dispatch(authActions.clearUser())\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\nexport const deletePost = (id: string): ThunkType<PostsActionType> => async (dispatch) => {\n    const res = await postApi.deletePost(id)\n    if (res.resultCode === ResultCodes.success) {\n        dispatch(postsActions.deletePost(id))\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\n\nexport const addPostLike = (id: string): ThunkType<PostsActionType> => async (dispatch, getState) => {\n    const user = getState().auth.user\n    const res = await postApi.addLike(id)\n    if ((res.resultCode === ResultCodes.success) && user) {\n        dispatch(postsActions.addPostLike(id, user))\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\n\nexport const deletePostLike = (id: string): ThunkType<PostsActionType> => async (dispatch, getState) => {\n    const user = getState().auth.user\n    const res = await postApi.deleteLike(id)\n    if ((res.resultCode === ResultCodes.success) && user) {\n        dispatch(postsActions.deletePostLike(id, user))\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\n\nexport const addPostComment = (postId: string, text: string): ThunkType<PostsActionType> => async (dispatch, getState) => {\n    const user = getState().auth.user\n    const res = await postApi.addPostComment(postId, text)\n    if ((res.resultCode === ResultCodes.success) && user) {\n        dispatch(postsActions.addPostComment(postId, res.data.comment))\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\n\nexport const deletePostComment = (commentId: string): ThunkType<PostsActionType> => async (dispatch) => {\n    const res = await postApi.deletePostComment(commentId)\n    if ((res.resultCode === ResultCodes.success)) {\n        dispatch(postsActions.deletePostComment(commentId))\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}","import {Controller, RegisterOptions} from 'react-hook-form'\nimport {Control} from 'react-hook-form/dist/types/form'\nimport React from 'react'\nimport classes from './InputText.module.scss'\nimport {Item} from 'components/_shared/Form/Form'\n\ntype InputTextPropsType = {\n    name: string,\n    label?: string,\n    placeholder?: string,\n    rules?: RegisterOptions,\n    control?: Control,\n    disabled?: boolean\n    autoFocus?: boolean\n}\n\nexport const InputText: React.FC<InputTextPropsType> = ({\n                                                            name,\n                                                            label,\n                                                            rules,\n                                                            control,\n                                                            disabled = false,\n                                                            autoFocus = false,\n                                                            placeholder\n                                                        }) => {\n    return <Controller\n        control={control}\n        name={name}\n        rules={rules}\n        render={({field, fieldState}) => <Item label={label} required={!!rules?.required} error={fieldState.error}\n                                               disabled={disabled}>\n            <input\n                type={'text'}\n                className={`${classes.input} ${fieldState.error ? classes.error : ''}`}\n                name={field.name}\n                value={field.value}\n                onChange={field.onChange}\n                disabled={disabled}\n                autoFocus={autoFocus}\n                placeholder={placeholder}\n            />\n        </Item>}\n    />\n}","import 'reactjs-popup/dist/index.css'\nimport React from 'react'\nimport './popupjs.css'\nimport Popup from 'reactjs-popup'\nimport {XLg} from 'react-bootstrap-icons'\nimport classes from './ModalWindow.module.scss'\nimport {Button} from 'components/_shared/Button/Button'\n\ntype Props = {\n    title?: string\n    open: boolean\n    close?: () => void\n}\n\nexport const ModalWindow: React.FC<Props> = ({title, close, open, children}) => {\n    return <Popup open={open} modal nested onClose={close}\n                  contentStyle={{borderRadius: 5, padding: '10px'}}\n                  closeOnDocumentClick={false}>\n        {(title || close) && <div className={classes.header}>\n            <div className={classes.title}>{title}</div>\n            <div className={classes.button} style={{marginBottom: 10}}>\n                <Button type={'cancel'} size='sm' onClick={close}>\n                    <Button.Icon><XLg/></Button.Icon>\n                </Button>\n            </div>\n        </div>}\n        <div className={classes.content}>\n            {children}\n        </div>\n    </Popup>\n}","import {useEffect, useState} from 'react'\nimport breakpoints from '../assets/styles/breakpoints.module.scss'\n\nexport const useBreakpoint = () => {\n    const [width, setWidth] = useState<number>(0)\n\n    const updateDimensions = () => {\n        setWidth(window.innerWidth)\n    }\n\n    useEffect(() => {\n        updateDimensions()\n        window.addEventListener('resize', updateDimensions)\n\n        return () => window.addEventListener('resize', updateDimensions)\n    }, [])\n\n    const breakpointsObject: { [key: string]: boolean } = {}\n    for (const [key, value] of Object.entries(breakpoints)) {\n        breakpointsObject[key] = width < Number.parseInt(value)\n    }\n\n    return breakpointsObject\n}\n","import {AvatarType, ContactsType, FormDataType, LocationType, UserDataType} from '../types/types'\nimport {coreApi, handleError, handleResponse} from './core.api'\n\n// used for getting and updating user profile\nexport type EditProfileDataType = {\n    firstName: string,\n    lastName: string,\n    birthDate: string | null,\n    bio: string | null,\n    contacts: ContactsType | null,\n    location: LocationType | null,\n}\n\nexport const profileApi = {\n    getProfile: (username: string) => coreApi\n        .get(`/profile/${username}`)\n        .then(handleResponse<{ user: UserDataType }>())\n        .catch(handleError()),\n\n    updateProfile: (profileData: EditProfileDataType) => coreApi\n        .put('/profile', {...profileData})\n        .then(handleResponse())\n        .catch(handleError()),\n\n    updateAvatar: (formData: FormDataType) => coreApi\n        .put('/profile/avatar', formData)\n        .then(handleResponse<{ avatar: AvatarType }>())\n        .catch(handleError()),\n\n    updateCoverImage: (formData: FormDataType) => coreApi\n        .put('/profile/cover', formData)\n        .then(handleResponse<{ coverImage: string }>())\n        .catch(handleError()),\n\n    updateStatus: (status: string) => coreApi\n        .put('/profile/status', { status })\n        .then(handleResponse())\n        .catch(handleError())\n}","import {AvatarType, FormDataType, PostType, UserDataType} from '../../types/types'\nimport {profileApi, EditProfileDataType} from '../../api/profile.api'\nimport {ResultCodes} from '../../api/core.api'\nimport {InferActionsTypes, ThunkType} from '../store'\n\n// INITIAL STATE\nconst initialState = {\n    user: {} as UserDataType,\n    posts: [] as Array<PostType>,\n    isAddPostPending: false as boolean\n}\nexport type ProfileStateType = typeof initialState\n\n// REDUCER\nconst reducer = (state: ProfileStateType = initialState, action: ProfileActionType): ProfileStateType => {\n    switch (action.type) {\n        case 'rsn/profile/SET_PROFILE': {\n            return {\n                ...state,\n                user: {\n                    ...state.user,\n                    ...action.userProfileData,\n                },\n            }\n        }\n        case 'rsn/profile/UPDATE_PROFILE': {\n            return {\n                ...state,\n                user: {\n                    ...state.user,\n                    firstName: action.userProfileData.firstName,\n                    lastName: action.userProfileData.lastName,\n                    bio: action.userProfileData.bio,\n                    birthDate: action.userProfileData.birthDate,\n                    location: {\n                        ...state.user.location,\n                        ...action.userProfileData.location\n                    },\n                    contacts: {\n                        ...state.user.contacts,\n                        ...action.userProfileData.contacts\n                    }\n                }\n            }\n        }\n        case 'rsn/profile/SET_AVATAR': {\n            return {\n                ...state,\n                user: {\n                    ...state.user,\n                    avatar: {...state.user.avatar, ...action.avatar}\n                },\n                // post: state.post.map(post => ({...post, author: {...post.author, avatar: action.avatar}}))\n            }\n        }\n        case 'rsn/profile/SET_COVER_IMAGE': {\n            return {\n                ...state,\n                user: {\n                    ...state.user,\n                    coverImage: action.coverImage\n                }\n            }\n        }\n        case 'rsn/profile/SET_STATUS': {\n            return {\n                ...state,\n                user: {\n                    ...state.user,\n                    status: action.status\n                }\n            }\n        }\n        default: {\n            return state\n        }\n    }\n}\nexport default reducer\n\n//regions ACTION CREATORS\nexport const profileActions = {\n    setProfile: (userProfileData: UserDataType) => ({type: 'rsn/profile/SET_PROFILE', userProfileData} as const),\n    updateProfile: (userProfileData: EditProfileDataType) => ({type: 'rsn/profile/UPDATE_PROFILE', userProfileData} as const),\n    setAvatar: (avatar: AvatarType) => ({type: 'rsn/profile/SET_AVATAR', avatar} as const),\n    setCoverImage: (coverImage: string) => ({type: 'rsn/profile/SET_COVER_IMAGE', coverImage} as const),\n    setStatus: (status: string) => ({type: 'rsn/profile/SET_STATUS', status} as const)\n}\nexport type ProfileActionType = ReturnType<InferActionsTypes<typeof profileActions>>\n//endregion\n\n//region THUNK CREATORS\nexport const getUserData = (username: string): ThunkType<ProfileActionType> => async (dispatch) => {\n    const res = await profileApi.getProfile(username)\n\n    if (res.resultCode === ResultCodes.success) {\n        dispatch(profileActions.setProfile(res.data.user))\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\n\nexport const updateStatus = (status: string): ThunkType<ProfileActionType> => async (dispatch) => {\n    const res = await profileApi.updateStatus(status)\n\n    if (res.resultCode === ResultCodes.success) {\n        dispatch(profileActions.setStatus(status))\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\n\nexport const updateProfile = (profileData: EditProfileDataType): ThunkType<ProfileActionType> => async (dispatch) => {\n    const res = await profileApi.updateProfile(profileData)\n\n    if (res.resultCode === ResultCodes.success) {\n        dispatch(profileActions.updateProfile(profileData))\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\n\nexport const updateAvatar = (formData: FormDataType): ThunkType<ProfileActionType> => async (dispatch) => {\n    const res = await profileApi.updateAvatar(formData)\n    if (res.resultCode === ResultCodes.success) {\n        dispatch(profileActions.setAvatar(res.data.avatar))\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\n\nexport const updateCoverImage = (formData: FormDataType): ThunkType<ProfileActionType> => async (dispatch) => {\n    const res = await profileApi.updateCoverImage(formData)\n    if (res.resultCode === ResultCodes.success) {\n        dispatch(profileActions.setCoverImage(res.data.coverImage))\n    }\n    if (res.resultCode === ResultCodes.error) {\n        console.log(res)\n    }\n}\n\n\n\n//endregion"],"sourceRoot":""}