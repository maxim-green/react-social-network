{"version":3,"sources":["components/_pages/PostPage.tsx"],"names":["PostPage","id","useParams","dispatch","useDispatch","post","useSelector","state","posts","authorizedUserId","auth","user","_id","useEffect","getPost","comments","onPostAddLike","postId","addPostLike","onPostDeleteLike","deletePostLike","onPostDelete","deletePost","onAddComment","text","addPostComment","onDeleteComment","commentId","deletePostComment"],"mappings":"qIAAA,0DA2DeA,UA5CY,WACvB,IAAOC,EAAsBC,cAAtBD,GACDE,EAAWC,cACXC,EAAOC,aAAY,SAACC,GAAD,OAAsBA,EAAMC,MAAMA,MAAM,MAC3DC,EAAmBH,aAAY,SAACC,GAAD,uBAAsBA,EAAMG,KAAKC,YAAjC,aAAsB,EAAiBC,OAE5EC,qBAAU,WACNV,EAASW,YAAQb,MAClB,CAACE,EAAUF,IAqBd,OAAO,mCACFI,GAAQ,cAAC,IAAD,CACLU,SAAU,QAEVV,KAAMA,EACNI,iBAAkBA,EAClBO,cAzBmB,SAACC,GACxBd,EAASe,YAAYD,KAyBjBE,iBAtBsB,SAACF,GAC3Bd,EAASiB,YAAeH,KAsBpBI,aAnBa,SAACpB,GAClBE,EAASmB,YAAWrB,KAmBhBsB,aAhBkB,SAACN,EAAgBO,GACvCrB,EAASsB,YAAeR,EAAQO,KAgB5BE,gBAdqB,SAACC,GAC1BxB,EAASyB,YAAkBD,MAMlBtB,EAAKO","file":"static/js/15.05a8c9f2.chunk.js","sourcesContent":["import React, {useEffect} from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {useParams} from 'react-router-dom'\r\nimport {StateType} from 'redux/store'\r\nimport {\r\n    addPostComment,\r\n    addPostLike,\r\n    deletePost,\r\n    deletePostComment,\r\n    deletePostLike,\r\n    getPost\r\n} from 'redux/reducers/posts.reducer'\r\nimport Post from 'components/Post/Post'\r\n\r\n\r\nconst PostPage: React.FC = () => {\r\n    const {id}: { id: string } = useParams()\r\n    const dispatch = useDispatch()\r\n    const post = useSelector((state: StateType) => state.posts.posts[0])\r\n    const authorizedUserId = useSelector((state: StateType) => state.auth.user?._id)\r\n\r\n    useEffect(() => {\r\n        dispatch(getPost(id))\r\n    }, [dispatch, id])\r\n\r\n    const postAddLikeHandler = (postId: string) => {\r\n        dispatch(addPostLike(postId))\r\n    }\r\n\r\n    const postDeleteLikeHandler = (postId: string) => {\r\n        dispatch(deletePostLike(postId))\r\n    }\r\n\r\n    const onPostDelete = (id: string) => {\r\n        dispatch(deletePost(id))\r\n    }\r\n\r\n    const addCommentHandler = (postId: string, text: string) => {\r\n        dispatch(addPostComment(postId, text))\r\n    }\r\n    const deleteCommentHandler = (commentId: string) => {\r\n        dispatch(deletePostComment(commentId))\r\n    }\r\n\r\n    return <>\r\n        {post && <Post\r\n            comments={'shown'}\r\n            key={post._id}\r\n            post={post}\r\n            authorizedUserId={authorizedUserId}\r\n            onPostAddLike={postAddLikeHandler}\r\n            onPostDeleteLike={postDeleteLikeHandler}\r\n            onPostDelete={onPostDelete}\r\n            onAddComment={addCommentHandler}\r\n            onDeleteComment={deleteCommentHandler}\r\n        />}\r\n    </>\r\n}\r\n\r\nexport default PostPage"],"sourceRoot":""}