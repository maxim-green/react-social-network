(this["webpackJsonpreact-social-network"]=this["webpackJsonpreact-social-network"]||[]).push([[0],{285:function(e,t,n){"use strict";var c=n(10),r=n(0),o=n.n(r),i=n(50),s=n(89),a=n(311),d=n.n(a),l=n(17),j=n(51),b=n(29),m=n(9),x=n(286),u=n(46),h=n.n(u),O=n(312),p=n.n(O),v=n(92),_=n(1),f=function(e){var t=e.open,n=e.children,c=e.confirmButtonText,r=void 0===c?"Ok":c,o=e.declineButtonText,i=void 0===o?"Cancel":o,s=e.onConfirm,a=e.onDecline,d=e.important,l=void 0!==d&&d;return Object(_.jsx)(v.a,{open:t,children:Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:p.a.question,children:n}),Object(_.jsxs)(b.b,{horizontalAlign:"center",gap:10,children:[Object(_.jsx)(m.a,{type:l?"cancel":"primary",onClick:s,children:Object(_.jsx)(m.a.Text,{children:r})}),Object(_.jsx)(m.a,{type:l?"primary":"secondary",onClick:a,children:Object(_.jsx)(m.a.Text,{children:i})})]})]})})},k=function(e){var t=e.onDelete,n=e.warningMessage,o=e.disabled,i=void 0!==o&&o,s=Object(r.useState)(!1),a=Object(c.a)(s,2),d=a[0],l=a[1];return Object(_.jsxs)(m.a,{onClick:n?function(){return l(!0)}:t,type:"text",size:"sm",disabled:i,children:[Object(_.jsx)(m.a.Icon,{children:Object(_.jsx)(x.a,{color:h.a.textMid,size:16})}),Object(_.jsx)(f,{open:d,onConfirm:t,onDecline:function(){return l(!1)},important:!0,children:n})]})},C=function(e){var t=e.id,n=e.date,c=e.author,r=e.isAuthor,o=e.onDelete;return Object(_.jsxs)(b.b,{padding:20,gap:20,children:[Object(_.jsx)(l.b,{to:"/profile/".concat(c.username),children:Object(_.jsx)(j.a,{smallImg:c.avatar.small,online:Object(s.a)(c.updatedAt),size:50})}),Object(_.jsxs)(b.a,{verticalAlign:"center",children:[Object(_.jsx)(l.b,{to:"/profile/".concat(c.username),children:Object(_.jsx)("div",{className:d.a.userName,children:c.firstName+" "+c.lastName})}),Object(_.jsx)(l.b,{to:"/post/".concat(t),children:Object(_.jsxs)("div",{className:d.a.date,children:["posted on ",n]})})]}),Object(_.jsx)(b.c,{}),r&&Object(_.jsx)(b.a,{children:Object(_.jsx)(b.b,{children:Object(_.jsx)(k,{onDelete:o,warningMessage:"Are you sure you want to delete this post?"})})})]})},g=n(313),A=n.n(g),z=function(e){var t=e.children;return Object(_.jsx)(b.b,{padding:"10px 40px 30px",verticalAlign:"start",bordered:!0,children:Object(_.jsx)("div",{className:A.a.text,children:t})})},I=n(287),y=n(288),w=n(289),D=n(290),P=function(e){var t=e.likes,n=e.isLiked,c=e.onLikeClick,r=e.onCommentClick,o=e.onShareClick;return Object(_.jsxs)(b.b,{verticalAlign:"center",children:[Object(_.jsx)(b.a,{bordered:!0,padding:5,horizontalAlign:"center",stretch:!0,children:Object(_.jsxs)(m.a,{type:"text",size:"sm",onClick:c,children:[Object(_.jsx)(m.a.Text,{children:t.length}),!n&&Object(_.jsx)(m.a.Icon,{children:Object(_.jsx)(I.a,{color:h.a.accent,size:16})}),n&&Object(_.jsx)(m.a.Icon,{children:Object(_.jsx)(y.a,{color:h.a.accent,size:16})})]})}),!!r&&Object(_.jsx)(b.a,{bordered:!0,padding:5,horizontalAlign:"center",stretch:!0,children:Object(_.jsx)(m.a,{type:"text",size:"sm",onClick:r,children:Object(_.jsx)(m.a.Icon,{children:Object(_.jsx)(w.a,{color:h.a.accent,size:16})})})}),!!o&&Object(_.jsx)(b.a,{bordered:!0,padding:5,horizontalAlign:"center",stretch:!0,children:Object(_.jsx)(m.a,{type:"text",size:"sm",onClick:o,children:Object(_.jsx)(m.a.Icon,{children:Object(_.jsx)(D.a,{color:h.a.accent,size:16})})})})]})},N=n(5),S=n(314),T=n.n(S),U=n(14),E=n.n(U),L=n(315),Y=n.n(L),F=n(18),J=n(91),q=n(20),H=function(e){var t=e.onAddComment,n=e.disabled,c=void 0!==n&&n,r=Object(q.c)((function(e){return e.auth.user}));return Object(_.jsx)(F.a,{onSubmit:function(e){t(e.text)},initialValues:{text:""},resetAfterSubmit:!0,children:Object(_.jsxs)(F.b,{children:[Object(_.jsx)("div",{className:Y.a.avatar,children:Object(_.jsx)(l.b,{to:"/profile/".concat(null===r||void 0===r?void 0:r.username),tabIndex:c?-1:void 0,children:Object(_.jsx)(j.a,{smallImg:null===r||void 0===r?void 0:r.avatar.small,size:30})})}),Object(_.jsx)(J.a,{name:"text",placeholder:"Write a comment",disabled:c}),Object(_.jsx)(m.a,{disabled:c,children:Object(_.jsx)(m.a.Text,{children:"Add"})})]})})},M=n(2),B=n(316),G=n.n(B),K=function(e){var t=e._id,n=e.author,c=e.text,r=e.createdAt,o=(e.likes,e.authorizedUserId),i=e.onDelete,a=e.disabled,d=void 0!==a&&a,m=o===n._id;return Object(_.jsxs)(b.b,{padding:"10px 10px",verticalAlign:"start",gap:10,bordered:!0,children:[Object(_.jsx)(l.b,{to:"/profile/".concat(n.username),tabIndex:d?-1:void 0,children:Object(_.jsx)(j.a,{smallImg:n.avatar.small,size:30})}),Object(_.jsxs)(b.a,{gap:2,children:[Object(_.jsx)(l.b,{to:"/profile/".concat(n.username),tabIndex:d?-1:void 0,children:Object(_.jsxs)("div",{className:G.a.author,children:[n.firstName," ",n.lastName]})}),Object(_.jsx)("div",{className:G.a.date,children:Object(s.b)(r)}),Object(_.jsx)("div",{className:G.a.text,children:c})]}),Object(_.jsx)(b.c,{}),Object(_.jsx)(b.a,{children:Object(_.jsx)(b.b,{children:m&&Object(_.jsx)(k,{onDelete:function(){i(t)},warningMessage:"Are you sure you want to delete comment?",disabled:d})})})]})},Q=function(e){var t=e.children,n=e.route,c=e.disabled;return Object(_.jsxs)(_.Fragment,{children:[!!n&&Object(_.jsx)(l.b,{to:n,tabIndex:c?-1:void 0,children:Object(_.jsx)(m.a,{type:"link",disabled:c,children:Object(_.jsx)(m.a.Text,{children:t||"Show more"})})}),!n&&Object(_.jsx)(m.a,{type:"link",disabled:c,children:Object(_.jsx)(m.a.Text,{children:t||"Show more"})})]})},R=function(e){var t=e.active,n=e.comments,c=e.commentsShown,r=void 0===c?3:c,o=e.postId,i=e.authorizedUserId,s=e.onDelete;return Object(_.jsxs)(_.Fragment,{children:[n.slice().reverse().slice(r?0:void 0,r||void 0).map((function(e){return Object(_.jsx)(K,Object(M.a)(Object(M.a)({},e),{},{authorizedUserId:i,onDelete:s,disabled:!t}),e._id)})),!!r&&n.length>r&&Object(_.jsx)(b.b,{padding:5,horizontalAlign:"center",bordered:!0,children:Object(_.jsx)(Q,{route:"/post/".concat(o),disabled:!t})})]})},V=function(e){var t=e.active,n=e.postId,c=e.commentsShown,r=void 0===c?3:c,o=e.authorizedUserId,i=e.comments,s=e.onAddCommentClick,a=e.onDeleteCommentClick;return Object(_.jsxs)("div",{className:E()(T.a.comments,Object(N.a)({},T.a.active,t)),children:[Object(_.jsx)(b.b,{padding:"10px 10px",bordered:!0,children:Object(_.jsx)(H,{onAddComment:s,disabled:!t})}),Object(_.jsx)(R,{active:t,comments:i,commentsShown:r,postId:n,authorizedUserId:o,onDelete:a})]})},W=n(12),X=n(13),Z=n(15),$=n(16),ee=function(e){Object(Z.a)(n,e);var t=Object($.a)(n);function n(e){var c;return Object(W.a)(this,n),(c=t.call(this,e)).state={hasError:!1,error:"Error :("},c}return Object(X.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e)}},{key:"render",value:function(){return this.state.hasError?Object(_.jsx)("div",{style:{padding:10,color:"red",border:"1px solid red",borderRadius:5,backgroundColor:"white",display:"flex",justifyContent:"center",alignItems:"center"},children:this.state.error}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e.message}}}]),n}(o.a.Component);t.a=function(e){var t=e.post,n=e.comments,o=void 0===n?"folded":n,a=e.commentsShown,d=void 0===a?3:a,l=e.onPostDelete,j=e.onPostAddLike,b=e.onPostDeleteLike,m=e.authorizedUserId,x=e.onAddComment,u=e.onDeleteComment,h=Object(r.useState)("shown"===o),O=Object(c.a)(h,2),p=O[0],v=O[1],f=m===t.author._id,k=Object(s.b)(t.createdAt),g=!!m&&t.likes.map((function(e){return e._id})).includes(m),A=Object(r.useRef)(null);return Object(r.useEffect)((function(){null!==A&&void 0!==A&&A.current&&active&&A.current.scrollIntoView()}),[p]),Object(_.jsx)(ee,{children:Object(_.jsxs)(i.a,{children:[Object(_.jsx)(C,{id:t._id,date:k,isAuthor:f,author:t.author,onDelete:function(){l&&l(t._id)}}),Object(_.jsx)(z,{children:t.text}),Object(_.jsx)(P,{likes:t.likes,isLiked:g,onLikeClick:function(){g?b&&b(t._id):j&&j(t._id)},onCommentClick:"folded"===o?function(){v(!p)}:void 0}),Object(_.jsx)(V,{postId:t._id,authorizedUserId:m,comments:t.comments,commentsShown:"shown"===o?0:d,active:p,onAddCommentClick:function(e){x(t._id,e)},onDeleteCommentClick:function(e){u(e)}})]})})}},311:function(e,t,n){e.exports={dark:"PostHeader_dark__pjQLY",userName:"PostHeader_userName__2YXtN",date:"PostHeader_date__3zA_Q"}},312:function(e,t,n){e.exports={dark:"ConfirmPopup_dark__2y3YS",question:"ConfirmPopup_question__3Kzew",buttons:"ConfirmPopup_buttons__3ECl6"}},313:function(e,t,n){e.exports={dark:"PostText_dark__ialK7",text:"PostText_text__1HhJY"}},314:function(e,t,n){e.exports={dark:"PostComments_dark__2sxGn",comments:"PostComments_comments__2UDJ9",active:"PostComments_active__ADYYh"}},315:function(e,t,n){e.exports={dark:"AddPostCommentForm_dark__FAmPE",avatar:"AddPostCommentForm_avatar__yTG42"}},316:function(e,t,n){e.exports={dark:"PostComment_dark__2hJca",author:"PostComment_author__1TTdq",date:"PostComment_date__2pUUD",text:"PostComment_text__3WaNY"}}}]);
//# sourceMappingURL=0.2b5de1e2.chunk.js.map