(this["webpackJsonpreact-social-network"]=this["webpackJsonpreact-social-network"]||[]).push([[2],{262:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(292),c=n.n(r),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD.MM.YYYY";return c()(e).format(t)}},267:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(33),c=(n(0),n(268)),o=n.n(c),a=n(17),i=n(1),s=function(e){var t=e.name,n=e.label,c=e.rules,s=e.control,d=e.rows,l=void 0===d?2:d,j=e.disabled,b=void 0!==j&&j,u=e.placeholder;return Object(i.jsx)(r.a,{control:s,name:t,rules:c,render:function(e){var t=e.field,r=e.fieldState;return Object(i.jsx)(a.c,{label:n,required:!(null===c||void 0===c||!c.required),error:r.error,disabled:b,children:Object(i.jsx)("textarea",{className:"".concat(o.a.textarea," ").concat(r.error?o.a.error:""),name:t.name,value:t.value,onChange:t.onChange,rows:l,disabled:b,placeholder:u})})}})}},268:function(e,t,n){e.exports={dark:"InputTextarea_dark__1Bvup",textarea:"InputTextarea_textarea__3KxMk",error:"InputTextarea_error__lL7Wo"}},274:function(e,t,n){e.exports={dark:"PostHeader_dark__pjQLY",userName:"PostHeader_userName__2YXtN",date:"PostHeader_date__3zA_Q"}},275:function(e,t,n){e.exports={dark:"ConfirmPopup_dark__2y3YS",question:"ConfirmPopup_question__3Kzew",buttons:"ConfirmPopup_buttons__3ECl6"}},276:function(e,t,n){e.exports={dark:"PostText_dark__ialK7",text:"PostText_text__1HhJY"}},277:function(e,t,n){e.exports={dark:"PostComments_dark__2sxGn",comments:"PostComments_comments__2UDJ9",active:"PostComments_active__ADYYh"}},278:function(e,t,n){e.exports={dark:"AddPostCommentForm_dark__FAmPE",avatar:"AddPostCommentForm_avatar__yTG42"}},279:function(e,t,n){e.exports={dark:"PostComment_dark__2hJca",author:"PostComment_author__1TTdq",date:"PostComment_date__2pUUD"}},290:function(e,t,n){"use strict";var r=n(9),c=n(0),o=n(47),a=n(262),i=n(274),s=n.n(i),d=n(19),l=n(49),j=n(90),b=n(8),u=n(374),x=n(45),m=n.n(x),h=n(275),O=n.n(h),p=n(76),f=n(1),v=function(e){var t=e.open,n=e.children,r=e.confirmButtonText,c=void 0===r?"Ok":r,o=e.declineButtonText,a=void 0===o?"Cancel":o,i=e.onConfirm,s=e.onDecline,d=e.important,l=void 0!==d&&d;return Object(f.jsx)(p.a,{open:t,children:Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:O.a.question,children:n}),Object(f.jsxs)("div",{className:O.a.buttons,children:[Object(f.jsx)(b.a,{type:l?"cancel":"primary",onClick:i,children:Object(f.jsx)(b.a.Text,{children:c})}),Object(f.jsx)(b.a,{type:l?"primary":"secondary",onClick:s,children:Object(f.jsx)(b.a.Text,{children:a})})]})]})})},_=function(e){var t=e.onDelete,n=e.warningMessage,o=e.disabled,a=void 0!==o&&o,i=Object(c.useState)(!1),s=Object(r.a)(i,2),d=s[0],l=s[1];return Object(f.jsxs)(b.a,{onClick:n?function(){return l(!0)}:t,type:"text",size:"sm",disabled:a,children:[Object(f.jsx)(b.a.Icon,{children:Object(f.jsx)(u.a,{color:m.a.textMid,size:16})}),Object(f.jsx)(v,{open:d,onConfirm:t,onDecline:function(){return l(!1)},important:!0,children:n})]})},k=n(252),g=function(e){var t=e.id,n=e.date,r=e.author,c=e.isAuthor,o=e.onDelete;return Object(f.jsxs)(j.b,{padding:20,gap:20,children:[Object(f.jsx)(d.b,{to:"/profile/".concat(r.username),children:Object(f.jsx)(l.a,{smallImg:r.avatar.small,online:!0,size:50})}),Object(f.jsxs)(j.a,{verticalAlign:"center",children:[Object(f.jsx)(d.b,{to:"/",children:Object(f.jsx)("div",{className:s.a.userName,children:r.firstName+" "+r.lastName})}),Object(f.jsx)(d.b,{to:"/post/".concat(t),children:Object(f.jsxs)("div",{className:s.a.date,children:["posted on ",n]})})]}),Object(f.jsx)(j.c,{}),c&&Object(f.jsx)(j.a,{children:Object(f.jsxs)(j.b,{children:[Object(f.jsx)(b.a,{type:"text",size:"sm",children:Object(f.jsx)(b.a.Icon,{children:Object(f.jsx)(k.a,{color:m.a.textMid,size:16})})}),Object(f.jsx)(_,{onDelete:o,warningMessage:"Are you sure you want to delete this post?"})]})})]})},C=n(276),z=n.n(C),P=function(e){var t=e.children;return Object(f.jsx)(j.b,{padding:"10px 40px 30px",verticalAlign:"start",bordered:!0,children:Object(f.jsx)("div",{className:z.a.text,children:t})})},A=n(375),I=n(376),y=n(377),D=n(378),w=function(e){var t=e.likes,n=e.isLiked,r=e.onLikeClick,c=e.onCommentClick,o=e.onShareClick;return Object(f.jsxs)(j.b,{verticalAlign:"center",children:[Object(f.jsx)(j.a,{bordered:!0,padding:5,horizontalAlign:"center",stretch:!0,children:Object(f.jsxs)(b.a,{type:"text",size:"sm",onClick:r,children:[Object(f.jsx)(b.a.Text,{children:t.length}),!n&&Object(f.jsx)(b.a.Icon,{children:Object(f.jsx)(A.a,{color:m.a.accent,size:16})}),n&&Object(f.jsx)(b.a.Icon,{children:Object(f.jsx)(I.a,{color:m.a.accent,size:16})})]})}),Object(f.jsx)(j.a,{bordered:!0,padding:5,horizontalAlign:"center",stretch:!0,children:Object(f.jsx)(b.a,{type:"text",size:"sm",onClick:c,children:Object(f.jsx)(b.a.Icon,{children:Object(f.jsx)(y.a,{color:m.a.accent,size:16})})})}),Object(f.jsx)(j.a,{bordered:!0,padding:5,horizontalAlign:"center",stretch:!0,children:Object(f.jsx)(b.a,{type:"text",size:"sm",onClick:o,children:Object(f.jsx)(b.a.Icon,{children:Object(f.jsx)(D.a,{color:m.a.accent,size:16})})})})]})},N=n(5),T=n(277),S=n.n(T),L=n(14),U=n.n(L),M=n(278),Y=n.n(M),E=n(17),F=n(91),q=n(21),B=function(e){var t=e.onAddComment,n=e.disabled,r=void 0!==n&&n,c=Object(q.c)((function(e){return e.auth.user}));return Object(f.jsx)(E.a,{onSubmit:function(e){t(e.text)},initialValues:{text:""},resetAfterSubmit:!0,children:Object(f.jsxs)(E.b,{children:[Object(f.jsx)("div",{className:Y.a.avatar,children:Object(f.jsx)(d.b,{to:"/profile/".concat(null===c||void 0===c?void 0:c.username),tabIndex:r?-1:void 0,children:Object(f.jsx)(l.a,{smallImg:null===c||void 0===c?void 0:c.avatar.small,size:30})})}),Object(f.jsx)(F.a,{name:"text",placeholder:"Write a comment",disabled:r}),Object(f.jsx)(b.a,{disabled:r,children:Object(f.jsx)(b.a.Text,{children:"Add"})})]})})},J=n(2),H=n(279),V=n.n(H),K=function(e){var t=e._id,n=e.author,r=e.text,c=e.createdAt,o=(e.likes,e.authorizedUserId),i=e.onDelete,s=e.disabled,u=void 0!==s&&s,x=o===n._id;return Object(f.jsxs)(j.b,{padding:"10px 20px",verticalAlign:"center",gap:10,bordered:!0,children:[Object(f.jsx)(d.b,{to:"/profile/".concat(n.username),tabIndex:u?-1:void 0,children:Object(f.jsx)(l.a,{smallImg:n.avatar.small,size:40})}),Object(f.jsxs)(j.a,{gap:2,children:[Object(f.jsx)(d.b,{to:"/profile/".concat(n.username),tabIndex:u?-1:void 0,children:Object(f.jsxs)("div",{className:V.a.author,children:[n.firstName," ",n.lastName]})}),Object(f.jsx)("div",{className:V.a.date,children:Object(a.a)(c)})]}),Object(f.jsx)("div",{className:V.a.text,children:r}),Object(f.jsx)(j.c,{}),Object(f.jsx)(j.a,{children:Object(f.jsxs)(j.b,{children:[Object(f.jsx)(b.a,{type:"text",size:"sm",disabled:u,children:Object(f.jsx)(b.a.Icon,{children:Object(f.jsx)(A.a,{color:m.a.accent,size:16})})}),x&&Object(f.jsx)(b.a,{type:"text",size:"sm",disabled:u,children:Object(f.jsx)(b.a.Icon,{children:Object(f.jsx)(k.a,{color:m.a.textMid,size:16})})}),x&&Object(f.jsx)(_,{onDelete:function(){i(t)},warningMessage:"Are you sure you want to delete comment?",disabled:u})]})})]})},G=function(e){var t=e.children,n=e.route,r=e.disabled;return Object(f.jsxs)(f.Fragment,{children:[!!n&&Object(f.jsx)(d.b,{to:n,tabIndex:r?-1:void 0,children:Object(f.jsx)(b.a,{type:"link",disabled:r,children:Object(f.jsx)(b.a.Text,{children:t||"Show more"})})}),!n&&Object(f.jsx)(b.a,{type:"link",disabled:r,children:Object(f.jsx)(b.a.Text,{children:t||"Show more"})})]})},Q=function(e){var t=e.active,n=e.comments,r=e.postId,c=e.authorizedUserId,o=e.onDelete;return Object(f.jsxs)(f.Fragment,{children:[n.slice().reverse().slice(0,3).map((function(e){return Object(f.jsx)(K,Object(J.a)(Object(J.a)({},e),{},{authorizedUserId:c,onDelete:o,disabled:!t}),e._id)})),n.length>3&&Object(f.jsx)(j.b,{padding:5,horizontalAlign:"center",bordered:!0,children:Object(f.jsx)(G,{route:"/post/".concat(r),disabled:!t})})]})},W=function(e){var t=e.active,n=e.postId,r=e.authorizedUserId,c=e.comments,o=e.onAddCommentClick,a=e.onDeleteCommentClick;return Object(f.jsxs)("div",{className:U()(S.a.comments,Object(N.a)({},S.a.active,t)),children:[Object(f.jsx)(j.b,{padding:"15px 30px",bordered:!0,children:Object(f.jsx)(B,{onAddComment:o,disabled:!t})}),Object(f.jsx)(Q,{active:t,comments:c,postId:n,authorizedUserId:r,onDelete:a})]})};t.a=function(e){var t=e.post,n=e.onPostDelete,i=e.onPostAddLike,s=e.onPostDeleteLike,d=e.authorizedUserId,l=e.onAddComment,j=e.onDeleteComment,b=Object(c.useState)(!1),u=Object(r.a)(b,2),x=u[0],m=u[1],h=d===t.author._id,O=Object(a.a)(t.createdAt),p=!!d&&t.likes.map((function(e){return e._id})).includes(d);return Object(f.jsxs)(o.a,{children:[Object(f.jsx)(g,{id:t._id,date:O,isAuthor:h,author:t.author,onDelete:function(){n&&n(t._id)}}),Object(f.jsx)(P,{children:t.text}),Object(f.jsx)(w,{likes:t.likes,isLiked:p,onLikeClick:function(){p?s&&s(t._id):i&&i(t._id)},onCommentClick:function(){m(!x)},onShareClick:function(){return console.log("share clicked")}}),Object(f.jsx)(W,{postId:t._id,authorizedUserId:d,comments:t.comments,active:x,onAddCommentClick:function(e){l(t._id,e)},onDeleteCommentClick:function(e){j(e)}})]})}},291:function(e,t,n){"use strict";n(0);var r=n(314),c=n.n(r),o=n(290),a=n(21),i=n(92),s=n(1),d=function(e){var t=e.posts,n=e.onPostDelete,r=e.onPostDeleteLike,a=e.authorizedUserId,i=e.onPostAddLike,d=e.onAddComment,l=e.onDeleteComment;return Object(s.jsx)("div",{className:c.a.wrapper,children:t.slice().reverse().map((function(e){return Object(s.jsx)(o.a,{post:e,onPostDelete:n,onPostDeleteLike:r,onPostAddLike:i,authorizedUserId:a,onAddComment:d,onDeleteComment:l},e._id)}))})};t.a=function(e){var t=e.posts,n=Object(a.b)(),r=Object(a.c)((function(e){var t;return null===(t=e.auth.user)||void 0===t?void 0:t._id}));return Object(s.jsx)(d,{posts:t,onPostAddLike:function(e){n(Object(i.c)(e))},onPostDeleteLike:function(e){n(Object(i.g)(e))},onAddComment:function(e,t){n(Object(i.b)(e,t))},onDeleteComment:function(e){n(Object(i.f)(e))},onPostDelete:function(e){n(Object(i.e)(e))},authorizedUserId:r})}},307:function(e,t,n){"use strict";var r=n(0),c=n.n(r),o=n(6),a=n.n(o);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var d=Object(r.forwardRef)((function(e,t){var n=e.color,r=e.size,o=s(e,["color","size"]);return c.a.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n},o),c.a.createElement("path",{d:"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"}),c.a.createElement("path",{d:"M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"}))}));d.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},d.defaultProps={color:"currentColor",size:"1em"};var l=d,j=n(313),b=n.n(j),u=n(47),x=n(8),m=n(17),h=n(267),O=n(92),p=n(21),f=n(1);t.a=function(){var e=Object(p.c)((function(e){return e.posts.isAddPostPending})),t=Object(p.b)();return Object(f.jsx)(u.a,{children:Object(f.jsxs)(m.a,{onSubmit:function(e){var n=e.newPostText;t(Object(O.a)(n))},initialValues:{newPostText:""},resetAfterSubmit:!0,children:[Object(f.jsx)(h.a,{name:"newPostText",placeholder:"Share your thoughts and feelings!"}),Object(f.jsxs)("div",{className:b.a.controls,children:[Object(f.jsx)(x.a,{onClick:function(e){e.preventDefault(),console.log("Attach file button clicked")},type:"text",size:"sm",children:Object(f.jsx)(x.a.Icon,{children:Object(f.jsx)(l,{color:"#909BA4",size:18})})}),Object(f.jsx)(x.a,{type:"primary",size:"sm",spinner:e,children:Object(f.jsx)(x.a.Text,{children:"Send"})})]})]})})}},313:function(e,t,n){e.exports={dark:"NewPostInputForm_dark__2NE5q",controls:"NewPostInputForm_controls__ljI9C"}},314:function(e,t,n){e.exports={dark:"Feed_dark__tnEzM"}}}]);
//# sourceMappingURL=2.3b2743e2.chunk.js.map