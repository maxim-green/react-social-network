(this["webpackJsonpreact-social-network"]=this["webpackJsonpreact-social-network"]||[]).push([[6],{262:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var c=n(292),i=n.n(c),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD.MM.YYYY";return i()(e).format(t)}},274:function(e,t,n){e.exports={dark:"PostHeader_dark__pjQLY",userName:"PostHeader_userName__2YXtN",date:"PostHeader_date__3zA_Q"}},275:function(e,t,n){e.exports={dark:"ConfirmPopup_dark__2y3YS",question:"ConfirmPopup_question__3Kzew",buttons:"ConfirmPopup_buttons__3ECl6"}},276:function(e,t,n){e.exports={dark:"PostText_dark__ialK7",text:"PostText_text__1HhJY"}},277:function(e,t,n){e.exports={dark:"PostComments_dark__2sxGn",comments:"PostComments_comments__2UDJ9",active:"PostComments_active__ADYYh"}},278:function(e,t,n){e.exports={dark:"AddPostCommentForm_dark__FAmPE",avatar:"AddPostCommentForm_avatar__yTG42"}},279:function(e,t,n){e.exports={dark:"PostComment_dark__2hJca",author:"PostComment_author__1TTdq",date:"PostComment_date__2pUUD"}},290:function(e,t,n){"use strict";var c=n(9),i=n(0),s=n(47),o=n(262),a=n(274),r=n.n(a),d=n(19),l=n(49),j=n(90),b=n(8),x=n(374),u=n(45),m=n.n(u),h=n(275),O=n.n(h),p=n(76),v=n(1),f=function(e){var t=e.open,n=e.children,c=e.confirmButtonText,i=void 0===c?"Ok":c,s=e.declineButtonText,o=void 0===s?"Cancel":s,a=e.onConfirm,r=e.onDecline,d=e.important,l=void 0!==d&&d;return Object(v.jsx)(p.a,{open:t,children:Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:O.a.question,children:n}),Object(v.jsxs)("div",{className:O.a.buttons,children:[Object(v.jsx)(b.a,{type:l?"cancel":"primary",onClick:a,children:Object(v.jsx)(b.a.Text,{children:i})}),Object(v.jsx)(b.a,{type:l?"primary":"secondary",onClick:r,children:Object(v.jsx)(b.a.Text,{children:o})})]})]})})},_=function(e){var t=e.onDelete,n=e.warningMessage,s=e.disabled,o=void 0!==s&&s,a=Object(i.useState)(!1),r=Object(c.a)(a,2),d=r[0],l=r[1];return Object(v.jsxs)(b.a,{onClick:n?function(){return l(!0)}:t,type:"text",size:"sm",disabled:o,children:[Object(v.jsx)(b.a.Icon,{children:Object(v.jsx)(x.a,{color:m.a.textMid,size:16})}),Object(v.jsx)(f,{open:d,onConfirm:t,onDecline:function(){return l(!1)},important:!0,children:n})]})},k=n(252),C=function(e){var t=e.id,n=e.date,c=e.author,i=e.isAuthor,s=e.onDelete;return Object(v.jsxs)(j.b,{padding:20,gap:20,children:[Object(v.jsx)(d.b,{to:"/profile/".concat(c.username),children:Object(v.jsx)(l.a,{smallImg:c.avatar.small,online:!0,size:50})}),Object(v.jsxs)(j.a,{verticalAlign:"center",children:[Object(v.jsx)(d.b,{to:"/",children:Object(v.jsx)("div",{className:r.a.userName,children:c.firstName+" "+c.lastName})}),Object(v.jsx)(d.b,{to:"/post/".concat(t),children:Object(v.jsxs)("div",{className:r.a.date,children:["posted on ",n]})})]}),Object(v.jsx)(j.c,{}),i&&Object(v.jsx)(j.a,{children:Object(v.jsxs)(j.b,{children:[Object(v.jsx)(b.a,{type:"text",size:"sm",children:Object(v.jsx)(b.a.Icon,{children:Object(v.jsx)(k.a,{color:m.a.textMid,size:16})})}),Object(v.jsx)(_,{onDelete:s,warningMessage:"Are you sure you want to delete this post?"})]})})]})},g=n(276),z=n.n(g),A=function(e){var t=e.children;return Object(v.jsx)(j.b,{padding:"10px 40px 30px",verticalAlign:"start",bordered:!0,children:Object(v.jsx)("div",{className:z.a.text,children:t})})},I=n(375),D=n(376),P=n(377),y=n(378),N=function(e){var t=e.likes,n=e.isLiked,c=e.onLikeClick,i=e.onCommentClick,s=e.onShareClick;return Object(v.jsxs)(j.b,{verticalAlign:"center",children:[Object(v.jsx)(j.a,{bordered:!0,padding:5,horizontalAlign:"center",stretch:!0,children:Object(v.jsxs)(b.a,{type:"text",size:"sm",onClick:c,children:[Object(v.jsx)(b.a.Text,{children:t.length}),!n&&Object(v.jsx)(b.a.Icon,{children:Object(v.jsx)(I.a,{color:m.a.accent,size:16})}),n&&Object(v.jsx)(b.a.Icon,{children:Object(v.jsx)(D.a,{color:m.a.accent,size:16})})]})}),Object(v.jsx)(j.a,{bordered:!0,padding:5,horizontalAlign:"center",stretch:!0,children:Object(v.jsx)(b.a,{type:"text",size:"sm",onClick:i,children:Object(v.jsx)(b.a.Icon,{children:Object(v.jsx)(P.a,{color:m.a.accent,size:16})})})}),Object(v.jsx)(j.a,{bordered:!0,padding:5,horizontalAlign:"center",stretch:!0,children:Object(v.jsx)(b.a,{type:"text",size:"sm",onClick:s,children:Object(v.jsx)(b.a.Icon,{children:Object(v.jsx)(y.a,{color:m.a.accent,size:16})})})})]})},T=n(5),w=n(277),U=n.n(w),Y=n(14),L=n.n(Y),S=n(278),M=n.n(S),F=n(17),J=n(91),q=n(21),H=function(e){var t=e.onAddComment,n=e.disabled,c=void 0!==n&&n,i=Object(q.c)((function(e){return e.auth.user}));return Object(v.jsx)(F.a,{onSubmit:function(e){t(e.text)},initialValues:{text:""},resetAfterSubmit:!0,children:Object(v.jsxs)(F.b,{children:[Object(v.jsx)("div",{className:M.a.avatar,children:Object(v.jsx)(d.b,{to:"/profile/".concat(null===i||void 0===i?void 0:i.username),tabIndex:c?-1:void 0,children:Object(v.jsx)(l.a,{smallImg:null===i||void 0===i?void 0:i.avatar.small,size:30})})}),Object(v.jsx)(J.a,{name:"text",placeholder:"Write a comment",disabled:c}),Object(v.jsx)(b.a,{disabled:c,children:Object(v.jsx)(b.a.Text,{children:"Add"})})]})})},E=n(2),B=n(279),G=n.n(B),K=function(e){var t=e._id,n=e.author,c=e.text,i=e.createdAt,s=(e.likes,e.authorizedUserId),a=e.onDelete,r=e.disabled,x=void 0!==r&&r,u=s===n._id;return Object(v.jsxs)(j.b,{padding:"10px 20px",verticalAlign:"center",gap:10,bordered:!0,children:[Object(v.jsx)(d.b,{to:"/profile/".concat(n.username),tabIndex:x?-1:void 0,children:Object(v.jsx)(l.a,{smallImg:n.avatar.small,size:40})}),Object(v.jsxs)(j.a,{gap:2,children:[Object(v.jsx)(d.b,{to:"/profile/".concat(n.username),tabIndex:x?-1:void 0,children:Object(v.jsxs)("div",{className:G.a.author,children:[n.firstName," ",n.lastName]})}),Object(v.jsx)("div",{className:G.a.date,children:Object(o.a)(i)})]}),Object(v.jsx)("div",{className:G.a.text,children:c}),Object(v.jsx)(j.c,{}),Object(v.jsx)(j.a,{children:Object(v.jsxs)(j.b,{children:[Object(v.jsx)(b.a,{type:"text",size:"sm",disabled:x,children:Object(v.jsx)(b.a.Icon,{children:Object(v.jsx)(I.a,{color:m.a.accent,size:16})})}),u&&Object(v.jsx)(b.a,{type:"text",size:"sm",disabled:x,children:Object(v.jsx)(b.a.Icon,{children:Object(v.jsx)(k.a,{color:m.a.textMid,size:16})})}),u&&Object(v.jsx)(_,{onDelete:function(){a(t)},warningMessage:"Are you sure you want to delete comment?",disabled:x})]})})]})},Q=function(e){var t=e.children,n=e.route,c=e.disabled;return Object(v.jsxs)(v.Fragment,{children:[!!n&&Object(v.jsx)(d.b,{to:n,tabIndex:c?-1:void 0,children:Object(v.jsx)(b.a,{type:"link",disabled:c,children:Object(v.jsx)(b.a.Text,{children:t||"Show more"})})}),!n&&Object(v.jsx)(b.a,{type:"link",disabled:c,children:Object(v.jsx)(b.a.Text,{children:t||"Show more"})})]})},V=function(e){var t=e.active,n=e.comments,c=e.postId,i=e.authorizedUserId,s=e.onDelete;return Object(v.jsxs)(v.Fragment,{children:[n.slice().reverse().slice(0,3).map((function(e){return Object(v.jsx)(K,Object(E.a)(Object(E.a)({},e),{},{authorizedUserId:i,onDelete:s,disabled:!t}),e._id)})),n.length>3&&Object(v.jsx)(j.b,{padding:5,horizontalAlign:"center",bordered:!0,children:Object(v.jsx)(Q,{route:"/post/".concat(c),disabled:!t})})]})},W=function(e){var t=e.active,n=e.postId,c=e.authorizedUserId,i=e.comments,s=e.onAddCommentClick,o=e.onDeleteCommentClick;return Object(v.jsxs)("div",{className:L()(U.a.comments,Object(T.a)({},U.a.active,t)),children:[Object(v.jsx)(j.b,{padding:"15px 30px",bordered:!0,children:Object(v.jsx)(H,{onAddComment:s,disabled:!t})}),Object(v.jsx)(V,{active:t,comments:i,postId:n,authorizedUserId:c,onDelete:o})]})};t.a=function(e){var t=e.post,n=e.onPostDelete,a=e.onPostAddLike,r=e.onPostDeleteLike,d=e.authorizedUserId,l=e.onAddComment,j=e.onDeleteComment,b=Object(i.useState)(!1),x=Object(c.a)(b,2),u=x[0],m=x[1],h=d===t.author._id,O=Object(o.a)(t.createdAt),p=!!d&&t.likes.map((function(e){return e._id})).includes(d);return Object(v.jsxs)(s.a,{children:[Object(v.jsx)(C,{id:t._id,date:O,isAuthor:h,author:t.author,onDelete:function(){n&&n(t._id)}}),Object(v.jsx)(A,{children:t.text}),Object(v.jsx)(N,{likes:t.likes,isLiked:p,onLikeClick:function(){p?r&&r(t._id):a&&a(t._id)},onCommentClick:function(){m(!u)},onShareClick:function(){return console.log("share clicked")}}),Object(v.jsx)(W,{postId:t._id,authorizedUserId:d,comments:t.comments,active:u,onAddCommentClick:function(e){l(t._id,e)},onDeleteCommentClick:function(e){j(e)}})]})}},379:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(21),s=n(18),o=n(92),a=n(290),r=n(1);t.default=function(){var e=Object(s.g)().id,t=Object(i.b)(),n=Object(i.c)((function(e){return e.posts.posts[0]})),d=Object(i.c)((function(e){var t;return null===(t=e.auth.user)||void 0===t?void 0:t._id}));Object(c.useEffect)((function(){t(Object(o.i)(e))}),[t,e]);return Object(r.jsx)(r.Fragment,{children:n&&Object(r.jsx)(a.a,{post:n,authorizedUserId:d,onPostAddLike:function(e){t(Object(o.c)(e))},onPostDeleteLike:function(e){t(Object(o.g)(e))},onPostDelete:function(e){t(Object(o.e)(e))},onAddComment:function(e,n){t(Object(o.b)(e,n))},onDeleteComment:function(e){t(Object(o.f)(e))}},n._id)})}}}]);
//# sourceMappingURL=6.a98a23e0.chunk.js.map