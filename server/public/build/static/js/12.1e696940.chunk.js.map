{"version":3,"sources":["components/_shared/Input/InputTextarea/InputTextarea.tsx","components/_shared/Input/InputTextarea/InputTextarea.module.scss","components/Dialogs/Dialogs.module.scss","components/_forms/NewMessageForm/NewMessageForm.module.scss","components/_forms/NewMessageForm/NewMessageForm.tsx","../node_modules/react-bootstrap-icons/dist/icons/list.js","../node_modules/react-bootstrap-icons/dist/icons/arrow-left.js","components/Dialogs/Dialogs.tsx","components/_pages/DialogsPage.tsx"],"names":["InputTextarea","name","label","rules","control","rows","disabled","placeholder","render","field","fieldState","required","error","className","classes","textarea","value","onChange","module","exports","NewMessageForm","onSubmit","Form","data","newMessageInput","initialValues","resetAfterSubmit","submitOnEnter","button","Button","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","List","forwardRef","_ref","ref","color","size","rest","React","createElement","xmlns","viewBox","width","height","fill","fillRule","d","propTypes","PropTypes","string","oneOfType","number","defaultProps","ArrowLeft","DialogButton","username","firstName","avatar","to","dialogButton","activeClassName","active","Avatar","smallImg","small","Message","message","authUser","author","messageSelf","messageOther","messageAvatar","online","messageAuthorName","text","Dialogs","messages","dialogs","onNewMessageSubmit","currentCompanion","useState","listActive","setListActive","Card","classnames","header","type","onClick","Icon","style","fontWeight","lastName","marginRight","dialogsList","display","justifyContent","alignItems","marginBottom","map","companion","_id","slice","reverse","index","newMessageForm","DialogsPage","useParams","useSelector","state","sort","a","b","dateA","Date","updatedAt","dateB","currentDialogId","auth","user","find","dialog","dispatch","useDispatch","useEffect","openDialog","getDialogs","useAuthCheck","trim","sendMessage"],"mappings":"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","file":"static/js/12.1e696940.chunk.js","sourcesContent":["import {Controller, RegisterOptions} from 'react-hook-form'\nimport {Control} from 'react-hook-form/dist/types/form'\nimport React from 'react'\nimport classes from './InputTextarea.module.scss'\nimport {Item} from 'components/_shared/Form/Form'\n\nexport type InputTextareaPropsType = {\n    name: string,\n    label?: string,\n    placeholder?: string,\n    rules?: RegisterOptions,\n    control?: Control,\n    rows?: number,\n    disabled?: boolean\n}\nexport const InputTextarea: React.FC<InputTextareaPropsType> = ({\n                                                                    name,\n                                                                    label,\n                                                                    rules,\n                                                                    control,\n                                                                    rows = 2,\n                                                                    disabled = false,\n    placeholder\n                                                                }) => {\n    return <Controller\n        control={control}\n        name={name}\n        rules={rules}\n        render={({field, fieldState}) => <Item label={label} required={!!rules?.required} error={fieldState.error}\n                                               disabled={disabled}>\n            <textarea\n                className={`${classes.textarea} ${fieldState.error ? classes.error : ''}`}\n                name={field.name}\n                value={field.value}\n                onChange={field.onChange}\n                rows={rows}\n                disabled={disabled}\n                placeholder={placeholder}\n            />\n        </Item>}\n    />\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"InputTextarea_dark__1Bvup\",\"textarea\":\"InputTextarea_textarea__3KxMk\",\"error\":\"InputTextarea_error__lL7Wo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"Dialogs_dark__2e1-h\",\"dialogs\":\"Dialogs_dialogs__2Gkkf\",\"listActive\":\"Dialogs_listActive__2-6kS\",\"dialogsList\":\"Dialogs_dialogsList__2Ipwc\",\"header\":\"Dialogs_header__xjhog\",\"dialogButton\":\"Dialogs_dialogButton__2Otzg\",\"active\":\"Dialogs_active__3lrrn\",\"newMessageForm\":\"Dialogs_newMessageForm__19zd-\",\"messages\":\"Dialogs_messages__1J3nn\",\"messageOther\":\"Dialogs_messageOther__39T5A\",\"messageSelf\":\"Dialogs_messageSelf__24EQp\",\"messageAvatar\":\"Dialogs_messageAvatar__13djB\",\"messageAuthorName\":\"Dialogs_messageAuthorName__3t5yc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"NewMessageForm_dark__2tbhf\",\"newMessageForm\":\"NewMessageForm_newMessageForm__RJt-t\"};","import classes from './NewMessageForm.module.scss'\nimport React from \"react\";\nimport {Button} from 'components/_shared/Button/Button'\nimport {Form, FormRow} from 'components/_shared/Form/Form'\nimport {InputTextarea} from 'components/_shared/Input/InputTextarea/InputTextarea'\n\ntype PropsType = {\n    onSubmit: (message: string) => void\n}\n\nconst NewMessageForm: React.FC<PropsType> = ({onSubmit}) => {\n\n    const submit = (data: { newMessageInput: string }) => {\n        onSubmit(data.newMessageInput)\n    }\n\n    return (\n        <Form onSubmit={submit} initialValues={{newMessageInput: ``}} resetAfterSubmit={true} submitOnEnter={true}>\n            <FormRow>\n                <InputTextarea name={'newMessageInput'}/>\n                <div className={classes.button}>\n                    <Button>Send</Button>\n                </div>\n            </FormRow>\n        </Form>\n    )\n}\n\nexport default NewMessageForm","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar List = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var color = _ref.color,\n      size = _ref.size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 16 16\",\n    width: size,\n    height: size,\n    fill: color\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z\"\n  }));\n});\nList.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nList.defaultProps = {\n  color: 'currentColor',\n  size: '1em'\n};\nexport default List;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar ArrowLeft = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var color = _ref.color,\n      size = _ref.size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 16 16\",\n    width: size,\n    height: size,\n    fill: color\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"\n  }));\n});\nArrowLeft.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nArrowLeft.defaultProps = {\n  color: 'currentColor',\n  size: '1em'\n};\nexport default ArrowLeft;","import React, {useState} from 'react'\nimport {NavLink} from 'react-router-dom'\nimport classes from './Dialogs.module.scss'\nimport {AvatarType, DialogType, MessageType, UserItemDataType} from 'types/types'\nimport NewMessageForm from 'components/_forms/NewMessageForm/NewMessageForm'\nimport {Card} from 'components/_shared/Card/Card'\nimport {Avatar} from 'components/_shared/Avatar/Avatar'\nimport {Button} from 'components/_shared/Button/Button'\nimport {ArrowLeft, List} from 'react-bootstrap-icons'\nimport classnames from 'classnames'\n\ntype PropsType = {\n    messages: Array<MessageType>\n    dialogs: Array<DialogType>\n    currentCompanion?: UserItemDataType\n    authUser: string\n    onNewMessageSubmit: (message: string) => void\n}\n\nconst Dialogs: React.FC<PropsType> = ({messages, dialogs, authUser, onNewMessageSubmit, currentCompanion}) => {\n    const [listActive, setListActive] = useState<boolean>(false)\n\n    const showDialogsList = () => setListActive(true)\n    const hideDialogsList = () => setListActive(false)\n\n\n    return (\n        <Card>\n            <div className={classnames(classes.dialogs, {[classes.listActive]: listActive})}>\n\n                <div className={classes.header}>\n                    <div>\n                        {!listActive && <Button type={'text'} size={'xl'} onClick={showDialogsList}>\n                            <Button.Icon><List width={22} height={22}/></Button.Icon>\n                        </Button>}\n                    </div>\n                    <div style={{fontWeight: 700}}>\n                        {currentCompanion?.firstName} {currentCompanion?.lastName}\n                    </div>\n                    <div style={{marginRight: 10}}>\n                        <Avatar smallImg={currentCompanion?.avatar.small} size={36}/>\n                    </div>\n                </div>\n\n                <div className={classnames(classes.dialogsList, {[classes.listActive]: listActive})}>\n                    <div style={{height: 65, display: 'flex', justifyContent: 'center', alignItems: 'center', marginBottom: 10}}>\n                        {listActive && <Button type={'text'} size={'xl'} onClick={hideDialogsList}>\n                            <Button.Icon><ArrowLeft width={22} height={22}/></Button.Icon>\n                        </Button>}\n                    </div>\n\n                    {dialogs.map(d => <DialogButton key={d._id}\n                                                    username={d.companion.username}\n                                                    firstName={d.companion.firstName}\n                                                    avatar={d.companion.avatar}\n                    />)}\n                </div>\n\n                <div className={classes.messages}>\n                    {messages.slice().reverse().map((message, index) => <Message key={index} message={message}\n                                                                                 authUser={authUser}/>)}\n                </div>\n\n                <div className={classes.newMessageForm}>\n                    <NewMessageForm onSubmit={onNewMessageSubmit}/>\n                </div>\n\n            </div>\n        </Card>\n    )\n}\n\ntype DialogButtonType = { username: string, firstName: string, avatar: AvatarType }\nconst DialogButton: React.FC<DialogButtonType> = ({username, firstName, avatar}) => {\n    return (\n        <NavLink to={`/dialogs/${username}`} className={classes.dialogButton} activeClassName={classes.active}>\n            <Avatar size={30} name={firstName} smallImg={avatar.small}/>\n        </NavLink>\n    )\n}\n\nconst Message: React.FC<{ message: MessageType, authUser: string }> = ({message, authUser}) => {\n    return (\n        <div className={(authUser === message.author.username) ? classes.messageSelf : classes.messageOther}>\n            <div className={classes.messageAvatar}>\n                <Avatar online smallImg={message.author.avatar.small} size={30}/>\n            </div>\n            <div>\n                <div className={classes.messageAuthorName}>{message.author.firstName}</div>\n                <div>{message.text}</div>\n            </div>\n        </div>\n    )\n}\n\nexport default Dialogs","import Dialogs from 'components/Dialogs/Dialogs'\nimport React, {useEffect} from 'react'\nimport {Redirect, useParams} from 'react-router-dom'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {StateType} from 'redux/store'\nimport {getDialogs, openDialog, sendMessage} from 'redux/reducers/dialogs.reducer'\nimport {useAuthCheck} from 'utils/hooks'\n\n\nconst DialogsPage: React.FC = () => {\n    const {username}: { username: string } = useParams()\n    const dialogs = useSelector((state: StateType) => state.dialogs.dialogs.slice().sort((a, b) => {\n        const dateA = new Date(a.updatedAt)\n        const dateB = new Date(b.updatedAt)\n        if (dateA > dateB) return -1\n        if (dateA < dateB) return 1\n        return 0\n    }))\n    const currentDialogId = useSelector((state: StateType) => state.dialogs.currentDialogId)\n    const authUser = useSelector((state: StateType) => state.auth.user?.username)\n    const messages = useSelector((state: StateType) => state.dialogs.messages)\n    const currentCompanion = dialogs.find(dialog => dialog.companion.username === username)?.companion\n\n\n    const dispatch = useDispatch()\n\n    const onNewMessageSubmit = (message: string) => {\n        if (message.trim() && currentDialogId) dispatch(sendMessage(message.trim(), currentDialogId))\n    }\n\n    useEffect(() => {\n        dispatch(openDialog(username))\n    }, [username, dispatch])\n\n    useEffect(() => {\n        dispatch(getDialogs())\n    }, [dispatch])\n\n\n    const authorized = useAuthCheck()\n    if (!authorized) return <Redirect to={'/login'}/>\n\n\n    // if no username specified in route, then redirect to latest dialog\n    if (!username && dialogs[0] && dialogs.length !== 0) return <Redirect\n        to={`/dialogs/${dialogs[0].companion.username}`}/>\n\n\n    return <Dialogs\n        messages={messages}\n        dialogs={dialogs}\n        currentCompanion={currentCompanion}\n        authUser={authUser || ''}\n        onNewMessageSubmit={onNewMessageSubmit}\n    />\n}\n\n\nexport default DialogsPage"],"sourceRoot":""}