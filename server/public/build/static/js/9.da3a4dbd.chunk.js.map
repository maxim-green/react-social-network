{"version":3,"sources":["components/_shared/NavTabs/NavTabs.tsx","components/_shared/NavTabs/NavTabs.module.scss","components/_shared/NavTabs/NavTab/NavTab.tsx","components/_shared/NavTabs/NavTab/NavTab.module.scss","components/Users/Users.module.scss","components/Users/UserItem/UserItem.module.scss","../node_modules/react-bootstrap-icons/dist/icons/gear-fill.js","components/Users/UserItem/UserItem.tsx","components/Users/Users.tsx","components/_pages/UsersPage.tsx"],"names":["NavTabs","children","className","classes","tabs","module","exports","NavTab","to","tab","exact","activeClassName","active","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","GearFill","forwardRef","_ref","ref","color","size","rest","React","createElement","xmlns","viewBox","width","height","fill","d","propTypes","PropTypes","string","oneOfType","number","defaultProps","UserItem","authorized","authorizedUserId","user","subscribePending","isSubscribed","subscribe","unsubscribe","mutualFriendsCount","isAuthorizedUserItem","_id","userItem","avatar","username","Avatar","smallImg","small","online","info","userName","firstName","lastName","mutualFriends","controls","row","button","Button","type","style","padding","Icon","colors","midGrey1","onClick","spinner","Text","Users","authorizedUserSubscriptions","users","subscribePendingUserIds","filter","useParams","shownUsers","Card","usersItems","map","includes","UsersPage","dispatch","useDispatch","props","useSelector","state","auth","subscriptions","userId","useEffect","getUsers"],"mappings":"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","file":"static/js/9.da3a4dbd.chunk.js","sourcesContent":["import classes from './NavTabs.module.scss'\nimport React from 'react'\n\ntype PropsType = {}\n\nconst NavTabs: React.FC<PropsType> = ({children}) => {\n    return (<div className={classes.tabs}>\n        {children}\n    </div>)\n}\n\nexport default NavTabs","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"NavTabs_dark__9PohY\",\"tabs\":\"NavTabs_tabs__3Ylj8\"};","import {NavLink} from 'react-router-dom'\nimport React from 'react'\nimport classes from './NavTab.module.scss'\n\ntype PropsType = {\n    to: string\n}\n\nconst NavTab: React.FC<PropsType> = ({to, children}) => {\n    return (\n        <div className={classes.tab}>\n            <NavLink exact to={`${to}`} activeClassName={classes.active}>\n                {children}\n            </NavLink>\n        </div>\n    )\n}\n\nexport default NavTab\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"NavTab_dark__YuKJM\",\"tab\":\"NavTab_tab__3e6SO\",\"active\":\"NavTab_active__1IRRo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"Users_dark__3c1Xq\",\"searchForm\":\"Users_searchForm__15yCi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"UserItem_dark__XkC_K\",\"userItem\":\"UserItem_userItem__1g2I-\",\"info\":\"UserItem_info__23FA0\",\"userName\":\"UserItem_userName__2UwHq\",\"mutualFriends\":\"UserItem_mutualFriends__mpO6f\",\"controls\":\"UserItem_controls__2GhUj\",\"row\":\"UserItem_row__CatuY\",\"button\":\"UserItem_button__1RRMY\"};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar GearFill = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var color = _ref.color,\n      size = _ref.size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 16 16\",\n    width: size,\n    height: size,\n    fill: color\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z\"\n  }));\n});\nGearFill.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nGearFill.defaultProps = {\n  color: 'currentColor',\n  size: '1em'\n};\nexport default GearFill;","import classes from './UserItem.module.scss'\nimport {NavLink} from 'react-router-dom'\nimport {Avatar} from 'components/_shared/Avatar/Avatar'\nimport React from 'react'\nimport {UserItemDataType} from 'types/types'\nimport {Button} from 'components/_shared/Button/Button'\nimport {ChatLeftTextFill, GearFill} from 'react-bootstrap-icons'\nimport colors from 'assets/styles/colors.module.scss'\n\ntype PropsType = {\n    authorized: boolean\n    authorizedUserId?: string\n    user: UserItemDataType\n    subscribePending: boolean\n    isSubscribed: boolean\n    subscribe: (userId: string) => void\n    unsubscribe: (userId: string) => void\n    mutualFriendsCount: number\n}\n\nconst UserItem: React.FC<PropsType> = ({\n                                           authorized,\n                                           authorizedUserId,\n                                           user,\n                                           subscribePending,\n                                           isSubscribed,\n                                           subscribe,\n                                           unsubscribe,\n                                           mutualFriendsCount,\n                                       }) => {\n\n    const isAuthorizedUserItem = authorized && (authorizedUserId === user._id)\n\n\n\n    const followButtonClickHandler = () => {\n        if (!isSubscribed) {\n            subscribe(user._id)\n        } else {\n            unsubscribe(user._id)\n        }\n    }\n\n    return (\n        <div className={classes.userItem}>\n            <div className={classes.avatar}>\n                <NavLink to={`/profile/${user.username}`}><Avatar smallImg={user.avatar && user.avatar.small} online\n                                                                   size={70}/></NavLink>\n            </div>\n            <div className={classes.info}>\n                <NavLink to={`/profile/${user.username}`}>\n                    <div className={classes.userName}>{`${user.firstName} ${user.lastName}`}</div>\n                </NavLink>\n                {mutualFriendsCount !== 0 && mutualFriendsCount && <NavLink to=\"/profile/1/mutualfriends\">\n                    <div className={classes.mutualFriends}>{mutualFriendsCount} mutual friends</div>\n                </NavLink>}\n            </div>\n            <div className={classes.controls}>\n                {authorized && !isAuthorizedUserItem && <div className={classes.row}>\n                    <div className={classes.button}>\n                        <NavLink to={`/dialogs/${user.username}`}>\n                            <Button type=\"text\" size=\"sm\" style={{padding: '0 4px'}}>\n                                <Button.Icon><ChatLeftTextFill size={16} color={colors.midGrey1}/></Button.Icon>\n                            </Button>\n                        </NavLink>\n                    </div>\n                    <div className={classes.button}>\n                        <Button type=\"text\" size=\"sm\" style={{padding: '0 4px'}}>\n                            <Button.Icon><GearFill size={16} color={colors.midGrey1}/></Button.Icon>\n                        </Button>\n                    </div>\n                </div>}\n                {authorized && !isAuthorizedUserItem && <div className={classes.row}>\n                    <div className={classes.button}>\n                        <Button\n                            type=\"neutral\"\n                            size=\"sm\"\n                            onClick={followButtonClickHandler}\n                            spinner={subscribePending}\n                        ><Button.Text>{!isSubscribed ? 'Follow' : 'Unfollow'}</Button.Text></Button>\n                    </div>\n                </div>}\n            </div>\n        </div>\n    )\n}\n\nexport default UserItem","import React from 'react'\nimport {Card} from 'components/_shared/Card/Card'\nimport classes from './Users.module.scss'\nimport UserItem from './UserItem/UserItem'\nimport NavTab from 'components/_shared/NavTabs/NavTab/NavTab'\nimport NavTabs from 'components/_shared/NavTabs/NavTabs'\nimport {UserItemDataType} from 'types/types'\nimport {useParams} from 'react-router'\n\ntype PropsType = {\n    authorized: boolean\n    authorizedUserId?: string\n    authorizedUserSubscriptions: Array<UserItemDataType>\n    users: Array<UserItemDataType>\n    subscribePendingUserIds: Array<string>\n    subscribe: (userId: string) => void\n    unsubscribe: (userId: string) => void\n}\n\nconst Users: React.FC<PropsType> = ({\n                                        authorized,\n                                        authorizedUserId,\n                                        authorizedUserSubscriptions,\n                                        users,\n                                        subscribePendingUserIds,\n                                        subscribe,\n                                        unsubscribe\n                                    }) => {\n\n    const {filter} = useParams<{ filter?: 'subscriptions' | 'blocked' }>()\n    let shownUsers: Array<UserItemDataType> | null = null\n    if (!filter) {\n        shownUsers = users\n    }\n    if (filter === 'subscriptions') {\n        shownUsers = authorizedUserSubscriptions\n    }\n    if (filter === 'blocked') {\n        shownUsers = users\n    }\n\n    return (\n        <Card>\n\n            {authorized && <NavTabs>\n                <NavTab to=\"/users\">All</NavTab>\n                <NavTab to=\"/users/subscriptions\">Subscriptions</NavTab>\n            </NavTabs>}\n\n            <div className={classes.usersItems}>\n                {shownUsers && shownUsers.map(user => <UserItem\n                    key={user._id}\n                    authorized={authorized}\n                    authorizedUserId={authorizedUserId}\n                    user={user}\n                    subscribePending={subscribePendingUserIds.includes(user._id)}\n                    isSubscribed={authorizedUserSubscriptions.map(user => user._id).includes(user._id)}\n                    subscribe={subscribe}\n                    unsubscribe={unsubscribe}\n                    mutualFriendsCount={4}\n                />)}\n            </div>\n        </Card>\n    )\n}\n\nexport default Users","import Users from '../Users/Users'\nimport React, {useEffect} from 'react'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {StateType} from 'redux/store'\nimport {getUsers, subscribe, unsubscribe} from 'redux/reducers/users.reducer'\n\n\nconst UsersPage: React.FC = () => {\n    const dispatch = useDispatch()\n\n    const props = {\n        authorized: useSelector((state: StateType) => state.auth.authorized),\n        authorizedUserId: useSelector((state: StateType) => state.auth.user?._id),\n        authorizedUserSubscriptions: useSelector((state: StateType) => state.auth.user?.subscriptions || []),\n        users: useSelector((state: StateType) => state.users.users),\n        subscribePendingUserIds: useSelector((state: StateType) => state.users.subscribePendingUserIds),\n        subscribe: (userId: string) => dispatch(subscribe(userId)),\n        unsubscribe: (userId: string) => dispatch(unsubscribe(userId)),\n    }\n\n    useEffect(() => {\n        dispatch(getUsers())\n    }, [dispatch, props.authorized])\n\n\n    return <Users {...props} />\n}\n\nexport default UsersPage"],"sourceRoot":""}