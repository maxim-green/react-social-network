(this["webpackJsonpreact-social-network"]=this["webpackJsonpreact-social-network"]||[]).push([[7],{280:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var r=a(9),n=(a(293),a(281),a(282)),i=a.n(n),o=a(33),c=a(0),l=a(294),s=a.n(l),u=a(17),b=a(1),d=function(e){var t=e.value,a=e.onChange,n=Object(c.useState)(t?new Date(t):new Date),i=Object(r.a)(n,2),o=i[0],l=i[1];return Object(b.jsx)(s.a,{dateFormat:"dd.MM.yyyy",calendarStartDay:1,selected:o,onChange:function(e){a(e),l(e)}})},j=function(e){var t=e.name,a=e.label,r=e.rules,n=e.control,c=e.disabled,l=void 0!==c&&c;return Object(b.jsx)(o.a,{control:n,name:t,rules:r,render:function(e){var t=e.field,n=e.fieldState;return Object(b.jsx)(u.c,{label:a,required:!(null===r||void 0===r||!r.required),error:n.error,disabled:l,children:Object(b.jsx)("div",{className:i.a.input,children:Object(b.jsx)(d,{value:t.value,onChange:t.onChange})})})}})}},281:function(e,t,a){},282:function(e,t,a){e.exports={dark:"InputDate_dark__3gKUv",input:"InputDate_input__3xeov",error:"InputDate_error__3_4n0"}},315:function(e,t,a){e.exports={dark:"ProfileCoverImage_dark__n8JPv",coverImage:"ProfileCoverImage_coverImage__2MPHr",image:"ProfileCoverImage_image__2vKCI",editCoverImageButton:"ProfileCoverImage_editCoverImageButton__3D_ev"}},316:function(e,t,a){e.exports={dark:"ProfileHeader_dark__1JQK0",profileHeader:"ProfileHeader_profileHeader__2ZqRq",avatar:"ProfileHeader_avatar__2W5BG",onlineIndicator:"ProfileHeader_onlineIndicator__2MatG",profileHeaderInfo:"ProfileHeader_profileHeaderInfo__3G2TW",editProfile:"ProfileHeader_editProfile__3QyRd",name:"ProfileHeader_name__eC-9E",status:"ProfileHeader_status__3eFw5",statusEditable:"ProfileHeader_statusEditable__1zcT5",editStatus:"ProfileHeader_editStatus__3STSD",editStatusButton:"ProfileHeader_editStatusButton__1nMSR"}},359:function(e,t,a){e.exports={dark:"OnlineIndicator_dark__1WoiS",onlineIndicator:"OnlineIndicator_onlineIndicator__2VEiW"}},360:function(e,t,a){e.exports={dark:"ProfileInfoData_dark__326VZ",profileInfoData:"ProfileInfoData_profileInfoData__1E3zZ",bio:"ProfileInfoData_bio__21H2f",profileInfoItems:"ProfileInfoData_profileInfoItems__Dmg5Y",item:"ProfileInfoData_item__1vIbm",itemTitle:"ProfileInfoData_itemTitle__1WxFM",itemIcon:"ProfileInfoData_itemIcon__1DULG",itemLabel:"ProfileInfoData_itemLabel__1r_GY",itemText:"ProfileInfoData_itemText__1dXE_"}},381:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(21),o=a(18),c=a(95),l=a(92),s=a(307),u=a(291),b=a(9),d=a(315),j=a.n(d),f=a(6),O=a.n(f);function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},m.apply(this,arguments)}function v(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var h=Object(r.forwardRef)((function(e,t){var a=e.color,r=e.size,i=v(e,["color","size"]);return n.a.createElement("svg",m({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:a},i),n.a.createElement("path",{d:"M10.5 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"}),n.a.createElement("path",{d:"M2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2zm.5 2a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm9 2.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0z"}))}));h.propTypes={color:O.a.string,size:O.a.oneOfType([O.a.string,O.a.number])},h.defaultProps={color:"currentColor",size:"1em"};var p=h,x=a.p+"static/media/cover-default.70b51b24.jpg",g=a(8),_=a(120),y=a(76),I=a(62),w=a(1),S=function(e){var t=e.img,a=void 0===t?x:t,n=e.owner,i=void 0!==n&&n,o=e.onCoverImageSubmit,c=Object(r.useState)(!1),l=Object(b.a)(c,2),s=l[0],u=l[1],d=Object(I.b)().tablet;Object(r.useEffect)((function(){u(!1)}),[a]);var f=function(){return u(!0)};return Object(w.jsxs)("div",{className:j.a.coverImage,children:[Object(w.jsxs)("div",{className:j.a.editCoverImageButton,children:[i&&!d&&Object(w.jsxs)(g.a,{type:"neutral",onClick:f,size:"sm",children:[Object(w.jsx)(g.a.Icon,{children:Object(w.jsx)(p,{width:15,height:15})}),Object(w.jsx)(g.a.Text,{children:"Edit Cover Image"})]}),i&&d&&Object(w.jsx)(g.a,{type:"neutral",onClick:f,size:"lg",children:Object(w.jsx)(g.a.Icon,{children:Object(w.jsx)(p,{width:20,height:20})})})]}),Object(w.jsx)(y.a,{open:s,children:Object(w.jsx)(_.a,{aspect:3.5,onSubmit:o,closeModal:function(){return u(!1)}})}),Object(w.jsx)("img",{className:j.a.image,src:a||x,alt:""})]})},P=a(115),z=a(73),N=a.n(z),C=a(316),D=a.n(C),k=a(49),E=a(17),M=a(91),H=function(e){var t=e.onSubmit,a=e.initialStatus;return Object(w.jsx)(E.a,{onSubmit:t,submitOnBlur:!0,initialValues:{status:a},submitOnEnter:!0,children:Object(w.jsx)(M.a,{name:"status",autoFocus:!0})})},T=a(54),B=a(280),V=function(e){var t=e.initialValues,a=e.onSubmit,r=e.closeModal;return Object(w.jsxs)(E.a,{onSubmit:function(e){a(e),r&&r()},initialValues:t,children:[Object(w.jsxs)(E.b,{children:[Object(w.jsx)(g.a,{size:"md",children:Object(w.jsx)(g.a.Text,{children:"Save"})}),Object(w.jsx)("div",{style:{marginLeft:"auto"},children:Object(w.jsx)(g.a,{onClick:function(e){e.preventDefault(),r&&r()},size:"md",type:"cancel",children:Object(w.jsx)(g.a.Text,{children:"Cancel"})})})]}),Object(w.jsx)(E.b,{children:Object(w.jsx)(M.a,{name:"firstName",label:"First name",rules:{required:!0}})}),Object(w.jsx)(E.b,{children:Object(w.jsx)(M.a,{name:"lastName",label:"Last name",rules:{required:!0}})}),Object(w.jsx)(E.b,{children:Object(w.jsx)(B.a,{name:"birthDate",label:"Birth date"})}),Object(w.jsxs)(E.b,{children:[Object(w.jsx)(M.a,{name:"location.country",label:"Country"}),Object(w.jsx)(M.a,{name:"location.city",label:"City"})]}),Object(w.jsx)(E.b,{children:Object(w.jsx)(M.a,{name:"bio",label:"Bio"})}),Object(w.jsx)(E.b,{children:Object(w.jsx)(M.a,{name:"contacts.website",label:"Website"})}),Object(w.jsx)(E.b,{children:Object(w.jsx)(M.a,{name:"contacts.vkontakte",label:"Vkontakte"})}),Object(w.jsx)(E.b,{children:Object(w.jsx)(M.a,{name:"contacts.github",label:"Github"})})]})},L=function(e){var t=e.closeModal,a=Object(i.c)((function(e){var t,a,r,n,i,o;return{firstName:null===(t=e.profile.user)||void 0===t?void 0:t.firstName,lastName:null===(a=e.profile.user)||void 0===a?void 0:a.lastName,birthDate:null===(r=e.profile.user)||void 0===r?void 0:r.birthDate,bio:null===(n=e.profile.user)||void 0===n?void 0:n.bio,location:null===(i=e.profile.user)||void 0===i?void 0:i.location,contacts:null===(o=e.profile.user)||void 0===o?void 0:o.contacts}})),r=Object(i.b)();Object(I.a)();return a?Object(w.jsx)(V,{closeModal:t,initialValues:a,onSubmit:function(e){r(Object(c.e)(e))}}):Object(w.jsx)(T.a,{})},A=a(252),W=a(359),F=a.n(W),R=function(e){var t=e.children;return Object(w.jsx)("div",{className:F.a.onlineIndicator,children:t})},q=function(e){var t=e.owner,a=void 0!==t&&t,n=e.firstName,i=e.lastName,o=e.status,c=e.avatar,l=e.onAvatarSubmit,s=e.onStatusUpdate,u=Object(r.useState)(!1),d=Object(b.a)(u,2),j=d[0],f=d[1],O=Object(r.useState)(o||"What is your status?"),m=Object(b.a)(O,2),v=m[0],h=m[1];Object(r.useEffect)((function(){h(o||"What is your status?")}),[o]);var p=Object(r.useState)(!1),x=Object(b.a)(p,2),_=x[0],y=x[1],S=function(){return y(!0)},z=Object(I.b)(),C=z.tablet,E=z.phoneTablet;return Object(w.jsxs)("div",{className:D.a.profileHeader,children:[Object(w.jsxs)("div",{className:D.a.avatar,children:[Object(w.jsx)(k.a,{smallImg:null===c||void 0===c?void 0:c.small,largeImg:null===c||void 0===c?void 0:c.large,border:!0,shadow:!0,size:E?Number.parseInt(N.a.avatarProfilePhoneTablet):Number.parseInt(N.a.avatarProfile),onEdit:a?l:void 0}),Object(w.jsx)("div",{className:D.a.onlineIndicator,children:Object(w.jsx)(R,{children:"Online"})})]}),Object(w.jsxs)("div",{className:D.a.profileHeaderInfo,children:[Object(w.jsxs)("div",{className:D.a.name,children:[n," ",i]}),a&&Object(w.jsxs)("div",{className:D.a.status,children:[Object(w.jsx)("div",{className:D.a.statusEditable,onClick:function(){f(!0)},children:v}),j&&Object(w.jsx)("div",{className:D.a.editStatus,children:Object(w.jsx)(H,{onSubmit:function(e){s(e.status),f(!1)},initialStatus:v})})]}),!a&&Object(w.jsx)("div",{className:D.a.status,children:o})]}),Object(w.jsx)("div",{className:D.a.editProfile,children:a&&Object(w.jsxs)("div",{children:[!C&&Object(w.jsxs)(g.a,{type:"secondary",onClick:S,size:"sm",children:[Object(w.jsx)(g.a.Icon,{children:Object(w.jsx)(A.a,{width:C?20:15,height:C?20:15})}),Object(w.jsx)(g.a.Text,{children:"Edit profile"})]}),C&&Object(w.jsx)(g.a,{type:"secondary",onClick:S,size:"lg",children:Object(w.jsx)(g.a.Icon,{children:Object(w.jsx)(A.a,{width:C?20:15,height:C?20:15})})}),Object(w.jsx)(P.a,{open:_,modal:!0,nested:!0,contentStyle:{borderRadius:5,padding:"20px"},closeOnDocumentClick:!1,children:Object(w.jsx)(L,{closeModal:function(){return y(!1)}})})]})})]})},G=a(360),J=a.n(G);function U(){return U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},U.apply(this,arguments)}function K(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Z=Object(r.forwardRef)((function(e,t){var a=e.color,r=e.size,i=K(e,["color","size"]);return n.a.createElement("svg",U({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:a},i),n.a.createElement("path",{d:"M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z"}),n.a.createElement("path",{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"}))}));Z.propTypes={color:O.a.string,size:O.a.oneOfType([O.a.string,O.a.number])},Z.defaultProps={color:"currentColor",size:"1em"};var Q=Z;function Y(){return Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Y.apply(this,arguments)}function X(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var $=Object(r.forwardRef)((function(e,t){var a=e.color,r=e.size,i=X(e,["color","size"]);return n.a.createElement("svg",Y({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:a},i),n.a.createElement("path",{d:"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z"}),n.a.createElement("path",{d:"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}))}));$.propTypes={color:O.a.string,size:O.a.oneOfType([O.a.string,O.a.number])},$.defaultProps={color:"currentColor",size:"1em"};var ee=$;function te(){return te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},te.apply(this,arguments)}function ae(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var re=Object(r.forwardRef)((function(e,t){var a=e.color,r=e.size,i=ae(e,["color","size"]);return n.a.createElement("svg",te({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:a},i),n.a.createElement("path",{d:"M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"}),n.a.createElement("path",{d:"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"}))}));re.propTypes={color:O.a.string,size:O.a.oneOfType([O.a.string,O.a.number])},re.defaultProps={color:"currentColor",size:"1em"};var ne=re,ie=a(262),oe=a(90),ce=function(e){var t=e.bio;return Object(w.jsx)(oe.b,{padding:"0 0 20px",children:Object(w.jsx)("div",{className:J.a.bio,children:t})})},le=function(e){var t=e.icon,a=e.label,r=e.link,i=e.iconSize,o=void 0===i?16:i,c=e.children;return Object(w.jsxs)("div",{className:J.a.item,children:[Object(w.jsxs)("div",{className:J.a.itemTitle,children:[!!t&&Object(w.jsx)("div",{className:J.a.itemIcon,children:n.a.createElement(t,{size:o})}),!!a&&Object(w.jsx)("div",{className:J.a.itemLabel,children:a})]}),!r&&Object(w.jsx)("span",{className:J.a.itemText,children:c}),!!r&&Object(w.jsx)("a",{href:r,className:J.a.itemLink,children:c})]})},se=function(e){var t=e.birthDate,a=e.location,r=e.contacts,n=e.bio;return Object(w.jsxs)("div",{className:J.a.profileInfoData,children:[n&&Object(w.jsx)(ce,{bio:n}),Object(w.jsxs)("div",{className:J.a.profileInfoItems,children:[!!t&&Object(w.jsx)(le,{icon:Q,iconSize:14,label:"Birthday",children:Object(ie.a)(t,"MMMM, D")}),!(null===a||void 0===a||!a.country)&&!(null===a||void 0===a||!a.city)&&Object(w.jsxs)(le,{icon:ee,iconSize:15,label:"Location",children:[a.country,", ",a.city]}),!(null===r||void 0===r||!r.website)&&Object(w.jsx)(le,{icon:ne,label:"Website",link:"http://"+r.website,children:r.website})]})]})},ue=a(47),be=function(e){var t=e.user,a=e.isOwner,r=e.onAvatarSubmit,n=e.onCoverImageSubmit,i=e.onStatusUpdate;return Object(w.jsxs)(ue.a,{children:[Object(w.jsx)(S,{owner:a,img:t.coverImage,onCoverImageSubmit:n}),Object(w.jsx)(q,{owner:a,firstName:t.firstName,lastName:t.lastName,status:t.status,avatar:t.avatar,onAvatarSubmit:r,onStatusUpdate:i}),Object(w.jsx)(se,{birthDate:t.birthDate,location:t.location,contacts:t.contacts,bio:t.bio})]})};t.default=function(){var e=Object(o.g)().username,t=Object(i.b)();Object(r.useEffect)((function(){e&&(t(Object(c.b)(e)),t(Object(l.j)(e)))}),[e,t]);var a=Object(i.c)((function(e){return e.auth.user})),n=Object(i.c)((function(e){return e.profile.user})),b=(null===a||void 0===a?void 0:a._id)===n._id,d=Object(i.c)((function(e){return e.posts.posts}));return a||e?a&&!e?Object(w.jsx)(o.a,{to:"/profile/".concat(a.username)}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(be,{user:n,isOwner:b,onAvatarSubmit:function(e,a){var r=new FormData;r.append("image",e),r.append("crop",JSON.stringify(a)),t(Object(c.c)(r))},onCoverImageSubmit:function(e,a){var r=new FormData;r.append("image",e),r.append("crop",JSON.stringify(a)),t(Object(c.d)(r))},onStatusUpdate:function(e){t(Object(c.f)(e))}}),b&&Object(w.jsx)(s.a,{}),Object(w.jsx)(u.a,{posts:d})]}):Object(w.jsx)(o.a,{to:"/login"})}}}]);
//# sourceMappingURL=7.7bf73ecf.chunk.js.map